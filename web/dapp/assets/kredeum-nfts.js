var kredeum_nfts=function(t){"use strict";function e(){}const r=t=>t;function n(t){return t()}function i(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function u(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function c(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function h(t){let e;return c(t,(t=>e=t))(),e}function f(t,e,r){t.$$.on_destroy.push(c(e,r))}function d(t,e,r,n){if(t){const i=p(t,e,r,n);return t[0](i)}}function p(t,e,r,n){return t[1]&&n?function(t,e){for(const r in e)t[r]=e[r];return t}(r.ctx.slice(),t[1](n(e))):r.ctx}function m(t,e,r,n){if(t[2]&&n){const i=t[2](n(r));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],r=Math.max(e.dirty.length,i.length);for(let n=0;n<r;n+=1)t[n]=e.dirty[n]|i[n];return t}return e.dirty|i}return e.dirty}function g(t,e,r,n,i,s){if(i){const o=p(e,r,n,s);t.p(o,i)}}function v(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let t=0;t<r;t++)e[t]=-1;return e}return-1}function y(t,e,r){return t.set(r),e}function b(t){return t&&o(t.destroy)?t.destroy:e}const w="undefined"!=typeof window;let E=w?()=>window.performance.now():()=>Date.now(),_=w?t=>requestAnimationFrame(t):e;const k=new Set;function N(t){k.forEach((e=>{e.c(t)||(k.delete(e),e.f())})),0!==k.size&&_(N)}function A(t,e){t.appendChild(e)}function x(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function I(t){const e=P("style");return function(t,e){A(t.head||t,e)}(x(t),e),e.sheet}function M(t,e,r){t.insertBefore(e,r||null)}function R(t){t.parentNode.removeChild(t)}function S(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function P(t){return document.createElement(t)}function T(t){return document.createTextNode(t)}function O(){return T(" ")}function $(){return T("")}function C(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function F(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e){t.value=null==e?"":e}function D(t,e,r,n){null===r?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function U(t,e,r){t.classList[r?"add":"remove"](e)}function j(t,e,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,!1,e),n}const z=new Map;let G,q=0;function H(t,e,r,n,i,s,o,a=0){const l=16.666/n;let u="{\n";for(let t=0;t<=1;t+=l){const n=e+(r-e)*s(t);u+=100*t+`%{${o(n,1-n)}}\n`}const c=u+`100% {${o(r,1-r)}}\n}`,h=`__svelte_${function(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}(c)}_${a}`,f=x(t),{stylesheet:d,rules:p}=z.get(f)||function(t,e){const r={stylesheet:I(e),rules:{}};return z.set(t,r),r}(f,t);p[h]||(p[h]=!0,d.insertRule(`@keyframes ${h} ${c}`,d.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${h} ${n}ms linear ${i}ms 1 both`,q+=1,h}function V(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=r.length-n.length;i&&(t.style.animation=n.join(", "),q-=i,q||_((()=>{q||(z.forEach((t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}})),z.clear())})))}function J(t){G=t}function W(){if(!G)throw new Error("Function called outside component initialization");return G}function X(t){W().$$.on_mount.push(t)}const K=[],Z=[],Y=[],Q=[],tt=Promise.resolve();let et=!1;function rt(t){Y.push(t)}function nt(t){Q.push(t)}const it=new Set;let st,ot=0;function at(){const t=G;do{for(;ot<K.length;){const t=K[ot];ot++,J(t),lt(t.$$)}for(J(null),K.length=0,ot=0;Z.length;)Z.pop()();for(let t=0;t<Y.length;t+=1){const e=Y[t];it.has(e)||(it.add(e),e())}Y.length=0}while(K.length);for(;Q.length;)Q.pop()();et=!1,it.clear(),J(t)}function lt(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}function ut(t,e,r){t.dispatchEvent(j(`${e?"intro":"outro"}${r}`))}const ct=new Set;let ht;function ft(){ht={r:0,c:[],p:ht}}function dt(){ht.r||s(ht.c),ht=ht.p}function pt(t,e){t&&t.i&&(ct.delete(t),t.i(e))}function mt(t,e,r,n){if(t&&t.o){if(ct.has(t))return;ct.add(t),ht.c.push((()=>{ct.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}const gt={duration:0};function vt(t,n,i,a){let l=n(t,i),u=a?0:1,c=null,h=null,f=null;function d(){f&&V(t,f)}function p(t,e){const r=t.b-u;return e*=Math.abs(r),{a:u,b:t.b,d:r,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(n){const{delay:i=0,duration:o=300,easing:a=r,tick:m=e,css:g}=l||gt,v={start:E()+i,b:n};n||(v.group=ht,ht.r+=1),c||h?h=v:(g&&(d(),f=H(t,u,n,o,i,a,g)),n&&m(0,1),c=p(v,o),rt((()=>ut(t,n,"start"))),function(t){let e;0===k.size&&_(N),new Promise((r=>{k.add(e={c:t,f:r})}))}((e=>{if(h&&e>h.start&&(c=p(h,o),h=null,ut(t,c.b,"start"),g&&(d(),f=H(t,u,c.b,c.duration,0,a,l.css))),c)if(e>=c.end)m(u=c.b,1-u),ut(t,c.b,"end"),h||(c.b?d():--c.group.r||s(c.group.c)),c=null;else if(e>=c.start){const t=e-c.start;u=c.a+c.d*a(t/c.duration),m(u,1-u)}return!(!c&&!h)})))}return{run(t){o(l)?(st||(st=Promise.resolve(),st.then((()=>{st=null}))),st).then((()=>{l=l(),m(t)})):m(t)},end(){d(),c=h=null}}}function yt(t,e,r){const n=t.$$.props[e];void 0!==n&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function bt(t){t&&t.c()}function wt(t,e,r,i){const{fragment:a,on_mount:l,on_destroy:u,after_update:c}=t.$$;a&&a.m(e,r),i||rt((()=>{const e=l.map(n).filter(o);u?u.push(...e):s(e),t.$$.on_mount=[]})),c.forEach(rt)}function Et(t,e){const r=t.$$;null!==r.fragment&&(s(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function _t(t,e){-1===t.$$.dirty[0]&&(K.push(t),et||(et=!0,tt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kt(t,r,n,o,a,l,u,c=[-1]){const h=G;J(t);const f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:i(),dirty:c,skip_bound:!1,root:r.target||h.$$.root};u&&u(f.root);let d=!1;if(f.ctx=n?n(t,r.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),d&&_t(t,e)),r})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!o&&o(f.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);f.fragment&&f.fragment.l(t),t.forEach(R)}else f.fragment&&f.fragment.c();r.intro&&pt(t.$$.fragment),wt(t,r.target,r.anchor,r.customElement),at()}J(h)}class Nt{$destroy(){Et(this,1),this.$destroy=e}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var At="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xt={exports:{}};(function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function o(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,l=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<i|s)).toString(16);n=0!=(s=a>>>24-i&16777215)||o!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=c[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,l="le"===e,u=new t(s),c=this.clone();if(l){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-i;a++)u[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[s-a-1]=o}return u},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,s,o=t.words,a=e.words,l=r.words,u=0,c=0|o[0],h=8191&c,f=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,E=b>>>13,_=0|o[4],k=8191&_,N=_>>>13,A=0|o[5],x=8191&A,I=A>>>13,M=0|o[6],R=8191&M,S=M>>>13,P=0|o[7],T=8191&P,O=P>>>13,$=0|o[8],C=8191&$,F=$>>>13,B=0|o[9],L=8191&B,D=B>>>13,U=0|a[0],j=8191&U,z=U>>>13,G=0|a[1],q=8191&G,H=G>>>13,V=0|a[2],J=8191&V,W=V>>>13,X=0|a[3],K=8191&X,Z=X>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,j)|0))<<13)|0;u=((s=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,q)|0))<<13)|0;u=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),i=(i=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,H)|0;var yt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(f,J)|0))<<13)|0;u=((s=s+Math.imul(f,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(E,j)|0,s=Math.imul(E,z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,q)|0,s=s+Math.imul(y,H)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,W)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(E,q)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),i=(i=Math.imul(x,z))+Math.imul(I,j)|0,s=Math.imul(I,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,W)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var Et=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var _t=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;u=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,H)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,W)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(n=n+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,lt)|0))<<13)|0;u=((s=s+Math.imul(f,ut)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(C,j),i=(i=Math.imul(C,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,nt)|0,n=n+Math.imul(v,st)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,s=s+Math.imul(m,ut)|0;var Nt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(F,q)|0,s=s+Math.imul(F,H)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var At=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(D,q)|0,s=Math.imul(D,H),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(F,J)|0,s=s+Math.imul(F,W)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(E,lt)|0,s=s+Math.imul(E,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ft)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,W))+Math.imul(D,J)|0,s=Math.imul(D,W),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(F,K)|0,s=s+Math.imul(F,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,i=(i=i+Math.imul(x,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(N,lt)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(E,ht)|0,s=s+Math.imul(E,ft)|0;var It=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,Z))+Math.imul(D,K)|0,s=Math.imul(D,Z),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(F,Q)|0,s=s+Math.imul(F,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,lt)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(I,lt)|0,s=s+Math.imul(I,ut)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Mt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((s=s+Math.imul(E,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,s=Math.imul(D,tt),n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(F,rt)|0,s=s+Math.imul(F,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(S,lt)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var Rt=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,s=Math.imul(D,nt),n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(F,st)|0,s=s+Math.imul(F,ot)|0,n=n+Math.imul(T,lt)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(O,lt)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ft)|0;var St=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(D,st)|0,s=Math.imul(D,ot),n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(F,lt)|0,s=s+Math.imul(F,ut)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ut))+Math.imul(D,lt)|0,s=Math.imul(D,ut),n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(F,ht)|0,s=s+Math.imul(F,ft)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(D,ht)|0,s=Math.imul(D,ft);var Ot=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((s=s+Math.imul(F,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var $t=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((s=Math.imul(D,mt))+(i>>>13)|0)+($t>>>26)|0,$t&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=Et,l[6]=_t,l[7]=kt,l[8]=Nt,l[9]=At,l[10]=xt,l[11]=It,l[12]=Mt,l[13]=Rt,l[14]=St,l[15]=Pt,l[16]=Tt,l[17]=Ot,l[18]=$t,0!==u&&(l[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,l=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=l;u++){var c=s-u,h=(0|t.words[c])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},m.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=l,f=u,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],v=n[c+d+o],y=h*g-f*v;v=h*v+f*g,g=y,r[c+d]=p+g,n[c+d]=m+v,r[c+d+o]=p-g,n[c+d+o]=m-v,d!==a&&(y=l*h-u*f,f=l*f+u*h,h=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(0==(-8192&s))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,l,n,i),this.transform(u,s,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-l[d]*h[d];l[d]=a[d]*h[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,n),this.transform(a,l,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,l=(0|this.words[e])-a<<n;this.words[e]=l|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,l=n;if(i-=o,i=Math.max(0,i),l){for(var u=0;u<o;u++)l.words[u]=this.words[u];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-s|h>>>s,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var l=(0|t.words[i])*e;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!=(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,l=n.length-s.length;if("mod"!==e){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(s,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|n.words[s.length+h])+(0|n.words[s.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(s,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(s,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),l=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(h)),s.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(l)):(n.isub(e),a.isub(s),l.isub(o))}return{a:a,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s,o=new i(1),a=new i(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(s=0===e.cmpn(1)?o:a).cmpn(0)<0&&s.iadd(t),s},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(w,v),n(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,s),f=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=l-1;c>=0;c--){var h=u>>c&1;s!==r[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,(4==++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}l=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}})(xt,At);var It=xt.exports;let Mt=!1,Rt=!1;const St={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pt=St.default,Tt=null;const Ot=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var $t,Ct;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}($t||($t={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ct||(Ct={}));const Ft="0123456789abcdef";class Bt{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==St[r]&&this.throwArgumentError("invalid log level name","logLevel",t),Pt>St[r]||console.log.apply(console,e)}debug(...t){this._log(Bt.levels.DEBUG,t)}info(...t){this._log(Bt.levels.INFO,t)}warn(...t){this._log(Bt.levels.WARNING,t)}makeError(t,e,r){if(Rt)return this.makeError("censored error",e,{});e||(e=Bt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Ft[e[t]>>4],r+=Ft[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Ct.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Ct.CALL_EXCEPTION:case Ct.INSUFFICIENT_FUNDS:case Ct.MISSING_NEW:case Ct.NONCE_EXPIRED:case Ct.REPLACEMENT_UNDERPRICED:case Ct.TRANSACTION_REPLACED:case Ct.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Bt.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Ot&&this.throwError("platform missing String.prototype.normalize",Bt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ot})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Bt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Bt.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Bt.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Bt.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Bt.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Bt.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Tt||(Tt=new Bt("logger/5.6.0")),Tt}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Mt){if(!t)return;this.globalLogger().throwError("error censorship permanent",Bt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rt=!!t,Mt=!!e}static setLogLevel(t){const e=St[t.toLowerCase()];null!=e?Pt=e:Bt.globalLogger().warn("invalid log level - "+t)}static from(t){return new Bt(t)}}Bt.errors=Ct,Bt.levels=$t;const Lt=new Bt("bytes/5.6.1");function Dt(t){return!!t.toHexString}function Ut(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ut(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function jt(t){return Jt(t)&&!(t.length%2)||Gt(t)}function zt(t){return"number"==typeof t&&t==t&&t%1==0}function Gt(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!zt(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!zt(r)||r<0||r>=256)return!1}return!0}function qt(t,e){if(e||(e={}),"number"==typeof t){Lt.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Ut(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Dt(t)&&(t=t.toHexString()),Jt(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Lt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Ut(new Uint8Array(n))}return Gt(t)?Ut(new Uint8Array(t)):Lt.throwArgumentError("invalid arrayify value","value",t)}function Ht(t){const e=t.map((t=>qt(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Ut(n)}function Vt(t){let e=qt(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Jt(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Wt="0123456789abcdef";function Xt(t,e){if(e||(e={}),"number"==typeof t){Lt.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Wt[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Dt(t))return t.toHexString();if(Jt(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Lt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Gt(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Wt[(240&n)>>4]+Wt[15&n]}return e}return Lt.throwArgumentError("invalid hexlify value","value",t)}function Kt(t){if("string"!=typeof t)t=Xt(t);else if(!Jt(t)||t.length%2)return null;return(t.length-2)/2}function Zt(t,e,r){return"string"!=typeof t?t=Xt(t):(!Jt(t)||t.length%2)&&Lt.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Yt(t){let e="0x";return t.forEach((t=>{e+=Xt(t).substring(2)})),e}function Qt(t){const e=function(t){"string"!=typeof t&&(t=Xt(t));Jt(t)||Lt.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(Xt(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function te(t,e){for("string"!=typeof t?t=Xt(t):Jt(t)||Lt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Lt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function ee(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(jt(t)){let r=qt(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Xt(r.slice(0,32)),e.s=Xt(r.slice(32,64))):65===r.length?(e.r=Xt(r.slice(0,32)),e.s=Xt(r.slice(32,64)),e.v=r[64]):Lt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Lt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Xt(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=qt(t)).length>e&&Lt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ut(r)}(qt(e._vs),32);e._vs=Xt(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Lt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=Xt(r);null==e.s?e.s=i:e.s!==i&&Lt.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Lt.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Lt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Jt(e.r)?e.r=te(e.r,32):Lt.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Jt(e.s)?e.s=te(e.s,32):Lt.throwArgumentError("signature missing or invalid s","signature",t);const r=qt(e.s);r[0]>=128&&Lt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Xt(r);e._vs&&(Jt(e._vs)||Lt.throwArgumentError("signature invalid _vs","signature",t),e._vs=te(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Lt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var re=It.BN;const ne=new Bt("bignumber/5.6.0"),ie={},se=9007199254740991;let oe=!1;class ae{constructor(t,e){ne.checkNew(new.target,ae),t!==ie&&ne.throwError("cannot call constructor directly; use BigNumber.from",Bt.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ue(ce(this).fromTwos(t))}toTwos(t){return ue(ce(this).toTwos(t))}abs(){return"-"===this._hex[0]?ae.from(this._hex.substring(1)):this}add(t){return ue(ce(this).add(ce(t)))}sub(t){return ue(ce(this).sub(ce(t)))}div(t){return ae.from(t).isZero()&&he("division-by-zero","div"),ue(ce(this).div(ce(t)))}mul(t){return ue(ce(this).mul(ce(t)))}mod(t){const e=ce(t);return e.isNeg()&&he("division-by-zero","mod"),ue(ce(this).umod(e))}pow(t){const e=ce(t);return e.isNeg()&&he("negative-power","pow"),ue(ce(this).pow(e))}and(t){const e=ce(t);return(this.isNegative()||e.isNeg())&&he("unbound-bitwise-result","and"),ue(ce(this).and(e))}or(t){const e=ce(t);return(this.isNegative()||e.isNeg())&&he("unbound-bitwise-result","or"),ue(ce(this).or(e))}xor(t){const e=ce(t);return(this.isNegative()||e.isNeg())&&he("unbound-bitwise-result","xor"),ue(ce(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&he("negative-width","mask"),ue(ce(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&he("negative-width","shl"),ue(ce(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&he("negative-width","shr"),ue(ce(this).shrn(t))}eq(t){return ce(this).eq(ce(t))}lt(t){return ce(this).lt(ce(t))}lte(t){return ce(this).lte(ce(t))}gt(t){return ce(this).gt(ce(t))}gte(t){return ce(this).gte(ce(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ce(this).isZero()}toNumber(){try{return ce(this).toNumber()}catch(t){he("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return ne.throwError("this platform does not support BigInt",Bt.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?oe||(oe=!0,ne.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?ne.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Bt.errors.UNEXPECTED_ARGUMENT,{}):ne.throwError("BigNumber.toString does not accept parameters",Bt.errors.UNEXPECTED_ARGUMENT,{})),ce(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof ae)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new ae(ie,le(t)):t.match(/^-?[0-9]+$/)?new ae(ie,le(new re(t))):ne.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&he("underflow","BigNumber.from",t),(t>=se||t<=-se)&&he("overflow","BigNumber.from",t),ae.from(String(t));const e=t;if("bigint"==typeof e)return ae.from(e.toString());if(Gt(e))return ae.from(Xt(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return ae.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Jt(t)||"-"===t[0]&&Jt(t.substring(1))))return ae.from(t)}return ne.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function le(t){if("string"!=typeof t)return le(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&ne.throwArgumentError("invalid hex","value",t),"0x00"===(t=le(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function ue(t){return ae.from(le(t))}function ce(t){const e=ae.from(t).toHexString();return"-"===e[0]?new re("-"+e.substring(3),16):new re(e.substring(2),16)}function he(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),ne.throwError(t,Bt.errors.NUMERIC_FAULT,n)}var fe=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const de=new Bt("properties/5.6.0");function pe(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function me(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function ge(t){return fe(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function ve(t){const e={};for(const r in t)e[r]=t[r];return e}const ye={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function be(t){if(null==t||ye[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!be(n))return!1}return!0}return de.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function we(t){if(be(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>Ee(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&pe(e,r,Ee(n))}return e}return de.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Ee(t){return we(t)}class _e{constructor(t){for(const e in t)this[e]=Ee(t[e])}}const ke="abi/5.6.0",Ne=new Bt(ke),Ae={};let xe={calldata:!0,memory:!0,storage:!0},Ie={calldata:!0,memory:!0};function Me(t,e){if("bytes"===t||"string"===t){if(xe[e])return!0}else if("address"===t){if("payable"===e)return!0}else if((t.indexOf("[")>=0||"tuple"===t)&&Ie[e])return!0;return(xe[e]||"payable"===e)&&Ne.throwArgumentError("invalid modifier","name",e),!1}function Re(t,e){for(let r in e)pe(t,r,e[r])}const Se=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Pe=new RegExp(/^(.*)\[([0-9]*)\]$/);class Te{constructor(t,e){t!==Ae&&Ne.throwError("use fromString",Bt.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Re(this,e);let r=this.type.match(Pe);Re(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Te.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(t){if(t||(t=Se.sighash),Se[t]||Ne.throwArgumentError("invalid format type","format",t),t===Se.json){let e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(e)}let e="";return"array"===this.baseType?(e+=this.arrayChildren.format(t),e+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(t!==Se.sighash&&(e+=this.type),e+="("+this.components.map((e=>e.format(t))).join(t===Se.full?", ":",")+")"):e+=this.type,t!==Se.sighash&&(!0===this.indexed&&(e+=" indexed"),t===Se.full&&this.name&&(e+=" "+this.name)),e}static from(t,e){return"string"==typeof t?Te.fromString(t,e):Te.fromObject(t)}static fromObject(t){return Te.isParamType(t)?t:new Te(Ae,{name:t.name||null,type:Ge(t.type),indexed:null==t.indexed?null:!!t.indexed,components:t.components?t.components.map(Te.fromObject):null})}static fromString(t,e){return r=function(t,e){let r=t;function n(e){Ne.throwArgumentError(`unexpected character at position ${e}`,"param",t)}function i(t){let r={type:"",name:"",parent:t,state:{allowType:!0}};return e&&(r.indexed=!1),r}t=t.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let r=0;r<t.length;r++){let s=t[r];switch(s){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=Ge(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(e||n(r),o.indexed=!0,o.name=""),Me(o.type,o.name)&&(o.name=""),o.type=Ge(o.type);let t=o;o=o.parent,o||n(r),delete t.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(e||n(r),o.indexed=!0,o.name=""),Me(o.type,o.name)&&(o.name=""),o.type=Ge(o.type);let a=i(o.parent);o.parent.components.push(a),delete o.parent,o=a;break;case" ":o.state.allowType&&""!==o.type&&(o.type=Ge(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(e||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):Me(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=s,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=s,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=s,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=s,delete o.state.allowArray):o.state.readArray?o.type+=s:n(r)}}return o.parent&&Ne.throwArgumentError("unexpected eof","param",t),delete s.state,"indexed"===o.name?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Me(o.type,o.name)&&(o.name=""),s.type=Ge(s.type),s}(t,!!e),Te.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(t){return!(null==t||!t._isParamType)}}function Oe(t,e){return function(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];","===s&&0===n?(e.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&Ne.throwArgumentError("unbalanced parenthesis","value",t)))}r&&e.push(r);return e}(t).map((t=>Te.fromString(t,e)))}class $e{constructor(t,e){t!==Ae&&Ne.throwError("use a static from method",Bt.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Re(this,e),this._isFragment=!0,Object.freeze(this)}static from(t){return $e.isFragment(t)?t:"string"==typeof t?$e.fromString(t):$e.fromObject(t)}static fromObject(t){if($e.isFragment(t))return t;switch(t.type){case"function":return Ue.fromObject(t);case"event":return Ce.fromObject(t);case"constructor":return De.fromObject(t);case"error":return ze.fromObject(t);case"fallback":case"receive":return null}return Ne.throwArgumentError("invalid fragment object","value",t)}static fromString(t){return"event"===(t=(t=(t=t.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Ce.fromString(t.substring(5).trim()):"function"===t.split(" ")[0]?Ue.fromString(t.substring(8).trim()):"constructor"===t.split("(")[0].trim()?De.fromString(t.trim()):"error"===t.split(" ")[0]?ze.fromString(t.substring(5).trim()):Ne.throwArgumentError("unsupported fragment","value",t)}static isFragment(t){return!(!t||!t._isFragment)}}class Ce extends $e{format(t){if(t||(t=Se.sighash),Se[t]||Ne.throwArgumentError("invalid format type","format",t),t===Se.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Se.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Se.full?", ":",")+") ",t!==Se.sighash&&this.anonymous&&(e+="anonymous "),e.trim()}static from(t){return"string"==typeof t?Ce.fromString(t):Ce.fromObject(t)}static fromObject(t){if(Ce.isEventFragment(t))return t;"event"!==t.type&&Ne.throwArgumentError("invalid event object","value",t);const e={name:He(t.name),anonymous:t.anonymous,inputs:t.inputs?t.inputs.map(Te.fromObject):[],type:"event"};return new Ce(Ae,e)}static fromString(t){let e=t.match(Ve);e||Ne.throwArgumentError("invalid event string","value",t);let r=!1;return e[3].split(" ").forEach((t=>{switch(t.trim()){case"anonymous":r=!0;break;case"":break;default:Ne.warn("unknown modifier: "+t)}})),Ce.fromObject({name:e[1].trim(),anonymous:r,inputs:Oe(e[2],!0),type:"event"})}static isEventFragment(t){return t&&t._isFragment&&"event"===t.type}}function Fe(t,e){e.gas=null;let r=t.split("@");return 1!==r.length?(r.length>2&&Ne.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ne.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=ae.from(r[1]),r[0]):t}function Be(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach((t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}}))}function Le(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return null!=t.stateMutability?(e.stateMutability=t.stateMutability,e.constant="view"===e.stateMutability||"pure"===e.stateMutability,null!=t.constant&&!!t.constant!==e.constant&&Ne.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable="payable"===e.stateMutability,null!=t.payable&&!!t.payable!==e.payable&&Ne.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):null!=t.payable?(e.payable=!!t.payable,null!=t.constant||e.payable||"constructor"===t.type||Ne.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ne.throwArgumentError("cannot have constant payable function","value",t)):null!=t.constant?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):"constructor"!==t.type&&Ne.throwArgumentError("unable to determine stateMutability","value",t),e}class De extends $e{format(t){if(t||(t=Se.sighash),Se[t]||Ne.throwArgumentError("invalid format type","format",t),t===Se.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});t===Se.sighash&&Ne.throwError("cannot format a constructor for sighash",Bt.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let e="constructor("+this.inputs.map((e=>e.format(t))).join(t===Se.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()}static from(t){return"string"==typeof t?De.fromString(t):De.fromObject(t)}static fromObject(t){if(De.isConstructorFragment(t))return t;"constructor"!==t.type&&Ne.throwArgumentError("invalid constructor object","value",t);let e=Le(t);e.constant&&Ne.throwArgumentError("constructor cannot be constant","value",t);const r={name:null,type:t.type,inputs:t.inputs?t.inputs.map(Te.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ae.from(t.gas):null};return new De(Ae,r)}static fromString(t){let e={type:"constructor"},r=(t=Fe(t,e)).match(Ve);return r&&"constructor"===r[1].trim()||Ne.throwArgumentError("invalid constructor string","value",t),e.inputs=Oe(r[2].trim(),!1),Be(r[3].trim(),e),De.fromObject(e)}static isConstructorFragment(t){return t&&t._isFragment&&"constructor"===t.type}}class Ue extends De{format(t){if(t||(t=Se.sighash),Se[t]||Ne.throwArgumentError("invalid format type","format",t),t===Se.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Se.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Se.full?", ":",")+") ",t!==Se.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map((e=>e.format(t))).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim()}static from(t){return"string"==typeof t?Ue.fromString(t):Ue.fromObject(t)}static fromObject(t){if(Ue.isFunctionFragment(t))return t;"function"!==t.type&&Ne.throwArgumentError("invalid function object","value",t);let e=Le(t);const r={type:t.type,name:He(t.name),constant:e.constant,inputs:t.inputs?t.inputs.map(Te.fromObject):[],outputs:t.outputs?t.outputs.map(Te.fromObject):[],payable:e.payable,stateMutability:e.stateMutability,gas:t.gas?ae.from(t.gas):null};return new Ue(Ae,r)}static fromString(t){let e={type:"function"},r=(t=Fe(t,e)).split(" returns ");r.length>2&&Ne.throwArgumentError("invalid function string","value",t);let n=r[0].match(Ve);if(n||Ne.throwArgumentError("invalid function signature","value",t),e.name=n[1].trim(),e.name&&He(e.name),e.inputs=Oe(n[2],!1),Be(n[3].trim(),e),r.length>1){let n=r[1].match(Ve);""==n[1].trim()&&""==n[3].trim()||Ne.throwArgumentError("unexpected tokens","value",t),e.outputs=Oe(n[2],!1)}else e.outputs=[];return Ue.fromObject(e)}static isFunctionFragment(t){return t&&t._isFragment&&"function"===t.type}}function je(t){const e=t.format();return"Error(string)"!==e&&"Panic(uint256)"!==e||Ne.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class ze extends $e{format(t){if(t||(t=Se.sighash),Se[t]||Ne.throwArgumentError("invalid format type","format",t),t===Se.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});let e="";return t!==Se.sighash&&(e+="error "),e+=this.name+"("+this.inputs.map((e=>e.format(t))).join(t===Se.full?", ":",")+") ",e.trim()}static from(t){return"string"==typeof t?ze.fromString(t):ze.fromObject(t)}static fromObject(t){if(ze.isErrorFragment(t))return t;"error"!==t.type&&Ne.throwArgumentError("invalid error object","value",t);const e={type:t.type,name:He(t.name),inputs:t.inputs?t.inputs.map(Te.fromObject):[]};return je(new ze(Ae,e))}static fromString(t){let e={type:"error"},r=t.match(Ve);return r||Ne.throwArgumentError("invalid error signature","value",t),e.name=r[1].trim(),e.name&&He(e.name),e.inputs=Oe(r[2],!1),je(ze.fromObject(e))}static isErrorFragment(t){return t&&t._isFragment&&"error"===t.type}}function Ge(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const qe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function He(t){return t&&t.match(qe)||Ne.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const Ve=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const Je=new Bt(ke);class We{constructor(t,e,r,n){this.name=t,this.type=e,this.localName=r,this.dynamic=n}_throwError(t,e){Je.throwArgumentError(t,this.localName,e)}}class Xe{constructor(t){pe(this,"wordSize",t||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(t)}get data(){return Yt(this._data)}get length(){return this._dataLength}_writeData(t){return this._data.push(t),this._dataLength+=t.length,t.length}appendWriter(t){return this._writeData(Ht(t._data))}writeBytes(t){let e=qt(t);const r=e.length%this.wordSize;return r&&(e=Ht([e,this._padding.slice(r)])),this._writeData(e)}_getValue(t){let e=qt(ae.from(t));return e.length>this.wordSize&&Je.throwError("value out-of-bounds",Bt.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e.length%this.wordSize&&(e=Ht([this._padding.slice(e.length%this.wordSize),e])),e}writeValue(t){return this._writeData(this._getValue(t))}writeUpdatableValue(){const t=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,e=>{this._data[t]=this._getValue(e)}}}class Ke{constructor(t,e,r,n){pe(this,"_data",qt(t)),pe(this,"wordSize",e||32),pe(this,"_coerceFunc",r),pe(this,"allowLoose",n),this._offset=0}get data(){return Xt(this._data)}get consumed(){return this._offset}static coerce(t,e){let r=t.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(e=e.toNumber()),e}coerce(t,e){return this._coerceFunc?this._coerceFunc(t,e):Ke.coerce(t,e)}_peekBytes(t,e,r){let n=Math.ceil(e/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+e<=this._data.length?n=e:Je.throwError("data out-of-bounds",Bt.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(t){return new Ke(this._data.slice(this._offset+t),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(t,e){let r=this._peekBytes(0,t,!!e);return this._offset+=r.length,r.slice(0,t)}readValue(){return ae.from(this.readBytes(this.wordSize))}}var Ze={exports:{}};
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=At:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),l=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!o||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new S(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new S(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,s){return _["cshake"+t].update(e,n,i,s)[r]()}},y=function(t,e,r){return function(e,n,i,s){return _["kmac"+t].update(e,n,i,s)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new S(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},E=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new S(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,s){return i||s?new S(t,e,n).bytepad([i,s],r):_["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return new P(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],_={},k=[],N=0;N<E.length;++N)for(var A=E[N],x=A.bits,I=0;I<x.length;++I){var M=A.name+"_"+x[I];if(k.push(M),_[M]=A.createMethod(x[I],A.padding),"sha3"!==A.name){var R=A.name+x[I];k.push(R),_[R]=_[M]}}function S(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(t,e,r){S.call(this,t,e,r)}S.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,l=this.byteCount,c=t.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<c&&i<l;++f)a[i>>2]|=t[f]<<u[3&i++];else for(i=this.start;f<c&&i<l;++f)(s=t.charCodeAt(f))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=l){for(this.start=i-l,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];T(d),this.reset=!0}else this.start=i}return this},S.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},S.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var l=t.charCodeAt(a);l<128?i+=1:l<2048?i+=2:l<55296||l>=57344?i+=3:(l=65536+((1023&l)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},S.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];T(n)}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,l="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],l+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(T(r),s=0)}return i&&(t=r[s],l+=a[t>>4&15]+a[15&t],i>1&&(l+=a[t>>12&15]+a[t>>8&15]),i>2&&(l+=a[t>>20&15]+a[t>>16&15])),l},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)l[o]=r[s];o%e==0&&T(r)}return i&&(l[s]=r[s],t=t.slice(0,a)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,l=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],l[t]=255&e,l[t+1]=e>>8&255,l[t+2]=e>>16&255,l[t+3]=e>>24&255;a%r==0&&T(n)}return s&&(t=a<<2,e=n[o],l[t]=255&e,s>1&&(l[t+1]=e>>8&255),s>2&&(l[t+2]=e>>16&255)),l},P.prototype=new S,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var T=function(t){var e,r,n,i,s,o,a,l,u,h,f,d,p,m,g,v,y,b,w,E,_,k,N,A,x,I,M,R,S,P,T,O,$,C,F,B,L,D,U,j,z,G,q,H,V,J,W,X,K,Z,Y,Q,tt,et,rt,nt,it,st,ot,at,lt,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],l=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(l<<1|u>>>31),r=s^(u<<1|l>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=l^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=f^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],J=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,R=t[20]<<3|t[21]>>>29,S=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,lt=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,C=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,X=t[22]<<10|t[23]>>>22,K=t[23]<<10|t[22]>>>22,P=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,$=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,E=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,V=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,N=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=A^~I&R,t[11]=x^~M&S,t[20]=C^~B&D,t[21]=F^~L&U,t[30]=H^~J&X,t[31]=V^~W&K,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=v^~b&E,t[3]=y^~w&_,t[12]=I^~R&P,t[13]=M^~S&T,t[22]=B^~D&j,t[23]=L^~U&z,t[32]=J^~X&Z,t[33]=W^~K&Y,t[42]=nt^~st&at,t[43]=it^~ot&lt,t[4]=b^~E&k,t[5]=w^~_&N,t[14]=R^~P&O,t[15]=S^~T&$,t[24]=D^~j&G,t[25]=U^~z&q,t[34]=X^~Z&Q,t[35]=K^~Y&tt,t[44]=st^~at&ut,t[45]=ot^~lt&ct,t[6]=E^~k&m,t[7]=_^~N&g,t[16]=P^~O&A,t[17]=T^~$&x,t[26]=j^~G&C,t[27]=z^~q&F,t[36]=Z^~Q&H,t[37]=Y^~tt&V,t[46]=at^~ut&et,t[47]=lt^~ct&rt,t[8]=k^~m&v,t[9]=N^~g&y,t[18]=O^~A&I,t[19]=$^~x&M,t[28]=G^~C&B,t[29]=q^~F&L,t[38]=Q^~H&J,t[39]=tt^~V&W,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(s)t.exports=_;else for(N=0;N<k.length;++N)n[k[N]]=_[k[N]]}()}(Ze);var Ye=Ze.exports;function Qe(t){return"0x"+Ye.keccak_256(qt(t))}const tr=new Bt("rlp/5.6.0");function er(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function rr(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function nr(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(nr(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=er(e.length);return r.unshift(247+r.length),r.concat(e)}jt(t)||tr.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(qt(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=er(e.length);return r.unshift(183+r.length),r.concat(e)}function ir(t){return Xt(nr(t))}function sr(t,e,r,n){const i=[];for(;r<e+1+n;){const s=or(t,r);i.push(s.result),(r+=s.consumed)>e+1+n&&tr.throwError("child data too short",Bt.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function or(t,e){if(0===t.length&&tr.throwError("data too short",Bt.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&tr.throwError("data short segment too short",Bt.errors.BUFFER_OVERRUN,{});const n=rr(t,e+1,r);return e+1+r+n>t.length&&tr.throwError("data long segment too short",Bt.errors.BUFFER_OVERRUN,{}),sr(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&tr.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{}),sr(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&tr.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{});const n=rr(t,e+1,r);e+1+r+n>t.length&&tr.throwError("data array too short",Bt.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Xt(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&tr.throwError("data too short",Bt.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Xt(t.slice(e+1,e+1+r))}}return{consumed:1,result:Xt(t[e])}}function ar(t){const e=qt(t),r=or(e,0);return r.consumed!==e.length&&tr.throwArgumentError("invalid rlp data","data",t),r.result}const lr=new Bt("address/5.6.0");function ur(t){Jt(t,20)||lr.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=qt(Qe(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const cr={};for(let t=0;t<10;t++)cr[String(t)]=String(t);for(let t=0;t<26;t++)cr[String.fromCharCode(65+t)]=String(10+t);const hr=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function fr(t){let e=null;if("string"!=typeof t&&lr.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=ur(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&lr.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>cr[t])).join("");for(;e.length>=hr;){let t=e.substring(0,hr);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&lr.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new re(r,36).toString(16);e.length<40;)e="0"+e;e=ur("0x"+e)}else lr.throwArgumentError("invalid address","address",t);var r;return e}function dr(t){let e=null;try{e=fr(t.from)}catch(e){lr.throwArgumentError("missing from address","transaction",t)}return fr(Zt(Qe(ir([e,Vt(qt(ae.from(t.nonce).toHexString()))])),12))}class pr extends We{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){try{e=fr(e)}catch(t){this._throwError(t.message,e)}return t.writeValue(e)}decode(t){return fr(te(t.readValue().toHexString(),20))}}class mr extends We{constructor(t){super(t.name,t.type,void 0,t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}const gr=new Bt(ke);function vr(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return n||gr.throwError("cannot encode object for signature with missing names",Bt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]&&gr.throwError("cannot encode object for signature with duplicate names",Bt.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),t[n]=!0,r[n]}))}else gr.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&gr.throwArgumentError("types/value length mismatch","tuple",r);let i=new Xe(t.wordSize),s=new Xe(t.wordSize),o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=s.length;t.encode(s,r);let n=i.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(i,r)})),o.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function yr(t,e){let r=[],n=t.subReader(0);e.forEach((e=>{let i=null;if(e.dynamic){let r=t.readValue(),s=n.subReader(r.toNumber());try{i=e.decode(s)}catch(t){if(t.code===Bt.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(t){if(t.code===Bt.errors.BUFFER_OVERRUN)throw t;i=t,i.baseType=e.name,i.name=e.localName,i.type=e.type}null!=i&&r.push(i)}));const i=e.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});e.forEach(((t,e)=>{let n=t.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[e];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s}));for(let t=0;t<r.length;t++){const e=r[t];e instanceof Error&&Object.defineProperty(r,t,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class br extends We{constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),this.coder=t,this.length=e}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){Array.isArray(e)||this._throwError("expected array value",e);let r=this.length;-1===r&&(r=e.length,t.writeValue(e.length)),gr.checkArgumentCount(e.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let t=0;t<e.length;t++)n.push(this.coder);return vr(t,n,e)}decode(t){let e=this.length;-1===e&&(e=t.readValue().toNumber(),32*e>t._data.length&&gr.throwError("insufficient data length",Bt.errors.BUFFER_OVERRUN,{length:t._data.length,count:e}));let r=[];for(let t=0;t<e;t++)r.push(new mr(this.coder));return t.coerce(this.name,yr(t,r))}}class wr extends We{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){return t.writeValue(e?1:0)}decode(t){return t.coerce(this.type,!t.readValue().isZero())}}class Er extends We{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=qt(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readValue().toNumber(),!0)}}class _r extends Er{constructor(t){super("bytes",t)}decode(t){return t.coerce(this.name,Xt(super.decode(t)))}}class kr extends We{constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),this.size=t}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=qt(e);return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return t.coerce(this.name,Xt(t.readBytes(this.size)))}}class Nr extends We{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes([])}decode(t){return t.readBytes(0),t.coerce(this.name,null)}}const Ar=ae.from(-1),xr=ae.from(0),Ir=ae.from(1),Mr=ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Rr extends We{constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),this.size=t,this.signed=e}defaultValue(){return 0}encode(t,e){let r=ae.from(e),n=Mr.mask(8*t.wordSize);if(this.signed){let t=n.mask(8*this.size-1);(r.gt(t)||r.lt(t.add(Ir).mul(Ar)))&&this._throwError("value out-of-bounds",e)}else(r.lt(xr)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",e);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*t.wordSize)),t.writeValue(r)}decode(t){let e=t.readValue().mask(8*this.size);return this.signed&&(e=e.fromTwos(8*this.size)),t.coerce(this.name,e)}}const Sr=new Bt("strings/5.6.0");var Pr,Tr;function Or(t,e,r,n,i){if(t===Tr.BAD_PREFIX||t===Tr.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Tr.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Pr||(Pr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Tr||(Tr={}));const $r=Object.freeze({error:function(t,e,r,n,i){return Sr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Or,replace:function(t,e,r,n,i){return t===Tr.OVERLONG?(n.push(i),0):(n.push(65533),Or(t,e,r))}});function Cr(t,e){null==e&&(e=$r.error),t=qt(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let s=null,o=null;if(192==(224&i))s=1,o=127;else if(224==(240&i))s=2,o=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?Tr.UNEXPECTED_CONTINUE:Tr.BAD_PREFIX,n-1,t,r);continue}s=3,o=65535}if(n-1+s>=t.length){n+=e(Tr.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=t[n];if(128!=(192&i)){n+=e(Tr.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Tr.OUT_OF_RANGE,n-1-s,t,r,a):a>=55296&&a<=57343?n+=e(Tr.UTF16_SURROGATE,n-1-s,t,r,a):a<=o?n+=e(Tr.OVERLONG,n-1-s,t,r,a):r.push(a))}return r}function Fr(t,e=Pr.current){e!=Pr.current&&(Sr.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return qt(r)}function Br(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Lr(t,e){return Br(Cr(t,e))}function Dr(t,e=Pr.current){return Cr(Fr(t,e))}function Ur(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function jr(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function zr(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const Gr=jr("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),qr="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Hr=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Vr=Ur("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Jr=Ur("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Wr=Ur("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Xr=jr("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Kr(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Dr(t);var r;r=e.map((t=>{if(qr.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=zr(t,Hr);if(e)return[t+e.s];let r=Vr[t];if(r)return r;let n=Jr[t];return n?[t+n[0]]:Wr[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Dr(Br(e),Pr.NFKC),e.forEach((t=>{if(zr(t,Xr))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(zr(t,Gr))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=Br(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}class Zr extends Er{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,Fr(e))}decode(t){return Lr(super.decode(t))}}class Yr extends We{constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),this.coders=t}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){return vr(t,this.coders,e)}decode(t){return t.coerce(this.name,yr(t,this.coders))}}const Qr=new Bt(ke),tn=new RegExp(/^bytes([0-9]*)$/),en=new RegExp(/^(u?int)([0-9]*)$/);class rn{constructor(t){Qr.checkNew(new.target,rn),pe(this,"coerceFunc",t||null)}_getCoder(t){switch(t.baseType){case"address":return new pr(t.name);case"bool":return new wr(t.name);case"string":return new Zr(t.name);case"bytes":return new _r(t.name);case"array":return new br(this._getCoder(t.arrayChildren),t.arrayLength,t.name);case"tuple":return new Yr((t.components||[]).map((t=>this._getCoder(t))),t.name);case"":return new Nr(t.name)}let e=t.type.match(en);if(e){let r=parseInt(e[2]||"256");return(0===r||r>256||r%8!=0)&&Qr.throwArgumentError("invalid "+e[1]+" bit length","param",t),new Rr(r/8,"int"===e[1],t.name)}if(e=t.type.match(tn),e){let r=parseInt(e[1]);return(0===r||r>32)&&Qr.throwArgumentError("invalid bytes length","param",t),new kr(r,t.name)}return Qr.throwArgumentError("invalid type","type",t.type)}_getWordSize(){return 32}_getReader(t,e){return new Ke(t,this._getWordSize(),this.coerceFunc,e)}_getWriter(){return new Xe(this._getWordSize())}getDefaultValue(t){const e=t.map((t=>this._getCoder(Te.from(t))));return new Yr(e,"_").defaultValue()}encode(t,e){t.length!==e.length&&Qr.throwError("types/values length mismatch",Bt.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:t,values:e}});const r=t.map((t=>this._getCoder(Te.from(t)))),n=new Yr(r,"_"),i=this._getWriter();return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this._getCoder(Te.from(t))));return new Yr(n,"_").decode(this._getReader(qt(e),r))}}const nn=new rn;function sn(t){return Qe(Fr(t))}const on="hash/5.6.0",an=new Bt(on),ln=new Uint8Array(32);ln.fill(0);const un=new RegExp("^((.*)\\.)?([^.]+)$");function cn(t){"string"!=typeof t&&an.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=ln;for(;e.length;){const n=e.match(un);null!=n&&""!==n[2]||an.throwArgumentError("invalid ENS address; missing component","name",t);r=Qe(Ht([r,Qe(Fr(Kr(n[3])))])),e=n[2]||""}return Xt(r)}var hn=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const fn=new Bt(on),dn=new Uint8Array(32);dn.fill(0);const pn=ae.from(-1),mn=ae.from(0),gn=ae.from(1),vn=ae.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const yn=te(gn.toHexString(),32),bn=te(mn.toHexString(),32),wn={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},En=["name","version","chainId","verifyingContract","salt"];function _n(t){return function(e){return"string"!=typeof e&&fn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const kn={name:_n("name"),version:_n("version"),chainId:function(t){try{return ae.from(t).toString()}catch(t){}return fn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return fr(t).toLowerCase()}catch(t){}return fn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=qt(t);if(32!==e.length)throw new Error("bad length");return Xt(e)}catch(t){}return fn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function Nn(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&fn.throwArgumentError("invalid numeric width","type",t);const i=vn.mask(r?n-1:n),s=r?i.add(gn).mul(pn):mn;return function(e){const r=ae.from(e);return(r.lt(s)||r.gt(i))&&fn.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),te(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&fn.throwArgumentError("invalid bytes width","type",t),function(e){return qt(e).length!==r&&fn.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=qt(t),r=e.length%32;return r?Yt([e,dn.slice(r)]):Xt(e)}(e)}}}switch(t){case"address":return function(t){return te(fr(t),32)};case"bool":return function(t){return t?yn:bn};case"bytes":return function(t){return Qe(t)};case"string":return function(t){return sn(t)}}return null}function An(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class xn{constructor(t){pe(this,"types",Object.freeze(Ee(t))),pe(this,"_encoderCache",{}),pe(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((s=>{i[s.name]&&fn.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",t),i[s.name]=!0;const o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&fn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t);Nn(o)||(r[o]||fn.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",t),r[o].push(n),e[n][o]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?fn.throwArgumentError("missing primary type","types",t):i.length>1&&fn.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),pe(this,"primaryType",i[0]),function i(s,o){o[s]&&fn.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),o[s]=!0,Object.keys(e[s]).forEach((t=>{r[t]&&(i(t,o),Object.keys(o).forEach((e=>{n[e][t]=!0})))})),delete o[s]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=An(e,t[e])+r.map((e=>An(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=Nn(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(Qe)),Qe(Yt(i))}}const r=this.types[t];if(r){const e=sn(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?Qe(n):n}));return n.unshift(e),Yt(n)}}return fn.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||fn.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return Qe(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(Nn(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&fn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):fn.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new xn(t)}static getPrimaryType(t){return xn.from(t).primaryType}static hashStruct(t,e,r){return xn.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=wn[r];n||fn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>En.indexOf(t.name)-En.indexOf(e.name))),xn.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return Yt(["0x1901",xn.hashDomain(t),xn.from(e).hash(r)])}static hash(t,e,r){return Qe(xn.encode(t,e,r))}static resolveNames(t,e,r,n){return hn(this,void 0,void 0,(function*(){t=ve(t);const i={};t.verifyingContract&&!Jt(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const s=xn.from(e);s.visit(r,((t,e)=>("address"!==t||Jt(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=s.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){xn.hashDomain(t);const n={},i=[];En.forEach((e=>{const r=t[e];null!=r&&(n[e]=kn[e](r),i.push({name:e,type:wn[e]}))}));const s=xn.from(e),o=ve(e);return o.EIP712Domain?fn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return Xt(qt(e));if(t.match(/^u?int/))return ae.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&fn.throwArgumentError("invalid string","value",e),e}return fn.throwArgumentError("unsupported type","type",t)}))}}}const In=new Bt(ke);class Mn extends _e{}class Rn extends _e{}class Sn extends _e{}class Pn extends _e{static isIndexed(t){return!(!t||!t._isIndexed)}}const Tn={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function On(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class $n{constructor(t){In.checkNew(new.target,$n);let e=[];e="string"==typeof t?JSON.parse(t):t,pe(this,"fragments",e.map((t=>$e.from(t))).filter((t=>null!=t))),pe(this,"_abiCoder",me(new.target,"getAbiCoder")()),pe(this,"functions",{}),pe(this,"errors",{}),pe(this,"events",{}),pe(this,"structs",{}),this.fragments.forEach((t=>{let e=null;switch(t.type){case"constructor":return this.deploy?void In.warn("duplicate definition - constructor"):void pe(this,"deploy",t);case"function":e=this.functions;break;case"event":e=this.events;break;case"error":e=this.errors;break;default:return}let r=t.format();e[r]?In.warn("duplicate definition - "+r):e[r]=t})),this.deploy||pe(this,"deploy",De.from({payable:!1,type:"constructor"})),pe(this,"_isInterface",!0)}format(t){t||(t=Se.full),t===Se.sighash&&In.throwArgumentError("interface does not support formatting sighash","format",t);const e=this.fragments.map((e=>e.format(t)));return t===Se.json?JSON.stringify(e.map((t=>JSON.parse(t)))):e}static getAbiCoder(){return nn}static getAddress(t){return fr(t)}static getSighash(t){return Zt(sn(t.format()),0,4)}static getEventTopic(t){return sn(t.format())}getFunction(t){if(Jt(t)){for(const e in this.functions)if(t===this.getSighash(e))return this.functions[e];In.throwArgumentError("no matching function","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.functions).filter((t=>t.split("(")[0]===e));return 0===r.length?In.throwArgumentError("no matching function","name",e):r.length>1&&In.throwArgumentError("multiple matching functions","name",e),this.functions[r[0]]}const e=this.functions[Ue.fromString(t).format()];return e||In.throwArgumentError("no matching function","signature",t),e}getEvent(t){if(Jt(t)){const e=t.toLowerCase();for(const t in this.events)if(e===this.getEventTopic(t))return this.events[t];In.throwArgumentError("no matching event","topichash",e)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.events).filter((t=>t.split("(")[0]===e));return 0===r.length?In.throwArgumentError("no matching event","name",e):r.length>1&&In.throwArgumentError("multiple matching events","name",e),this.events[r[0]]}const e=this.events[Ce.fromString(t).format()];return e||In.throwArgumentError("no matching event","signature",t),e}getError(t){if(Jt(t)){const e=me(this.constructor,"getSighash");for(const r in this.errors){if(t===e(this.errors[r]))return this.errors[r]}In.throwArgumentError("no matching error","sighash",t)}if(-1===t.indexOf("(")){const e=t.trim(),r=Object.keys(this.errors).filter((t=>t.split("(")[0]===e));return 0===r.length?In.throwArgumentError("no matching error","name",e):r.length>1&&In.throwArgumentError("multiple matching errors","name",e),this.errors[r[0]]}const e=this.errors[Ue.fromString(t).format()];return e||In.throwArgumentError("no matching error","signature",t),e}getSighash(t){if("string"==typeof t)try{t=this.getFunction(t)}catch(e){try{t=this.getError(t)}catch(t){throw e}}return me(this.constructor,"getSighash")(t)}getEventTopic(t){return"string"==typeof t&&(t=this.getEvent(t)),me(this.constructor,"getEventTopic")(t)}_decodeParams(t,e){return this._abiCoder.decode(t,e)}_encodeParams(t,e){return this._abiCoder.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){"string"==typeof t&&(t=this.getError(t));const r=qt(e);return Xt(r.slice(0,4))!==this.getSighash(t)&&In.throwArgumentError(`data signature does not match error ${t.name}.`,"data",Xt(r)),this._decodeParams(t.inputs,r.slice(4))}encodeErrorResult(t,e){return"string"==typeof t&&(t=this.getError(t)),Xt(Ht([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionData(t,e){"string"==typeof t&&(t=this.getFunction(t));const r=qt(e);return Xt(r.slice(0,4))!==this.getSighash(t)&&In.throwArgumentError(`data signature does not match function ${t.name}.`,"data",Xt(r)),this._decodeParams(t.inputs,r.slice(4))}encodeFunctionData(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Xt(Ht([this.getSighash(t),this._encodeParams(t.inputs,e||[])]))}decodeFunctionResult(t,e){"string"==typeof t&&(t=this.getFunction(t));let r=qt(e),n=null,i=null,s=null,o=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(t.outputs,r)}catch(t){}break;case 4:{const t=Xt(r.slice(0,4)),e=Tn[t];if(e)i=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,o=e.signature,e.reason&&(n=i[0]);else try{const e=this.getError(t);i=this._abiCoder.decode(e.inputs,r.slice(4)),s=e.name,o=e.format()}catch(t){}break}}return In.throwError("call revert exception",Bt.errors.CALL_EXCEPTION,{method:t.format(),errorArgs:i,errorName:s,errorSignature:o,reason:n})}encodeFunctionResult(t,e){return"string"==typeof t&&(t=this.getFunction(t)),Xt(this._abiCoder.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){"string"==typeof t&&(t=this.getEvent(t)),e.length>t.inputs.length&&In.throwError("too many arguments for "+t.format(),Bt.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e});let r=[];t.anonymous||r.push(this.getEventTopic(t));const n=(t,e)=>"string"===t.type?sn(e):"bytes"===t.type?Qe(Xt(e)):("address"===t.type&&this._abiCoder.encode(["address"],[e]),te(Xt(e),32));for(e.forEach(((e,i)=>{let s=t.inputs[i];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?In.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>n(s,t)))):r.push(n(s,e)):null!=e&&In.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){"string"==typeof t&&(t=this.getEvent(t));const r=[],n=[],i=[];return t.anonymous||r.push(this.getEventTopic(t)),e.length!==t.inputs.length&&In.throwArgumentError("event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)r.push(sn(o));else if("bytes"===t.type)r.push(Qe(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([t.type],[o]))}else n.push(t),i.push(o)})),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t&&(t=this.getEvent(t)),null!=r&&!t.anonymous){let e=this.getEventTopic(t);Jt(r[0],32)&&r[0].toLowerCase()===e||In.throwError("fragment/topic mismatch",Bt.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:e,value:r[0]}),r=r.slice(1)}let n=[],i=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(Te.fromObject({type:"bytes32",name:t.name})),s.push(!0)):(n.push(t),s.push(!1)):(i.push(t),s.push(!1))}));let o=null!=r?this._abiCoder.decode(n,Ht(r)):null,a=this._abiCoder.decode(i,e,!0),l=[],u=0,c=0;t.inputs.forEach(((t,e)=>{if(t.indexed)if(null==o)l[e]=new Pn({_isIndexed:!0,hash:null});else if(s[e])l[e]=new Pn({_isIndexed:!0,hash:o[c++]});else try{l[e]=o[c++]}catch(t){l[e]=t}else try{l[e]=a[u++]}catch(t){l[e]=t}if(t.name&&null==l[t.name]){const r=l[e];r instanceof Error?Object.defineProperty(l,t.name,{enumerable:!0,get:()=>{throw On(`property ${JSON.stringify(t.name)}`,r)}}):l[t.name]=r}}));for(let t=0;t<l.length;t++){const e=l[t];e instanceof Error&&Object.defineProperty(l,t,{enumerable:!0,get:()=>{throw On(`index ${t}`,e)}})}return Object.freeze(l)}parseTransaction(t){let e=this.getFunction(t.data.substring(0,10).toLowerCase());return e?new Rn({args:this._abiCoder.decode(e.inputs,"0x"+t.data.substring(10)),functionFragment:e,name:e.name,signature:e.format(),sighash:this.getSighash(e),value:ae.from(t.value||"0")}):null}parseLog(t){let e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Mn({eventFragment:e,name:e.name,signature:e.format(),topic:this.getEventTopic(e),args:this.decodeEventLog(e,t.data,t.topics)})}parseError(t){const e=Xt(t);let r=this.getError(e.substring(0,10).toLowerCase());return r?new Sn({args:this._abiCoder.decode(r.inputs,"0x"+e.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(t){return!(!t||!t._isInterface)}}var Cn=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Fn=new Bt("abstract-provider/5.6.0");class Bn extends _e{static isForkEvent(t){return!(!t||!t._isForkEvent)}}class Ln{constructor(){Fn.checkAbstract(new.target,Ln),pe(this,"_isProvider",!0)}getFeeData(){return Cn(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield ge({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=ae.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var Dn=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Un=new Bt("abstract-signer/5.6.0"),jn=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],zn=[Bt.errors.INSUFFICIENT_FUNDS,Bt.errors.NONCE_EXPIRED,Bt.errors.REPLACEMENT_UNDERPRICED];class Gn{constructor(){Un.checkAbstract(new.target,Gn),pe(this,"_isSigner",!0)}getBalance(t){return Dn(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return Dn(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return Dn(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield ge(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return Dn(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield ge(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return Dn(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return Dn(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Dn(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Dn(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return Dn(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===jn.indexOf(e)&&Un.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=ve(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Un.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return Dn(this,void 0,void 0,(function*(){const e=yield ge(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>Dn(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Un.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Un.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Un.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Un.throwError("network does not support EIP-1559",Bt.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Un.throwError("failed to get consistent fee data",Bt.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(zn.indexOf(t.code)>=0)throw t;return Un.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Bt.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Un.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield ge(e)}))}_checkProvider(t){this.provider||Un.throwError("missing provider",Bt.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}class qn extends Gn{constructor(t,e){Un.checkNew(new.target,qn),super(),pe(this,"address",t),pe(this,"provider",e||null)}getAddress(){return Promise.resolve(this.address)}_fail(t,e){return Promise.resolve().then((()=>{Un.throwError(t,Bt.errors.UNSUPPORTED_OPERATION,{operation:e})}))}signMessage(t){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(t){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(t,e,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(t){return new qn(this.address,t)}}var Hn={},Vn={},Jn=Wn;function Wn(t,e){if(!t)throw new Error(e||"Assertion failed")}Wn.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Xn={exports:{}},Kn={exports:{}};"function"==typeof Object.create?Kn.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Kn.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};try{var Zn=require("util");if("function"!=typeof Zn.inherits)throw"";Xn.exports=Zn.inherits}catch(t){Xn.exports=Kn.exports}var Yn=Jn,Qn=Xn.exports;function ti(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function ei(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function ri(t){return 1===t.length?"0"+t:t}function ni(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Vn.inherits=Qn,Vn.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):ti(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Vn.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=ri(t[r].toString(16));return e},Vn.htonl=ei,Vn.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=ei(i)),r+=ni(i.toString(16))}return r},Vn.zero2=ri,Vn.zero8=ni,Vn.join32=function(t,e,r,n){var i=r-e;Yn(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;l="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s},Vn.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},Vn.rotr32=function(t,e){return t>>>e|t<<32-e},Vn.rotl32=function(t,e){return t<<e|t>>>32-e},Vn.sum32=function(t,e){return t+e>>>0},Vn.sum32_3=function(t,e,r){return t+e+r>>>0},Vn.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Vn.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Vn.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},Vn.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Vn.sum64_lo=function(t,e,r,n){return e+n>>>0},Vn.sum64_4_hi=function(t,e,r,n,i,s,o,a){var l=0,u=e;return l+=(u=u+n>>>0)<e?1:0,l+=(u=u+s>>>0)<s?1:0,t+r+i+o+(l+=(u=u+a>>>0)<a?1:0)>>>0},Vn.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},Vn.sum64_5_hi=function(t,e,r,n,i,s,o,a,l,u){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+s>>>0)<s?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+o+l+(c+=(h=h+u>>>0)<u?1:0)>>>0},Vn.sum64_5_lo=function(t,e,r,n,i,s,o,a,l,u){return e+n+s+a+u>>>0},Vn.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Vn.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Vn.shr64_hi=function(t,e,r){return t>>>r},Vn.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var ii={},si=Vn,oi=Jn;function ai(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}ii.BlockHash=ai,ai.prototype.update=function(t,e){if(t=si.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=si.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},ai.prototype.digest=function(t){return this.update(this._pad()),oi(null===this.pending),this._digest(t)},ai.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var li={},ui={},ci=Vn.rotr32;function hi(t,e,r){return t&e^~t&r}function fi(t,e,r){return t&e^t&r^e&r}function di(t,e,r){return t^e^r}ui.ft_1=function(t,e,r,n){return 0===t?hi(e,r,n):1===t||3===t?di(e,r,n):2===t?fi(e,r,n):void 0},ui.ch32=hi,ui.maj32=fi,ui.p32=di,ui.s0_256=function(t){return ci(t,2)^ci(t,13)^ci(t,22)},ui.s1_256=function(t){return ci(t,6)^ci(t,11)^ci(t,25)},ui.g0_256=function(t){return ci(t,7)^ci(t,18)^t>>>3},ui.g1_256=function(t){return ci(t,17)^ci(t,19)^t>>>10};var pi=Vn,mi=ii,gi=ui,vi=pi.rotl32,yi=pi.sum32,bi=pi.sum32_5,wi=gi.ft_1,Ei=mi.BlockHash,_i=[1518500249,1859775393,2400959708,3395469782];function ki(){if(!(this instanceof ki))return new ki;Ei.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}pi.inherits(ki,Ei);var Ni=ki;ki.blockSize=512,ki.outSize=160,ki.hmacStrength=80,ki.padLength=64,ki.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=vi(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=bi(vi(i,5),wi(u,s,o,a),l,r[n],_i[u]);l=a,a=o,o=vi(s,30),s=i,i=c}this.h[0]=yi(this.h[0],i),this.h[1]=yi(this.h[1],s),this.h[2]=yi(this.h[2],o),this.h[3]=yi(this.h[3],a),this.h[4]=yi(this.h[4],l)},ki.prototype._digest=function(t){return"hex"===t?pi.toHex32(this.h,"big"):pi.split32(this.h,"big")};var Ai=Vn,xi=ii,Ii=ui,Mi=Jn,Ri=Ai.sum32,Si=Ai.sum32_4,Pi=Ai.sum32_5,Ti=Ii.ch32,Oi=Ii.maj32,$i=Ii.s0_256,Ci=Ii.s1_256,Fi=Ii.g0_256,Bi=Ii.g1_256,Li=xi.BlockHash,Di=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ui(){if(!(this instanceof Ui))return new Ui;Li.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Di,this.W=new Array(64)}Ai.inherits(Ui,Li);var ji=Ui;Ui.blockSize=512,Ui.outSize=256,Ui.hmacStrength=192,Ui.padLength=64,Ui.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Si(Bi(r[n-2]),r[n-7],Fi(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(Mi(this.k.length===r.length),n=0;n<r.length;n++){var f=Pi(h,Ci(l),Ti(l,u,c),this.k[n],r[n]),d=Ri($i(i),Oi(i,s,o));h=c,c=u,u=l,l=Ri(a,f),a=o,o=s,s=i,i=Ri(f,d)}this.h[0]=Ri(this.h[0],i),this.h[1]=Ri(this.h[1],s),this.h[2]=Ri(this.h[2],o),this.h[3]=Ri(this.h[3],a),this.h[4]=Ri(this.h[4],l),this.h[5]=Ri(this.h[5],u),this.h[6]=Ri(this.h[6],c),this.h[7]=Ri(this.h[7],h)},Ui.prototype._digest=function(t){return"hex"===t?Ai.toHex32(this.h,"big"):Ai.split32(this.h,"big")};var zi=Vn,Gi=ji;function qi(){if(!(this instanceof qi))return new qi;Gi.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}zi.inherits(qi,Gi);var Hi=qi;qi.blockSize=512,qi.outSize=224,qi.hmacStrength=192,qi.padLength=64,qi.prototype._digest=function(t){return"hex"===t?zi.toHex32(this.h.slice(0,7),"big"):zi.split32(this.h.slice(0,7),"big")};var Vi=Vn,Ji=ii,Wi=Jn,Xi=Vi.rotr64_hi,Ki=Vi.rotr64_lo,Zi=Vi.shr64_hi,Yi=Vi.shr64_lo,Qi=Vi.sum64,ts=Vi.sum64_hi,es=Vi.sum64_lo,rs=Vi.sum64_4_hi,ns=Vi.sum64_4_lo,is=Vi.sum64_5_hi,ss=Vi.sum64_5_lo,os=Ji.BlockHash,as=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ls(){if(!(this instanceof ls))return new ls;os.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=as,this.W=new Array(160)}Vi.inherits(ls,os);var us=ls;function cs(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function hs(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function fs(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function ds(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function ps(t,e){var r=Xi(t,e,28)^Xi(e,t,2)^Xi(e,t,7);return r<0&&(r+=4294967296),r}function ms(t,e){var r=Ki(t,e,28)^Ki(e,t,2)^Ki(e,t,7);return r<0&&(r+=4294967296),r}function gs(t,e){var r=Xi(t,e,14)^Xi(t,e,18)^Xi(e,t,9);return r<0&&(r+=4294967296),r}function vs(t,e){var r=Ki(t,e,14)^Ki(t,e,18)^Ki(e,t,9);return r<0&&(r+=4294967296),r}function ys(t,e){var r=Xi(t,e,1)^Xi(t,e,8)^Zi(t,e,7);return r<0&&(r+=4294967296),r}function bs(t,e){var r=Ki(t,e,1)^Ki(t,e,8)^Yi(t,e,7);return r<0&&(r+=4294967296),r}function ws(t,e){var r=Xi(t,e,19)^Xi(e,t,29)^Zi(t,e,6);return r<0&&(r+=4294967296),r}function Es(t,e){var r=Ki(t,e,19)^Ki(e,t,29)^Yi(t,e,6);return r<0&&(r+=4294967296),r}ls.blockSize=1024,ls.outSize=512,ls.hmacStrength=192,ls.padLength=128,ls.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=ws(r[n-4],r[n-3]),s=Es(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],l=ys(r[n-30],r[n-29]),u=bs(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=rs(i,s,o,a,l,u,c,h),r[n+1]=ns(i,s,o,a,l,u,c,h)}},ls.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];Wi(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,E=y,_=gs(h,f),k=vs(h,f),N=cs(h,f,d,p,m),A=hs(h,f,d,p,m,g),x=this.k[b],I=this.k[b+1],M=r[b],R=r[b+1],S=is(w,E,_,k,N,A,x,I,M,R),P=ss(w,E,_,k,N,A,x,I,M,R);w=ps(n,i),E=ms(n,i),_=fs(n,i,s,o,a),k=ds(n,i,s,o,a,l);var T=ts(w,E,_,k),O=es(w,E,_,k);v=m,y=g,m=d,g=p,d=h,p=f,h=ts(u,c,S,P),f=es(c,c,S,P),u=a,c=l,a=s,l=o,s=n,o=i,n=ts(S,P,T,O),i=es(S,P,T,O)}Qi(this.h,0,n,i),Qi(this.h,2,s,o),Qi(this.h,4,a,l),Qi(this.h,6,u,c),Qi(this.h,8,h,f),Qi(this.h,10,d,p),Qi(this.h,12,m,g),Qi(this.h,14,v,y)},ls.prototype._digest=function(t){return"hex"===t?Vi.toHex32(this.h,"big"):Vi.split32(this.h,"big")};var _s=Vn,ks=us;function Ns(){if(!(this instanceof Ns))return new Ns;ks.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}_s.inherits(Ns,ks);var As=Ns;Ns.blockSize=1024,Ns.outSize=384,Ns.hmacStrength=192,Ns.padLength=128,Ns.prototype._digest=function(t){return"hex"===t?_s.toHex32(this.h.slice(0,12),"big"):_s.split32(this.h.slice(0,12),"big")},li.sha1=Ni,li.sha224=Hi,li.sha256=ji,li.sha384=As,li.sha512=us;var xs={},Is=Vn,Ms=ii,Rs=Is.rotl32,Ss=Is.sum32,Ps=Is.sum32_3,Ts=Is.sum32_4,Os=Ms.BlockHash;function $s(){if(!(this instanceof $s))return new $s;Os.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Cs(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Fs(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Bs(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}Is.inherits($s,Os),xs.ripemd160=$s,$s.blockSize=512,$s.outSize=160,$s.hmacStrength=192,$s.padLength=64,$s.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,l=n,u=i,c=s,h=o,f=0;f<80;f++){var d=Ss(Rs(Ts(r,Cs(f,n,i,s),t[Ls[f]+e],Fs(f)),Us[f]),o);r=o,o=s,s=Rs(i,10),i=n,n=d,d=Ss(Rs(Ts(a,Cs(79-f,l,u,c),t[Ds[f]+e],Bs(f)),js[f]),h),a=h,h=c,c=Rs(u,10),u=l,l=d}d=Ps(this.h[1],i,c),this.h[1]=Ps(this.h[2],s,h),this.h[2]=Ps(this.h[3],o,a),this.h[3]=Ps(this.h[4],r,l),this.h[4]=Ps(this.h[0],n,u),this.h[0]=d},$s.prototype._digest=function(t){return"hex"===t?Is.toHex32(this.h,"little"):Is.split32(this.h,"little")};var Ls=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Ds=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Us=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],js=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],zs=Vn,Gs=Jn;function qs(t,e,r){if(!(this instanceof qs))return new qs(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(zs.toArray(e,r))}var Hs=qs;qs.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Gs(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},qs.prototype.update=function(t,e){return this.inner.update(t,e),this},qs.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Vn,e.common=ii,e.sha=li,e.ripemd=xs,e.hmac=Hs,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Hn);var Vs=Hn;function Js(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var Ws=Xs;function Xs(t,e){if(!t)throw new Error(e||"Assertion failed")}Xs.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Ks=Js((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Zs=Js((function(t,e){var r=e;r.assert=Ws,r.toArray=Ks.toArray,r.zero2=Ks.zero2,r.toHex=Ks.toHex,r.encode=Ks.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,l=s.andln(i-1);s.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,l=t.andln(3)+i&3,u=e.andln(3)+s&3;3===l&&(l=-1),3===u&&(u=-1),o=0==(1&l)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?l:-l,r[0].push(o),a=0==(1&u)?0:3!==(n=e.andln(7)+s&7)&&5!==n||2!==l?u:-u,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new It(t,"hex","le")}})),Ys=Zs.getNAF,Qs=Zs.getJSF,to=Zs.assert;function eo(t,e){this.type=t,this.p=new It(e.p,16),this.red=e.prime?It.red(e.prime):It.mont(this.p),this.zero=new It(0).toRed(this.red),this.one=new It(1).toRed(this.red),this.two=new It(2).toRed(this.red),this.n=e.n&&new It(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ro=eo;function no(t,e){this.curve=t,this.type=e,this.precomputed=null}eo.prototype.point=function(){throw new Error("Not implemented")},eo.prototype.validate=function(){throw new Error("Not implemented")},eo.prototype._fixedNafMul=function(t,e){to(t.precomputed);var r=t._getDoubles(),n=Ys(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var l=s+r.step-1;l>=s;l--)o=(o<<1)+n[l];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?c=c.mixedAdd(r.points[s]):o===-h&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},eo.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Ys(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var l=0;a>=0&&0===s[a];a--)l++;if(a>=0&&l++,o=o.dblp(l),a<0)break;var u=s[a];to(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},eo.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(s=0;s<n;s++){var f=(a=e[s])._getNAFPoints(t);l[s]=f.wnd,u[s]=f.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=Qs(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),o=0;o<h;o++){var y=0|v[0][o],b=0|v[1][o];c[d][o]=g[3*(y+1)+(b+1)],c[p][o]=0,u[d]=m}}else c[d]=Ys(r[d],l[d],this._bitLength),c[p]=Ys(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(s=h;s>=0;s--){for(var _=0;s>=0;){var k=!0;for(o=0;o<n;o++)E[o]=0|c[o][s],0!==E[o]&&(k=!1);if(!k)break;_++,s--}if(s>=0&&_++,w=w.dblp(_),s<0)break;for(o=0;o<n;o++){var N=E[o];0!==N&&(N>0?a=u[o][N-1>>1]:N<0&&(a=u[o][-N-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?w:w.toP()},eo.BasePoint=no,no.prototype.eq=function(){throw new Error("Not implemented")},no.prototype.validate=function(){return this.curve.validate(this)},eo.prototype.decodePoint=function(t,e){t=Zs.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?to(t[t.length-1]%2==0):7===t[0]&&to(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},no.prototype.encodeCompressed=function(t){return this.encode(t,!0)},no.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},no.prototype.encode=function(t,e){return Zs.encode(this._encode(e),t)},no.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},no.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},no.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},no.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},no.prototype._getBeta=function(){return null},no.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var io=Js((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),so=Zs.assert;function oo(t){ro.call(this,"short",t),this.a=new It(t.a,16).toRed(this.red),this.b=new It(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}io(oo,ro);var ao=oo;function lo(t,e,r,n){ro.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new It(e,16),this.y=new It(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function uo(t,e,r,n){ro.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new It(0)):(this.x=new It(e,16),this.y=new It(r,16),this.z=new It(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}oo.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new It(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new It(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],so(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new It(t.a,16),b:new It(t.b,16)}})):this._getEndoBasis(r)}}},oo.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:It.mont(t),r=new It(2).toRed(e).redInvm(),n=r.redNeg(),i=new It(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},oo.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new It(1),p=new It(0),m=new It(0),g=new It(1),v=0;0!==h.cmpn(0);){var y=f.div(h);l=f.sub(y.mul(h)),u=m.sub(y.mul(d));var b=g.sub(y.mul(p));if(!n&&l.cmp(c)<0)e=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,g=p,p=b}s=l.neg(),o=u;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},oo.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),l=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:l.add(u).neg()}},oo.prototype.pointFromX=function(t,e){(t=new It(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},oo.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},oo.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),n[2*s]=a,n[2*s+1]=l,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},io(lo,ro.BasePoint),oo.prototype.point=function(t,e,r){return new lo(this,t,e,r)},oo.prototype.pointFromJSON=function(t,e){return lo.fromJSON(this,t,e)},lo.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},lo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},lo.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},lo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},lo.prototype.isInfinity=function(){return this.inf},lo.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},lo.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},lo.prototype.getX=function(){return this.x.fromRed()},lo.prototype.getY=function(){return this.y.fromRed()},lo.prototype.mul=function(t){return t=new It(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},lo.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},lo.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},lo.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},lo.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},lo.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},io(uo,ro.BasePoint),oo.prototype.jpoint=function(t,e,r){return new uo(this,t,e,r)},uo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},uo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},uo.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=s.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},uo.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},uo.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=s.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(a);e+1<t&&(l=l.redMul(f)),s=m,a=y,u=v}return this.curve.jpoint(s,u.redMul(i),a)},uo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},uo.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(o.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},uo.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);t=l;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},uo.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},uo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},uo.prototype.mul=function(t,e){return t=new It(t,e),this.curve._wnafMul(this,t)},uo.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},uo.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},uo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},uo.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var co=Js((function(t,e){var r=e;r.base=ro,r.short=ao,r.mont=null,r.edwards=null})),ho=Js((function(t,e){var r,n=e,i=Zs.assert;function s(t){"short"===t.type?this.curve=new co.short(t):"edwards"===t.type?this.curve=new co.edwards(t):this.curve=new co.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Vs.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Vs.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Vs.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Vs.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Vs.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vs.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vs.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Vs.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function fo(t){if(!(this instanceof fo))return new fo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ks.toArray(t.entropy,t.entropyEnc||"hex"),r=Ks.toArray(t.nonce,t.nonceEnc||"hex"),n=Ks.toArray(t.pers,t.persEnc||"hex");Ws(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var po=fo;fo.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},fo.prototype._hmac=function(){return new Vs.hmac(this.hash,this.K)},fo.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},fo.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=Ks.toArray(t,e),r=Ks.toArray(r,n),Ws(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},fo.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=Ks.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Ks.encode(s,e)};var mo=Zs.assert;function go(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var vo=go;go.fromPublic=function(t,e,r){return e instanceof go?e:new go(t,{pub:e,pubEnc:r})},go.fromPrivate=function(t,e,r){return e instanceof go?e:new go(t,{priv:e,privEnc:r})},go.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},go.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},go.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},go.prototype._importPrivate=function(t,e){this.priv=new It(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},go.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?mo(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||mo(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},go.prototype.derive=function(t){return t.validate()||mo(t.validate(),"public point not validated"),t.mul(this.priv).getX()},go.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},go.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},go.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var yo=Zs.assert;function bo(t,e){if(t instanceof bo)return t;this._importDER(t,e)||(yo(t.r&&t.s,"Signature without r or s"),this.r=new It(t.r,16),this.s=new It(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var wo=bo;function Eo(){this.place=0}function _o(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function ko(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function No(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}bo.prototype._importDER=function(t,e){t=Zs.toArray(t,e);var r=new Eo;if(48!==t[r.place++])return!1;var n=_o(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=_o(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=_o(t,r);if(!1===o)return!1;if(t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new It(s),this.s=new It(a),this.recoveryParam=null,!0},bo.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=ko(e),r=ko(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];No(n,e.length),(n=n.concat(e)).push(2),No(n,r.length);var i=n.concat(r),s=[48];return No(s,i.length),s=s.concat(i),Zs.encode(s,t)};var Ao=function(){throw new Error("unsupported")},xo=Zs.assert;function Io(t){if(!(this instanceof Io))return new Io(t);"string"==typeof t&&(xo(Object.prototype.hasOwnProperty.call(ho,t),"Unknown curve "+t),t=ho[t]),t instanceof ho.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var Mo=Io;Io.prototype.keyPair=function(t){return new vo(this,t)},Io.prototype.keyFromPrivate=function(t,e){return vo.fromPrivate(this,t,e)},Io.prototype.keyFromPublic=function(t,e){return vo.fromPublic(this,t,e)},Io.prototype.genKeyPair=function(t){t||(t={});for(var e=new po({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Ao(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new It(2));;){var i=new It(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Io.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Io.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new It(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new po({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new It(1)),u=0;;u++){var c=n.k?n.k(u):new It(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new wo({r:d,s:p,recoveryParam:m})}}}}}},Io.prototype.verify=function(t,e,r,n){t=this._truncateToN(new It(t,16)),r=this.keyFromPublic(r,n);var i=(e=new wo(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},Io.prototype.recoverPubKey=function(t,e,r,n){xo((3&r)===r,"The recovery param is more than two bits"),e=new wo(e,n);var i=this.n,s=new It(t),o=e.r,a=e.s,l=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),l):this.curve.pointFromX(o,l);var c=e.r.invm(i),h=i.sub(s).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,o,f)},Io.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new wo(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Ro=Js((function(t,e){var r=e;r.version="6.5.4",r.utils=Zs,r.rand=function(){throw new Error("unsupported")},r.curve=co,r.curves=ho,r.ec=Mo,r.eddsa=null})),So=Ro.ec;const Po=new Bt("signing-key/5.6.0");let To=null;function Oo(){return To||(To=new So("secp256k1")),To}class $o{constructor(t){pe(this,"curve","secp256k1"),pe(this,"privateKey",Xt(t));const e=Oo().keyFromPrivate(qt(this.privateKey));pe(this,"publicKey","0x"+e.getPublic(!1,"hex")),pe(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),pe(this,"_isSigningKey",!0)}_addPoint(t){const e=Oo().keyFromPublic(qt(this.publicKey)),r=Oo().keyFromPublic(qt(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=Oo().keyFromPrivate(qt(this.privateKey)),r=qt(t);32!==r.length&&Po.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return ee({recoveryParam:n.recoveryParam,r:te("0x"+n.r.toString(16),32),s:te("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=Oo().keyFromPrivate(qt(this.privateKey)),r=Oo().keyFromPublic(qt(Co(t)));return te("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function Co(t,e){const r=qt(t);if(32===r.length){const t=new $o(r);return e?"0x"+Oo().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?Xt(r):"0x"+Oo().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+Oo().keyFromPublic(r).getPublic(!0,"hex"):Xt(r):Po.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Fo=new Bt("transactions/5.6.0");var Bo;function Lo(t){return"0x"===t?null:fr(t)}function Do(t){return"0x"===t?xr:ae.from(t)}function Uo(t,e){return function(t){return fr(Zt(Qe(Zt(Co(t),1)),12))}(function(t,e){const r=ee(e),n={r:qt(r.r),s:qt(r.s)};return"0x"+Oo().recoverPubKey(qt(t),n,r.recoveryParam).encode("hex",!1)}(qt(t),e))}function jo(t,e){const r=Vt(ae.from(t).toHexString());return r.length>32&&Fo.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function zo(t,e){return{address:fr(t),storageKeys:(e||[]).map(((e,r)=>(32!==Kt(e)&&Fo.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function Go(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&Fo.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),zo(t[0],t[1])):zo(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return zo(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function qo(t){return Go(t).map((t=>[t.address,t.storageKeys]))}function Ho(t,e){if(null!=t.gasPrice){const e=ae.from(t.gasPrice),r=ae.from(t.maxFeePerGas||0);e.eq(r)||Fo.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[jo(t.chainId||0,"chainId"),jo(t.nonce||0,"nonce"),jo(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),jo(t.maxFeePerGas||0,"maxFeePerGas"),jo(t.gasLimit||0,"gasLimit"),null!=t.to?fr(t.to):"0x",jo(t.value||0,"value"),t.data||"0x",qo(t.accessList||[])];if(e){const t=ee(e);r.push(jo(t.recoveryParam,"recoveryParam")),r.push(Vt(t.r)),r.push(Vt(t.s))}return Yt(["0x02",ir(r)])}function Vo(t,e){const r=[jo(t.chainId||0,"chainId"),jo(t.nonce||0,"nonce"),jo(t.gasPrice||0,"gasPrice"),jo(t.gasLimit||0,"gasLimit"),null!=t.to?fr(t.to):"0x",jo(t.value||0,"value"),t.data||"0x",qo(t.accessList||[])];if(e){const t=ee(e);r.push(jo(t.recoveryParam,"recoveryParam")),r.push(Vt(t.r)),r.push(Vt(t.s))}return Yt(["0x01",ir(r)])}function Jo(t,e,r){try{const r=Do(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){Fo.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=te(e[1],32),t.s=te(e[2],32);try{const e=Qe(r(t));t.from=Uo(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function Wo(t){const e=qt(t);if(e[0]>127)return function(t){const e=ar(t);9!==e.length&&6!==e.length&&Fo.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Do(e[0]).toNumber(),gasPrice:Do(e[1]),gasLimit:Do(e[2]),to:Lo(e[3]),value:Do(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=ae.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=te(e[7],32),r.s=te(e[8],32),ae.from(r.r).isZero()&&ae.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(Xt(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const s=Qe(ir(i));try{r.from=Uo(s,{r:Xt(r.r),s:Xt(r.s),recoveryParam:n})}catch(t){console.log(t)}r.hash=Qe(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=ar(t.slice(1));8!==e.length&&11!==e.length&&Fo.throwArgumentError("invalid component count for transaction type: 1","payload",Xt(t));const r={type:1,chainId:Do(e[0]).toNumber(),nonce:Do(e[1]).toNumber(),gasPrice:Do(e[2]),gasLimit:Do(e[3]),to:Lo(e[4]),value:Do(e[5]),data:e[6],accessList:Go(e[7])};return 8===e.length||(r.hash=Qe(t),Jo(r,e.slice(8),Vo)),r}(e);case 2:return function(t){const e=ar(t.slice(1));9!==e.length&&12!==e.length&&Fo.throwArgumentError("invalid component count for transaction type: 2","payload",Xt(t));const r=Do(e[2]),n=Do(e[3]),i={type:2,chainId:Do(e[0]).toNumber(),nonce:Do(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Do(e[4]),to:Lo(e[5]),value:Do(e[6]),data:e[7],accessList:Go(e[8])};return 9===e.length||(i.hash=Qe(t),Jo(i,e.slice(9),Ho)),i}(e)}return Fo.throwError(`unsupported transaction type: ${e[0]}`,Bt.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(Bo||(Bo={}));var Xo=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Ko=new Bt("contracts/5.6.0");function Zo(t,e){return Xo(this,void 0,void 0,(function*(){const r=yield e;"string"!=typeof r&&Ko.throwArgumentError("invalid address or ENS name","name",r);try{return fr(r)}catch(t){}t||Ko.throwError("a provider or signer is needed to resolve ENS names",Bt.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return null==n&&Ko.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function Yo(t,e,r){return Xo(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>Yo(t,Array.isArray(e)?e[n]:e[r.name],r)))):"address"===r.type?yield Zo(t,e):"tuple"===r.type?yield Yo(t,e,r.components):"array"===r.baseType?Array.isArray(e)?yield Promise.all(e.map((e=>Yo(t,e,r.arrayChildren)))):Promise.reject(Ko.makeError("invalid value for array",Bt.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e}))}function Qo(t,e,r){return Xo(this,void 0,void 0,(function*(){let n={};r.length===e.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=ve(r.pop())),Ko.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=ge({override:Zo(t.signer,n.from),signer:t.signer.getAddress()}).then((t=>Xo(this,void 0,void 0,(function*(){return fr(t.signer)!==t.override&&Ko.throwError("Contract with a Signer cannot override from",Bt.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),t.override})))):n.from=t.signer.getAddress():n.from&&(n.from=Zo(t.provider,n.from));const i=yield ge({args:Yo(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:ge(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=ae.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=ae.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=ae.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=ae.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=ae.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=Go(a.accessList)),null==o.gasLimit&&null!=e.gas){let t=21e3;const r=qt(s);for(let e=0;e<r.length;e++)t+=4,r[e]&&(t+=64);o.gasLimit=ae.from(e.gas).add(t)}if(a.value){const t=ae.from(a.value);t.isZero()||e.payable||Ko.throwError("non-payable method cannot override value",Bt.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=t}a.customData&&(o.customData=ve(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter((t=>null!=n[t]));return l.length&&Ko.throwError(`cannot override ${l.map((t=>JSON.stringify(t))).join(",")}`,Bt.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o}))}function ta(t,e,r){const n=t.signer||t.provider;return function(...i){return Xo(this,void 0,void 0,(function*(){let s;if(i.length===e.inputs.length+1&&"object"==typeof i[i.length-1]){const t=ve(i.pop());null!=t.blockTag&&(s=yield t.blockTag),delete t.blockTag,i.push(t)}null!=t.deployTransaction&&(yield t._deployed(s));const o=yield Qo(t,e,i),a=yield n.call(o,s);try{let n=t.interface.decodeFunctionResult(e,a);return r&&1===e.outputs.length&&(n=n[0]),n}catch(e){throw e.code===Bt.errors.CALL_EXCEPTION&&(e.address=t.address,e.args=i,e.transaction=o),e}}))}}function ea(t,e){return function(...r){return Xo(this,void 0,void 0,(function*(){t.signer||Ko.throwError("sending a transaction requires a signer",Bt.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=t.deployTransaction&&(yield t._deployed());const n=yield Qo(t,e,r),i=yield t.signer.sendTransaction(n);return function(t,e){const r=e.wait.bind(e);e.wait=e=>r(e).then((e=>(e.events=e.logs.map((r=>{let n=Ee(r),i=null;try{i=t.interface.parseLog(r)}catch(t){}return i&&(n.args=i.args,n.decode=(e,r)=>t.interface.decodeEventLog(i.eventFragment,e,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>t.provider,n.getBlock=()=>t.provider.getBlock(e.blockHash),n.getTransaction=()=>t.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(e),n})),e)))}(t,i),i}))}}function ra(t,e,r){return e.constant?ta(t,e,r):ea(t,e)}function na(t){return!t.address||null!=t.topics&&0!==t.topics.length?(t.address||"*")+"@"+(t.topics?t.topics.map((t=>Array.isArray(t)?t.join("|"):t)).join(":"):""):"*"}class ia{constructor(t,e){pe(this,"tag",t),pe(this,"filter",e),this._listeners=[]}addListener(t,e){this._listeners.push({listener:t,once:e})}removeListener(t){let e=!1;this._listeners=this._listeners.filter((r=>!(!e&&r.listener===t)||(e=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((t=>t.listener))}listenerCount(){return this._listeners.length}run(t){const e=this.listenerCount();return this._listeners=this._listeners.filter((e=>{const r=t.slice();return setTimeout((()=>{e.listener.apply(this,r)}),0),!e.once})),e}prepareEvent(t){}getEmit(t){return[t]}}class sa extends ia{constructor(){super("error",null)}}class oa extends ia{constructor(t,e,r,n){const i={address:t};let s=e.getEventTopic(r);n?(s!==n[0]&&Ko.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[s],super(na(i),i),pe(this,"address",t),pe(this,"interface",e),pe(this,"fragment",r)}prepareEvent(t){super.prepareEvent(t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=(t,e)=>this.interface.decodeEventLog(this.fragment,t,e);try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}}getEmit(t){const e=function(t){const e=[],r=function(t,n){if(Array.isArray(n))for(let i in n){const s=t.slice();s.push(i);try{r(s,n[i])}catch(t){e.push({path:s,error:t})}}};return r([],t),e}(t.args);if(e.length)throw e[0].error;const r=(t.args||[]).slice();return r.push(t),r}}class aa extends ia{constructor(t,e){super("*",{address:t}),pe(this,"address",t),pe(this,"interface",e)}prepareEvent(t){super.prepareEvent(t);try{const e=this.interface.parseLog(t);t.event=e.name,t.eventSignature=e.signature,t.decode=(t,r)=>this.interface.decodeEventLog(e.eventFragment,t,r),t.args=e.args}catch(t){}}}class la extends class{constructor(t,e,r){Ko.checkNew(new.target,la),pe(this,"interface",me(new.target,"getInterface")(e)),null==r?(pe(this,"provider",null),pe(this,"signer",null)):Gn.isSigner(r)?(pe(this,"provider",r.provider||null),pe(this,"signer",r)):Ln.isProvider(r)?(pe(this,"provider",r),pe(this,"signer",null)):Ko.throwArgumentError("invalid signer or provider","signerOrProvider",r),pe(this,"callStatic",{}),pe(this,"estimateGas",{}),pe(this,"functions",{}),pe(this,"populateTransaction",{}),pe(this,"filters",{});{const t={};Object.keys(this.interface.events).forEach((e=>{const r=this.interface.events[e];pe(this.filters,e,((...t)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,t)}))),t[r.name]||(t[r.name]=[]),t[r.name].push(e)})),Object.keys(t).forEach((e=>{const r=t[e];1===r.length?pe(this.filters,e,this.filters[r[0]]):Ko.warn(`Duplicate definition of ${e} (${r.join(", ")})`)}))}if(pe(this,"_runningEvents",{}),pe(this,"_wrappedEmits",{}),null==t&&Ko.throwArgumentError("invalid contract address or ENS name","addressOrName",t),pe(this,"address",t),this.provider)pe(this,"resolvedAddress",Zo(this.provider,t));else try{pe(this,"resolvedAddress",Promise.resolve(fr(t)))}catch(t){Ko.throwError("provider is required to use ENS name as contract address",Bt.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((t=>{}));const n={},i={};Object.keys(this.interface.functions).forEach((t=>{const e=this.interface.functions[t];if(i[t])Ko.warn(`Duplicate ABI entry for ${JSON.stringify(t)}`);else{i[t]=!0;{const r=e.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(t)}null==this[t]&&pe(this,t,ra(this,e,!0)),null==this.functions[t]&&pe(this.functions,t,ra(this,e,!1)),null==this.callStatic[t]&&pe(this.callStatic,t,ta(this,e,!0)),null==this.populateTransaction[t]&&pe(this.populateTransaction,t,function(t,e){return function(...r){return Qo(t,e,r)}}(this,e)),null==this.estimateGas[t]&&pe(this.estimateGas,t,function(t,e){const r=t.signer||t.provider;return function(...n){return Xo(this,void 0,void 0,(function*(){r||Ko.throwError("estimate require a provider or signer",Bt.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield Qo(t,e,n);return yield r.estimateGas(i)}))}}(this,e))}})),Object.keys(n).forEach((t=>{const e=n[t];if(e.length>1)return;t=t.substring(1);const r=e[0];try{null==this[t]&&pe(this,t,this[r])}catch(t){}null==this.functions[t]&&pe(this.functions,t,this.functions[r]),null==this.callStatic[t]&&pe(this.callStatic,t,this.callStatic[r]),null==this.populateTransaction[t]&&pe(this.populateTransaction,t,this.populateTransaction[r]),null==this.estimateGas[t]&&pe(this.estimateGas,t,this.estimateGas[r])}))}static getContractAddress(t){return dr(t)}static getInterface(t){return $n.isInterface(t)?t:new $n(t)}deployed(){return this._deployed()}_deployed(t){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,t).then((t=>("0x"===t&&Ko.throwError("contract not deployed",Bt.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(t){this.signer||Ko.throwError("sending a transactions require a signer",Bt.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const e=ve(t||{});return["from","to"].forEach((function(t){null!=e[t]&&Ko.throwError("cannot override "+t,Bt.errors.UNSUPPORTED_OPERATION,{operation:t})})),e.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(e)))}connect(t){"string"==typeof t&&(t=new qn(t,this.provider));const e=new this.constructor(this.address,this.interface,t);return this.deployTransaction&&pe(e,"deployTransaction",this.deployTransaction),e}attach(t){return new this.constructor(t,this.interface,this.signer||this.provider)}static isIndexed(t){return Pn.isIndexed(t)}_normalizeRunningEvent(t){return this._runningEvents[t.tag]?this._runningEvents[t.tag]:t}_getRunningEvent(t){if("string"==typeof t){if("error"===t)return this._normalizeRunningEvent(new sa);if("event"===t)return this._normalizeRunningEvent(new ia("event",null));if("*"===t)return this._normalizeRunningEvent(new aa(this.address,this.interface));const e=this.interface.getEvent(t);return this._normalizeRunningEvent(new oa(this.address,this.interface,e))}if(t.topics&&t.topics.length>0){try{const e=t.topics[0];if("string"!=typeof e)throw new Error("invalid topic");const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new oa(this.address,this.interface,r,t.topics))}catch(t){}const e={address:this.address,topics:t.topics};return this._normalizeRunningEvent(new ia(na(e),e))}return this._normalizeRunningEvent(new aa(this.address,this.interface))}_checkRunningEvents(t){if(0===t.listenerCount()){delete this._runningEvents[t.tag];const e=this._wrappedEmits[t.tag];e&&t.filter&&(this.provider.off(t.filter,e),delete this._wrappedEmits[t.tag])}}_wrapEvent(t,e,r){const n=Ee(e);return n.removeListener=()=>{r&&(t.removeListener(r),this._checkRunningEvents(t))},n.getBlock=()=>this.provider.getBlock(e.blockHash),n.getTransaction=()=>this.provider.getTransaction(e.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(e.transactionHash),t.prepareEvent(n),n}_addEventListener(t,e,r){if(this.provider||Ko.throwError("events require a provider or a signer with a provider",Bt.errors.UNSUPPORTED_OPERATION,{operation:"once"}),t.addListener(e,r),this._runningEvents[t.tag]=t,!this._wrappedEmits[t.tag]){const r=r=>{let n=this._wrapEvent(t,r,e);if(null==n.decodeError)try{const e=t.getEmit(n);this.emit(t.filter,...e)}catch(t){n.decodeError=t.error}null!=t.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[t.tag]=r,null!=t.filter&&this.provider.on(t.filter,r)}}queryFilter(t,e,r){const n=this._getRunningEvent(t),i=ve(n.filter);return"string"==typeof e&&Jt(e,32)?(null!=r&&Ko.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=e):(i.fromBlock=null!=e?e:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then((t=>t.map((t=>this._wrapEvent(n,t,null)))))}on(t,e){return this._addEventListener(this._getRunningEvent(t),e,!1),this}once(t,e){return this._addEventListener(this._getRunningEvent(t),e,!0),this}emit(t,...e){if(!this.provider)return!1;const r=this._getRunningEvent(t),n=r.run(e)>0;return this._checkRunningEvents(r),n}listenerCount(t){return this.provider?null==t?Object.keys(this._runningEvents).reduce(((t,e)=>t+this._runningEvents[e].listenerCount()),0):this._getRunningEvent(t).listenerCount():0}listeners(t){if(!this.provider)return[];if(null==t){const t=[];for(let e in this._runningEvents)this._runningEvents[e].listeners().forEach((e=>{t.push(e)}));return t}return this._getRunningEvent(t).listeners()}removeAllListeners(t){if(!this.provider)return this;if(null==t){for(const t in this._runningEvents){const e=this._runningEvents[t];e.removeAllListeners(),this._checkRunningEvents(e)}return this}const e=this._getRunningEvent(t);return e.removeAllListeners(),this._checkRunningEvents(e),this}off(t,e){if(!this.provider)return this;const r=this._getRunningEvent(t);return r.removeListener(e),this._checkRunningEvents(r),this}removeListener(t,e){return this.off(t,e)}}{}class ua{constructor(t){pe(this,"alphabet",t),pe(this,"base",t.length),pe(this,"_alphabetMap",{}),pe(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=qt(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return qt(new Uint8Array(e.reverse()))}}new ua("abcdefghijklmnopqrstuvwxyz234567");const ca=new ua("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function ha(t){return"0x"+Vs.sha256().update(qt(t)).digest("hex")}new Bt("sha2/5.6.0");const fa=new Bt("networks/5.6.1");function da(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const r=["goerli","ropsten","rinkeby"];try{const i=new e.PocketProvider(t);i.network&&-1===r.indexOf(i.network.name)&&n.push(i)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{n.push(new e.AnkrProvider(t,r.ankr))}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return da(t)},e}function pa(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return pa(t,e)},r}const ma={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:da("homestead")},ga={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:da("ropsten")},va={chainId:63,name:"classicMordor",_defaultProvider:pa("https://www.ethercluster.com/mordor","classicMordor")},ya={unspecified:{chainId:0,name:"unspecified"},homestead:ma,mainnet:ma,morden:{chainId:2,name:"morden"},ropsten:ga,testnet:ga,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:da("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:da("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:da("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:pa("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:va,classicTestnet:va,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:pa("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function ba(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return qt(e)}function wa(t){t=qt(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var Ea=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};function _a(t,e){return Ea(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach(((t,e)=>{s[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{s[t.toLowerCase()]=n.headers.get(t)})),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:qt(new Uint8Array(i))}}))}var ka=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Na=new Bt("web/5.6.0");function Aa(t){return new Promise((e=>{setTimeout(e,t)}))}function xa(t,e){if(null==t)return null;if("string"==typeof t)return t;if(jt(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Lr(t)}catch(t){}return Xt(t)}return t}function Ia(t,e,r){let n=null;if(null!=e){n=Fr(e);const r="string"==typeof t?{url:t}:ve(t);if(r.headers){0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=ve(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Na.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,s="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Na.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o="object"==typeof t&&!!t.errorPassThrough,a={};let l=null;const u={method:"GET"};let c=!1,h=12e4;if("string"==typeof t)l=t;else if("object"==typeof t){if(null!=t&&null!=t.url||Na.throwArgumentError("missing URL","connection.url",t),l=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==l.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Na.throwError("basic authentication requires a secure https url",Bt.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+wa(Fr(e))}}null!=t.skipFetchSetup&&(u.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=l?l.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:ba(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){Na.throwError("processing response error",Bt.errors.SERVER_ERROR,{body:xa(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),u.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(Na.makeError("timeout",Bt.errors.TIMEOUT,{requestBody:xa(u.body,p["content-type"]),requestMethod:u.method,timeout:h,url:l})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return ka(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield _a(l,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){l=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,l)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):s*parseInt(String(Math.random()*Math.pow(2,t))),yield Aa(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),Na.throwError("missing response",Bt.errors.SERVER_ERROR,{requestBody:xa(u.body,p["content-type"]),requestMethod:u.method,serverError:t,url:l}))}let a=e.body;if(c&&304===e.statusCode?a=null:!o&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),Na.throwError("bad response",Bt.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:xa(a,e.headers?e.headers["content-type"]:null),requestBody:xa(u.body,p["content-type"]),requestMethod:u.method,url:l})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,l)),e){const e=s*parseInt(String(Math.random()*Math.pow(2,t)));yield Aa(e);continue}}m.cancel(),Na.throwError("processing response error",Bt.errors.SERVER_ERROR,{body:xa(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:xa(u.body,p["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return Na.throwError("failed response",Bt.errors.SERVER_ERROR,{requestBody:xa(u.body,p["content-type"]),requestMethod:u.method,url:l})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Lr(t))}catch(e){Na.throwError("invalid JSON",Bt.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function Ma(t,e){return e||(e={}),null==(e=ve(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,s=!1;const o=()=>!s&&(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{o()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let l=0;!function i(){return t().then((function(t){if(void 0!==t)o()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!s){if(l++,l>a)return void(o()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){o()&&n(t)}))}()}))}for(var Ra="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Sa={},Pa=0;Pa<Ra.length;Pa++){var Ta=Ra.charAt(Pa);if(void 0!==Sa[Ta])throw new TypeError(Ta+" is ambiguous");Sa[Ta]=Pa}function Oa(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function $a(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Oa(e)^n>>5}for(e=Oa(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Oa(e)^31&i}return e}function Ca(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=$a(s);if("string"==typeof a)return a;for(var l=[],u=0;u<o.length;++u){var c=o.charAt(u),h=Sa[c];if(void 0===h)return"Unknown character "+c;a=Oa(a)^h,u+6>=o.length||l.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:s,words:l}}function Fa(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}var Ba={decodeUnsafe:function(){var t=Ca.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=Ca.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=$a(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!=0)throw new Error("Non 5-bit word");n=Oa(n)^o,i+=Ra.charAt(o)}for(s=0;s<6;++s)n=Oa(n);for(n^=1,s=0;s<6;++s){i+=Ra.charAt(n>>5*(5-s)&31)}return i},toWordsUnsafe:function(t){var e=Fa(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=Fa(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=Fa(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=Fa(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const La="providers/5.6.2",Da=new Bt(La);class Ua{constructor(){Da.checkNew(new.target,Ua),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return t.transaction={hash:s,type:l,accessList:Ua.allowNull(this.accessList.bind(this),null),blockHash:Ua.allowNull(s,null),blockNumber:Ua.allowNull(a,null),transactionIndex:Ua.allowNull(a,null),confirmations:Ua.allowNull(a,null),from:e,gasPrice:Ua.allowNull(r),maxPriorityFeePerGas:Ua.allowNull(r),maxFeePerGas:Ua.allowNull(r),gasLimit:r,to:Ua.allowNull(e,null),value:r,nonce:a,data:i,r:Ua.allowNull(this.uint256),s:Ua.allowNull(this.uint256),v:Ua.allowNull(a),creates:Ua.allowNull(e,null),raw:Ua.allowNull(i)},t.transactionRequest={from:Ua.allowNull(e),nonce:Ua.allowNull(a),gasLimit:Ua.allowNull(r),gasPrice:Ua.allowNull(r),maxPriorityFeePerGas:Ua.allowNull(r),maxFeePerGas:Ua.allowNull(r),to:Ua.allowNull(e),value:Ua.allowNull(r),data:Ua.allowNull((t=>this.data(t,!0))),type:Ua.allowNull(a),accessList:Ua.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:e,topics:Ua.arrayOf(s),data:i,logIndex:a,blockHash:s},t.receipt={to:Ua.allowNull(this.address,null),from:Ua.allowNull(this.address,null),contractAddress:Ua.allowNull(e,null),transactionIndex:a,root:Ua.allowNull(o),gasUsed:r,logsBloom:Ua.allowNull(i),blockHash:s,transactionHash:s,logs:Ua.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Ua.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Ua.allowNull(r),status:Ua.allowNull(a),type:l},t.block={hash:Ua.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:Ua.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Ua.allowNull(e),extraData:i,transactions:Ua.allowNull(Ua.arrayOf(s)),baseFeePerGas:Ua.allowNull(r)},t.blockWithTransactions=ve(t.block),t.blockWithTransactions.transactions=Ua.allowNull(Ua.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:Ua.allowNull(n,void 0),toBlock:Ua.allowNull(n,void 0),blockHash:Ua.allowNull(s,void 0),address:Ua.allowNull(e,void 0),topics:Ua.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:Ua.allowNull(a),blockHash:Ua.allowNull(s),transactionIndex:a,removed:Ua.allowNull(this.boolean.bind(this)),address:e,data:Ua.allowFalsish(i,"0x"),topics:Ua.arrayOf(s),transactionHash:s,logIndex:a},t}accessList(t){return Go(t||[])}number(t){return"0x"===t?0:ae.from(t).toNumber()}type(t){return"0x"===t||null==t?0:ae.from(t).toNumber()}bigNumber(t){return ae.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Jt(t))?t.toLowerCase():Da.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return fr(t)}callAddress(t){if(!Jt(t,32))return null;const e=fr(Zt(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return dr(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Jt(t))return Qt(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==Kt(r)?Da.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=ae.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Jt(t))throw new Error("invalid uint256");return te(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=Ua.check(e,t);return n._difficulty=null==r?null:ae.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return Ua.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&ae.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=Ua.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Jt(r)&&(r=ae.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Jt(r)&&(r=ae.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return Wo(t)}receiptLog(t){return Ua.check(this.formats.receiptLog,t)}receipt(t){const e=Ua.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=ae.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&Da.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):Da.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&Da.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return Ua.check(this.formats.filter,t)}filterLog(t){return Ua.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var ja=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const za=new Bt(La);function Ga(t){return null==t?"null":(32!==Kt(t)&&za.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function qa(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[Ga(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return Ga(t)})).join("&")}function Ha(t){if("string"==typeof t){if(32===Kt(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+qa(t);if(Bn.isForkEvent(t))throw za.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+qa(t.topics||[])}throw new Error("invalid event - "+t)}function Va(){return(new Date).getTime()}function Ja(t){return new Promise((e=>{setTimeout(e,t)}))}const Wa=["block","network","pending","poll"];class Xa{constructor(t,e,r){pe(this,"tag",t),pe(this,"listener",e),pe(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||Wa.indexOf(this.tag)>=0}}const Ka={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Za(t){return te(ae.from(t).toHexString(),32)}function Ya(t){return ca.encode(Ht([t,Zt(ha(ha(t)),0,4)]))}const Qa=new RegExp("^(ipfs)://(.*)$","i"),tl=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Qa,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function el(t,e){try{return Lr(rl(t,e))}catch(t){}return null}function rl(t,e){if("0x"===t)return null;const r=ae.from(Zt(t,e,e+32)).toNumber(),n=ae.from(Zt(t,r,r+32)).toNumber();return Zt(t,r+32,r+32+n)}function nl(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):za.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function il(t){const e=qt(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function sl(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function ol(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=qt(t[n]);e[n]=il(r),e.push(il(i.length)),e.push(sl(i)),r+=32+32*Math.ceil(i.length/32)}return Yt(e)}class al{constructor(t,e,r,n){pe(this,"provider",t),pe(this,"name",r),pe(this,"address",t.formatter.address(e)),pe(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>ae.from(t).eq(1))).catch((t=>{if(t.code===Bt.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return ja(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:Yt([t,cn(this.name),e||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=Yt(["0x9061b923",ol([(i=this.name,Xt(Ht(i.split(".").map((t=>{const e=Fr("_"+Kr(t));return e[0]=e.length-1,e}))))+"00"),r.data])]));try{let t=yield this.provider.call(r);return qt(t).length%32==4&&za.throwError("resolver threw error",Bt.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=rl(t,0)),t}catch(t){if(t.code===Bt.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return ja(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?rl(r,0):null}))}_getAddress(t,e){const r=Ka[String(t)];if(null==r&&za.throwError(`unsupported coin type: ${t}`,Bt.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=qt(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ya(Ht([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Ya(Ht([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=Ba.toWords(n.slice(2));return t.unshift(e),Ba.encode(r.prefix,t)}}return null}getAddress(t){return ja(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===Bt.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",Za(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&za.throwError("invalid or unsupported coin data",Bt.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return ja(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<tl.length;r++){const n=e.match(tl[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:nl(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const s=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;const a=yield this.provider.formatter.address(o[0]),l=te(ae.from(o[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:Yt(["0x6352211e",l])}));if(s!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=ae.from(yield this.provider.call({to:a,data:Yt(["0x00fdd58e",te(s,32),l])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const u={to:this.provider.formatter.address(o[0]),data:Yt([r,l])};let c=el(yield this.provider.call(u),0);if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=nl(c)),t.push({type:"metadata-url",content:c});const h=yield Ia(c);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(Qa))return null;t.push({type:"url-ipfs",content:f}),f=nl(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return ja(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+ca.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+ca.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:za.throwError("invalid or unsupported content hash data",Bt.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return ja(this,void 0,void 0,(function*(){let e=Fr(t);e=Ht([Za(64),Za(e.length),e]),e.length%32!=0&&(e=Ht([e,te("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Xt(e));return null==r||"0x"===r?null:Lr(r)}))}}let ll=null,ul=1;class cl extends Ln{constructor(t){if(za.checkNew(new.target,Ln),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),pe(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=me(new.target,"getNetwork")(t);e?(pe(this,"_network",e),this.emit("network",e,null)):za.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ja(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||za.throwError("no network detected",Bt.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:pe(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return Ma((()=>this._ready().then((t=>t),(t=>{if(t.code!==Bt.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==ll&&(ll=new Ua),ll}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in ya){const r=ya[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=ya[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=ya[t.name];if(!e)return"number"!=typeof t.chainId&&fa.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&fa.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return ja(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),s=[];for(let t=0;t<r.length;t++){const e=r[t],o=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield Ia({url:o,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(l.data)return l.data;const u=l.message||"unknown error";if(l.status>=400&&l.status<500)return za.throwError(`response not found during CCIP fetch: ${u}`,Bt.errors.SERVER_ERROR,{url:e,errorMessage:u});s.push(u)}return za.throwError(`error encountered during CCIP fetch: ${s.map((t=>JSON.stringify(t))).join(", ")}`,Bt.errors.SERVER_ERROR,{urls:r,errorMessages:s})}))}_getInternalBlockNumber(t){return ja(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(Va()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=Va(),r=ge({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=Va();return(t=ae.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return ja(this,void 0,void 0,(function*(){const t=ul++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)za.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",za.makeError("network block skew detected",Bt.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ja(this,void 0,void 0,(function*(){return za.throwError("provider does not support network detection",Bt.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return ja(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield Ja(0),this._network;const r=za.makeError("underlying network changed",Bt.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=Va();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=Va(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return ja(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return ja(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,s)=>{const o=[];let a=!1;const l=function(){return!!a||(a=!0,o.forEach((t=>{t()})),!1)},u=t=>{t.confirmations<e||l()||i(t)};if(this.on(t,u),o.push((()=>{this.removeListener(t,u)})),n){let r=n.startBlock,i=null;const u=o=>ja(this,void 0,void 0,(function*(){a||(yield Ja(1e3),this.getTransactionCount(n.from).then((c=>ja(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=o;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=o;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const o=r.transactions[i];if(o.hash===t)return;if(o.from===n.from&&o.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(o.hash,e);if(l())return;let i="replaced";return o.data===n.data&&o.to===n.to&&o.value.eq(n.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),void s(za.makeError("transaction was replaced",Bt.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:t,receipt:r}))}}i++}}a||this.once("block",u)}}))),(t=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),o.push((()=>{this.removeListener("block",u)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{l()||s(za.makeError("timeout exceeded",Bt.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),o.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return ja(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return ae.from(t)}catch(e){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ge({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return ae.from(n)}catch(t){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ge({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return ae.from(n).toNumber()}catch(t){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ge({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return Xt(n)}catch(t){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield ge({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>Qt(t)))}),i=yield this.perform("getStorageAt",n);try{return Xt(i)}catch(t){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==Kt(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&za.throwError("Transaction hash mismatch from Provider.sendTransaction.",Bt.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>ja(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const s=yield this._waitForTransaction(t.hash,e,n,i);return null==s&&0===e?null:(this._emitted["t:"+t.hash]=s.blockNumber,0===s.status&&za.throwError("transaction failed",Bt.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:s}),s)})),n}sendTransaction(t){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>Xt(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return ja(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?ae.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Xt(t):null)))})),this.formatter.transactionRequest(yield ge(r))}))}_getFilter(t){return ja(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield ge(e))}))}_call(t,e,r){return ja(this,void 0,void 0,(function*(){r>=10&&za.throwError("CCIP read exceeded maximum redirections",Bt.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&Kt(i)%32==4)try{const s=Zt(i,4),o=Zt(s,0,32);ae.from(o).eq(n)||za.throwError("CCIP Read sender did not match",Bt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],l=ae.from(Zt(s,32,64)).toNumber(),u=ae.from(Zt(s,l,l+32)).toNumber(),c=Zt(s,l+32);for(let e=0;e<u;e++){const r=el(c,32*e);null==r&&za.throwError("CCIP Read contained corrupt URL string",Bt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const h=rl(s,64);ae.from(Zt(s,100,128)).isZero()||za.throwError("CCIP Read callback selector included junk",Bt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=Zt(s,96,100),d=rl(s,128),p=yield this.ccipReadFetch(t,h,a);null==p&&za.throwError("CCIP Read disabled or provided no URLs",Bt.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:Yt([f,ol([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===Bt.errors.SERVER_ERROR)throw t}try{return Xt(i)}catch(r){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield ge({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield ge({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return ae.from(r)}catch(t){return za.throwError("bad result from backend",Bt.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return ja(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&za.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&za.throwError("ENS name not configured",Bt.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return ja(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(Jt(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),Jt(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){za.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Ma((()=>ja(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return ja(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ma((()=>ja(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return ja(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Ma((()=>ja(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return ja(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield ge({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),Ua.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return ja(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return ja(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&za.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return ja(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new al(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return ja(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||za.throwError("network does not support ENS",Bt.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+cn(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return ja(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(Jt(t))throw e}"string"!=typeof t&&za.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return ja(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=el(yield this.call({to:r,data:"0x691f3431"+cn(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return ja(this,void 0,void 0,(function*(){let e=null;if(Jt(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new al(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==Bt.errors.CALL_EXCEPTION)throw t}try{const t=el(yield this.call({to:n,data:"0x691f3431"+cn(r).substring(2)}),0);e=yield this.getResolver(t)}catch(t){if(t.code!==Bt.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return za.throwError(t+" not implemented",Bt.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new Xa(Ha(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=Ha(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=Ha(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=Ha(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=Ha(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=Ha(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var hl=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const fl=new Bt(La),dl=["call","estimateGas"];function pl(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")&&Jt(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=pl(t[e]);if(r)return r}return null}if("string"==typeof t)try{return pl(JSON.parse(t))}catch(t){}return null}function ml(t,e,r){if("call"===t){const t=pl(e);if(t)return t.data;fl.throwError("missing revert data in call exception",Bt.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===Bt.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&fl.throwError("insufficient funds for intrinsic transaction cost",Bt.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce too low/)&&fl.throwError("nonce has already been used",Bt.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&fl.throwError("replacement fee too low",Bt.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&fl.throwError("legacy pre-eip-155 transactions not supported",Bt.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),dl.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&fl.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Bt.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function gl(t){return new Promise((function(e){setTimeout(e,t)}))}function vl(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function yl(t){return t?t.toLowerCase():t}const bl={};class wl extends Gn{constructor(t,e,r){if(fl.checkNew(new.target,wl),super(),t!==bl)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");pe(this,"provider",e),null==r&&(r=0),"string"==typeof r?(pe(this,"_address",this.provider.formatter.address(r)),pe(this,"_index",null)):"number"==typeof r?(pe(this,"_index",r),pe(this,"_address",null)):fl.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return fl.throwError("cannot alter JSON-RPC Signer connection",Bt.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new El(bl,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&fl.throwError("unknown account #"+this._index,Bt.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=ve(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=ve(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>hl(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&fl.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),ge({tx:ge(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&fl.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>ml("sendTransaction",t,n)))}))}signTransaction(t){return fl.throwError("signing transactions is unsupported",Bt.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return hl(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Ma((()=>hl(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return hl(this,void 0,void 0,(function*(){const e="string"==typeof t?Fr(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[Xt(e),r.toLowerCase()])}))}_legacySignMessage(t){return hl(this,void 0,void 0,(function*(){const e="string"==typeof t?Fr(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),Xt(e)])}))}_signTypedData(t,e,r){return hl(this,void 0,void 0,(function*(){const n=yield xn.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(xn.getPayload(n.domain,e,n.value))])}))}unlock(t){return hl(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class El extends wl{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const _l={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class kl extends cl{constructor(t,e){fl.checkNew(new.target,kl);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=me(this.constructor,"defaultUrl")()),pe(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(ve(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return hl(this,void 0,void 0,(function*(){yield gl(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=me(this.constructor,"getNetwork");try{return e(ae.from(t).toNumber())}catch(e){return fl.throwError("could not detect network",Bt.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return fl.throwError("could not detect network",Bt.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new wl(bl,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Ee(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=Ia(this.connection,JSON.stringify(r),vl).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[yl(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[yl(e.address),e.blockTag]];case"getCode":return["eth_getCode",[yl(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[yl(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[me(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[me(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=yl(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return hl(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&ae.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=ve(e)).transaction=ve(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&fl.throwError(t+" not implemented",Bt.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return ml(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return gl(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=ve(_l);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||de.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||de.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=Qt(t[e]);"gasLimit"===e&&(e="gas"),s[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(s[e]=Xt(t[e]))})),t.accessList&&(s.accessList=Go(t.accessList)),s}}new Bt("ethers/5.6.2");var Nl=[{chainId:1,chainName:"mainnet",rpcUrls:["https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://etherscan.io"],openSea:{assets:"https://opensea.io/assets",openNFTs:"https://opensea.io/collection/kredeum-nfts"},subgraph:{url:"https://api.thegraph.com/subgraphs/name/amxx/eip721-subgraph/graphql",active:!1},covalent:{active:!0},eip1559:!0,create:!0,mainnet:!0,defaultOpenNFTs:"0x82a398243EBc2CB26a4A21B9427EC6Db8c224471",nftsFactory:"0x4b7992F03906F7bBE3d48E5Fb724f52c56cFb039",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800"},{chainId:42161,chainName:"arbitrum",rpcUrls:["https://arbitrum-mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},blockExplorerUrls:["https://arbiscan.io","https://explorer.arbitrum.io"],covalent:{active:!1},create:!0,mainnet:!0,defaultOpenNFTs:"0x8a324A30C8ca1E9CFcea267C2116968cAacEd1D6",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800"},{chainId:10,chainName:"optimism",rpcUrls:["https://mainnet.optimism.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},blockExplorerUrls:["https://optimistic.etherscan.io"],covalent:{active:!1},defaultOpenNFTs:"0x353e747242CD4806Cb18D70a42cEa01512b18A3B",nftsFactoryV2:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",create:!0,mainnet:!0},{chainId:137,chainName:"matic",rpcUrls:["https://polygon-mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161","https://polygon-rpc.com/"],nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},blockExplorerUrls:["https://polygonscan.com","https://polygon-explorer-mainnet.chainstacklabs.com"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/tranchien2002/eip721-matic",startBlock:16875648,active:!0},covalent:{active:!0},openSea:{assets:"https://opensea.io/assets/matic",openNFTs:"https://opensea.io/collection/kredeum-nfts"},defaultOpenNFTs:"0xda67B337B777AE6Cf99DcAbD5c38916DDc2CF5d5",nftsFactory:"0x3157Ac677F6F273b75E99A2216CD078E22E9be02",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:43114,chainName:"avalanche",rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://snowtrace.io","https://cchain.explorer.avax.network"],covalent:{active:!0},defaultOpenNFTs:"0xd719d8bA14F7EA708b42fFA0903d430F1B1c88a9",nftsFactory:"0x0ED91009756b1d684F2D953f56cF84373D8CEB25",nftsFactoryV2:"0x016fa6b76Fb24e651806455e58710d48880226f9",create:!0,mainnet:!0},{chainId:100,chainName:"xdai",rpcUrls:["https://rpc.xdaichain.com","https://xdai.poanetwork.dev/","https://dai.poa.network/"],nativeCurrency:{name:"xDAI",symbol:"xDAI",decimals:18},blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],defaultOpenNFTs:"0xF6169393986b38e57D61187051c3F5B554796f83",nftsFactory:"0x86246ba8F7b25B1650BaF926E42B66Ec18D96000",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:250,chainName:"fantom",rpcUrls:["https://rpc.ftm.tools/","https://rpcapi.fantom.network"],nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},blockExplorerUrls:["https://ftmscan.com"],covalent:{active:!0},defaultOpenNFTs:"0x5E03Acd53d5D3A834278014D91F0AFD36f8147Ce",nftsFactory:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:56,chainName:"bsc",rpcUrls:["https://bsc-dataseed.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed1.ninicoin.io"],nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},blockExplorerUrls:["https://bscscan.com"],covalent:{active:!0},defaultOpenNFTs:"0x57bdf6e59c2652d349f7022beb8d1b7458ca09eb",nftsFactory:"0x03F9c54b5D5De9b2323d944Faa406E3F20734B67",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,mainnet:!0},{chainId:4,chainName:"rinkeby",rpcUrls:["https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://rinkeby.etherscan.io"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-rinkeby",active:!0},eip1559:!0,defaultOpenNFTs:"0xF85795E50e247a52A6d14389bEcaD4998a691477",nftsFactory:"0xec7EBB4E7cdcE23e992BFDc4fc81D89Cc9Ac9A74",nftsFactoryV2:"0x6FC132204A4f1a93785a11123b1062F05697a751",create:!0,testnet:!0},{chainId:5,chainName:"goerli",rpcUrls:["https://goerli.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://goerli.etherscan.io"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-goerli",active:!1},eip1559:!0,defaultOpenNFTs:"",nftsFactory:"0x636BeA69422e087eA87Ae6A98300065C11826b2C",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:42,chainName:"kovan",rpcUrls:["https://kovan.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://kovan.etherscan.io"],covalent:{active:!1},eip1559:!0,defaultOpenNFTs:"0x40919dc04668b6108546F3b2dda66Ea926c6c972",nftsFactory:"0xA6F70de9aBe6cAE865fa723f7741699B63f47517",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:80001,chainName:"mumbai",rpcUrls:["https://matic-mumbai.chainstacklabs.com","https://rpc-mumbai.maticvigil.com/v1","https://polygon-mumbai.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Matic",symbol:"tMATIC",decimals:18},blockExplorerUrls:["https://mumbai.polygonscan.com","https://polygon-explorer-mumbai.chainstacklabs.com"],subgraph:{url:"https://api.thegraph.com/subgraphs/name/zapaz/eip721-mumbai",active:!0},covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0x89bB80B13Eee16ed88DF4357009856CbAd8ba035",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:421611,chainName:"arbitrumrinkeby",rpcUrls:["https://arbitrum-rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"],nativeCurrency:{name:"Ether",symbol:"ARETH",decimals:18},blockExplorerUrls:["https://testnet.arbiscan.io","https://rinkeby-explorer.arbitrum.io"],covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0x5E03Acd53d5D3A834278014D91F0AFD36f8147Ce",nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:69,chainName:"optimismkovan",rpcUrls:["https://kovan.optimism.io"],nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},blockExplorerUrls:["https://kovan-optimistic.etherscan.io"],covalent:{active:!1},defaultOpenNFTs:"0xBda19424590E3DB9DF04091F7510F487eD19E037",nftsFactory:"0x636BeA69422e087eA87Ae6A98300065C11826b2C",nftsFactoryV2:"0xD53e7aa446e4615DEC602c1D0d024425256f631a",create:!0,testnet:!0},{chainId:4002,chainName:"fantomtestnet",rpcUrls:["https://rpc.testnet.fantom.network"],nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},blockExplorerUrls:["https://testnet.ftmscan.com"],covalent:{active:!1},nftsFactoryV2:"0xD5dA0F2bf1029c64460e4e1CE1fA0f88E7E39800",create:!0,testnet:!0},{chainId:43113,chainName:"fuji",rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://testnet.snowtrace.io","https://cchain.explorer.avax-test.network"],covalent:{active:!0},defaultOpenNFTs:"",nftsFactory:"0xC308A8c2fbDea84D1028F906cf966492B14645a0",nftsFactoryV2:"0x98C1c1AA566C329f339488Af2F8F95D33cf1A507",create:!0,testnet:!0},{chainId:31337,chainName:"hardhat",rpcUrls:["http://127.0.0.1:8545"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["http://localhost/explorer"],defaultOpenNFTs:"",nftsFactory:"0x4b7992F03906F7bBE3d48E5Fb724f52c56cFb039",nftsFactoryV2:"0x79F74cB4cE9FA902AC603DfEb7D04b03F3575EBf",testnet:!0}],Al={latest:"0.13.1",stable:"0.13.0"};const xl="No name",Il="NFT",Ml=async(t,e)=>{var r;return e===(null===(r=await(null==t?void 0:t.getNetwork()))||void 0===r?void 0:r.chainId)},Rl=new Map(Nl.map((t=>[t.chainId,t]))),Sl=t=>{if(!t)return"";let e=t;try{e=fr(String(t))}catch(t){console.log("getChecksumAddress ERROR on @ '"+e+"'")}return e},Pl=t=>Rl.get(Number(t)),Tl=t=>{var e,r,n,i;return(null===(r=null===(e=Pl(t))||void 0===e?void 0:e.subgraph)||void 0===r?void 0:r.active)&&(null===(i=null===(n=Pl(t))||void 0===n?void 0:n.subgraph)||void 0===i?void 0:i.url)||""},Ol=t=>{var e,r;return Boolean(null===(r=null===(e=Pl(t))||void 0===e?void 0:e.covalent)||void 0===r?void 0:r.active)},$l=t=>{var e;return t>0?(null===(e=Pl(t))||void 0===e?void 0:e.chainName)||String(t):""},Cl=t=>{var e;return(null===(e=Pl(t))||void 0===e?void 0:e.blockExplorerUrls[0])||""},Fl=t=>{var e;return Boolean(null===(e=Pl(t))||void 0===e?void 0:e.create)},Bl=(t,e)=>{const r=Pl(t);return"collection://"+(r?r.chainName:"...")+(e?"/"+Sl(e):"/...")},Ll=(t,e)=>((t,e,r="",n=999)=>{const i=Pl(t);return t&&e&&r&&i?"nft://"+(i?i.chainName+(e?"/"+Ul(e,n)+(r?"/"+Dl(r,8):""):""):""):""})(t.chainId,t.address,t.tokenID,e),Dl=(t,e=16,r=e)=>{const n=(null==t?void 0:t.toString())||"",i=Vl(n),s=i.length||0;return i.substring(0,e)+(s<e?"":"..."+(r>0?i.substring(s-r,s):""))},Ul=(t,e=8)=>t?t.endsWith(".eth")?Dl(t,2*e,0):Dl(Sl(t),e,e):"?",jl=(t,e)=>(null==t?void 0:t.toLowerCase())===(null==e?void 0:e.toLowerCase()),zl=(t=0)=>"0x"+Number(t).toString(16),Gl=(t,e)=>`<a href="${t}" target="_blank">${e||t}</a>`,ql=t=>{if(!t)return"";let e="",r="";if(t.startsWith("Qm")||t.startsWith("ba"))r=t;else if(t.startsWith("ipfs://"))t.startsWith("ipfs://ipfs/")?r=t.replace(/^ipfs:\/\/(ipfs\/)/,""):e=t;else{const e=t.match(/^.*\/ipfs\/(.*)$/i);r=e&&e[1]||""}return r&&(e=Hl(r)),e},Hl=t=>t?`ipfs://${t}`:"",Vl=t=>t.replace(/^ipfs:\/\//,""),Jl=t=>`https://ipfs.io/ipfs/${Vl(t)}`,Wl=t=>Gl(Jl(t),Dl(t)),Xl=(t,e)=>Cl(t)+"/"+e.replace(/^\//,""),Kl=t=>"https://blockscan.com/"+t.replace(/^\//,""),Zl=(t,e)=>t>0?Xl(t,`/address/${e}`):Kl(`/address/${e}`),Yl=(t,e)=>Xl(t,`/tx/${e}`),Ql=t=>tu(t,mu(t)),tu=(t,e)=>{var r,n;let i="";return i=(null===(r=Cl(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||(null===(n=Cl(t))||void 0===n?void 0:n.includes("blockscout.com"))?Xl(t,`/address/${e}/contracts`):Xl(t,`/address/${e}#readContract`),i},eu=(t,e="")=>{var r,n;let i="";return i=(null===(r=Cl(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||(null===(n=Cl(t))||void 0===n?void 0:n.includes("blockscout.com"))?Xl(t,`/token/${e}/inventory`):Xl(t,`/token/${e}#inventory`),i},ru=(t,e)=>`./#/${$l(e.chainId)}/${null==e?void 0:e.address}/${null==e?void 0:e.tokenID}`,nu=(t,e)=>{var r,n;let i="";return(null===(r=Cl(t))||void 0===r?void 0:r.includes("chainstacklabs.com"))||(null===(n=Cl(t))||void 0===n?void 0:n.includes("blockscout.com"))?(i=Xl(t,`/tokens/${null==e?void 0:e.address}/instance/${null==e?void 0:e.tokenID}/metadata`),i=Xl(t,`/token/${null==e?void 0:e.address}/instance/${null==e?void 0:e.tokenID}/metadata`)):i=Xl(t,`/token/${null==e?void 0:e.address}?a=${null==e?void 0:e.tokenID}#inventory`),i},iu=(t,e,r)=>Gl(Zl(t,e),Ul(e,r)),su=(t,e)=>{const r=(t=>{var e,r;return(null===(r=null===(e=Pl(t))||void 0===e?void 0:e.openSea)||void 0===r?void 0:r.assets)||""})(t);return`${r}/${null==e?void 0:e.address}/${null==e?void 0:e.tokenID}`},ou=t=>(null==t?void 0:t.name)||`${(null==t?void 0:t.contractName)||xl} #${null==t?void 0:t.tokenID}`,au=t=>(null==t?void 0:t.name)!=(null==t?void 0:t.description)&&(null==t?void 0:t.description)||ou(t),lu=(t,e=16)=>Dl(au(t),e,0),uu=t=>{const e=new $n(t);let r=ae.from(0);return e.fragments.forEach((t=>{"function"===t.type&&(r=r.xor(ae.from(e.getSighash(t))))})),Xt(r)},cu=(t,e,r,n)=>`nft://${String(t)}/${e}/${r}${n?"@"+n:""}`,hu=(t,e,r)=>`collection://${String(t)}/${e}${r?"@"+r:""}`;var fu=["event ImplementationNew(address indexed,address indexed,uint256)","event TemplateSet(string indexed,address indexed)","function implementations(uint256) view returns (address)","function implementationsAdd(address[])","function implementationsCount() view returns (uint256)","function templateSet(string,address)","function templates(string) view returns (address)"],du=["function balancesOf(address) view returns (tuple(address,uint256,address,string,string,uint256)[])","function clone(string,string,string,bool[]) returns (address)"];const pu=new Map,mu=t=>{var e;return(null===(e=Pl(t))||void 0===e?void 0:e.nftsFactoryV2)||""},gu=(t,e)=>{let r=pu.get(t);return r||(r=new la(mu(t),fu.concat(du),e),pu.set(t,r)),r};var vu=function({mustBeMetaMask:t=!1,silent:e=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function s(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",s);const{ethereum:r}=window;if(!r||t&&!r.isMetaMask){const n=t&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!e&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?s():(window.addEventListener("ethereum#initialized",s,{once:!0}),setTimeout((()=>{s()}),r))}))},yu={exports:{}};!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:require("buffer").Buffer}catch(t){}function o(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function l(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=l(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var h=1;for(u=l(t,c,t.length,e),c=0;c<o;c++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,l=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=l>>>26,h=67108863&l,f=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=f;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+h)/67108864|0,h=67108863&o}r.words[u]=0|h,l=0|c}return 0!==l?r.words[u]=0|l:r.length--,r.strip()}i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<i|s)).toString(16);n=0!==(s=a>>>24-i&16777215)||o!==this.length-1?u[6-l.length]+l+n:l+n,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var f=c[t],d=h[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(d).toString(t);n=(p=p.idivn(d)).isZero()?m+n:u[f-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(t,e){return r(void 0!==s),this.toArrayLike(s,t,e)},i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},i.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0"),this.strip();var o,a,l="le"===e,u=new t(s),c=this.clone();if(l){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-i;a++)u[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[s-a-1]=o}return u},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},i.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},i.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},i.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,s,o=t.words,a=e.words,l=r.words,u=0,c=0|o[0],h=8191&c,f=c>>>13,d=0|o[1],p=8191&d,m=d>>>13,g=0|o[2],v=8191&g,y=g>>>13,b=0|o[3],w=8191&b,E=b>>>13,_=0|o[4],k=8191&_,N=_>>>13,A=0|o[5],x=8191&A,I=A>>>13,M=0|o[6],R=8191&M,S=M>>>13,P=0|o[7],T=8191&P,O=P>>>13,$=0|o[8],C=8191&$,F=$>>>13,B=0|o[9],L=8191&B,D=B>>>13,U=0|a[0],j=8191&U,z=U>>>13,G=0|a[1],q=8191&G,H=G>>>13,V=0|a[2],J=8191&V,W=V>>>13,X=0|a[3],K=8191&X,Z=X>>>13,Y=0|a[4],Q=8191&Y,tt=Y>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],lt=8191&at,ut=at>>>13,ct=0|a[8],ht=8191&ct,ft=ct>>>13,dt=0|a[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(u+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(f,j)|0))<<13)|0;u=((s=Math.imul(f,z))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(m,j)|0,s=Math.imul(m,z);var vt=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(f,q)|0))<<13)|0;u=((s=s+Math.imul(f,H)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(v,j),i=(i=Math.imul(v,z))+Math.imul(y,j)|0,s=Math.imul(y,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(m,q)|0,s=s+Math.imul(m,H)|0;var yt=(u+(n=n+Math.imul(h,J)|0)|0)+((8191&(i=(i=i+Math.imul(h,W)|0)+Math.imul(f,J)|0))<<13)|0;u=((s=s+Math.imul(f,W)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(E,j)|0,s=Math.imul(E,z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(y,q)|0,s=s+Math.imul(y,H)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,W)|0;var bt=(u+(n=n+Math.imul(h,K)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,K)|0))<<13)|0;u=((s=s+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,z))+Math.imul(N,j)|0,s=Math.imul(N,z),n=n+Math.imul(w,q)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(E,q)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(y,J)|0,s=s+Math.imul(y,W)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,Z)|0;var wt=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;u=((s=s+Math.imul(f,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(x,j),i=(i=Math.imul(x,z))+Math.imul(I,j)|0,s=Math.imul(I,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(N,q)|0,s=s+Math.imul(N,H)|0,n=n+Math.imul(w,J)|0,i=(i=i+Math.imul(w,W)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,W)|0,n=n+Math.imul(v,K)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(y,K)|0,s=s+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,tt)|0;var Et=(u+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;u=((s=s+Math.imul(f,nt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(R,j),i=(i=Math.imul(R,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(I,q)|0,s=s+Math.imul(I,H)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(N,J)|0,s=s+Math.imul(N,W)|0,n=n+Math.imul(w,K)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,Q)|0,s=s+Math.imul(y,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,s=s+Math.imul(m,nt)|0;var _t=(u+(n=n+Math.imul(h,st)|0)|0)+((8191&(i=(i=i+Math.imul(h,ot)|0)+Math.imul(f,st)|0))<<13)|0;u=((s=s+Math.imul(f,ot)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(R,q)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul(S,q)|0,s=s+Math.imul(S,H)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,W)|0)+Math.imul(I,J)|0,s=s+Math.imul(I,W)|0,n=n+Math.imul(k,K)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(N,K)|0,s=s+Math.imul(N,Z)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,s=s+Math.imul(y,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(m,st)|0,s=s+Math.imul(m,ot)|0;var kt=(u+(n=n+Math.imul(h,lt)|0)|0)+((8191&(i=(i=i+Math.imul(h,ut)|0)+Math.imul(f,lt)|0))<<13)|0;u=((s=s+Math.imul(f,ut)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(C,j),i=(i=Math.imul(C,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,q)|0,i=(i=i+Math.imul(T,H)|0)+Math.imul(O,q)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,W)|0,n=n+Math.imul(x,K)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(I,K)|0,s=s+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(N,Q)|0,s=s+Math.imul(N,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(E,rt)|0,s=s+Math.imul(E,nt)|0,n=n+Math.imul(v,st)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(y,st)|0,s=s+Math.imul(y,ot)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,lt)|0,s=s+Math.imul(m,ut)|0;var Nt=(u+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;u=((s=s+Math.imul(f,ft)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(D,j)|0,s=Math.imul(D,z),n=n+Math.imul(C,q)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(F,q)|0,s=s+Math.imul(F,H)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,W)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,W)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(S,K)|0,s=s+Math.imul(S,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(I,Q)|0,s=s+Math.imul(I,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(N,rt)|0,s=s+Math.imul(N,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(E,st)|0,s=s+Math.imul(E,ot)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ut)|0)+Math.imul(y,lt)|0,s=s+Math.imul(y,ut)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,s=s+Math.imul(m,ft)|0;var At=(u+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;u=((s=s+Math.imul(f,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,H))+Math.imul(D,q)|0,s=Math.imul(D,H),n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(F,J)|0,s=s+Math.imul(F,W)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,Z)|0,n=n+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(S,Q)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(I,rt)|0,s=s+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,i=(i=i+Math.imul(k,ot)|0)+Math.imul(N,st)|0,s=s+Math.imul(N,ot)|0,n=n+Math.imul(w,lt)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(E,lt)|0,s=s+Math.imul(E,ut)|0,n=n+Math.imul(v,ht)|0,i=(i=i+Math.imul(v,ft)|0)+Math.imul(y,ht)|0,s=s+Math.imul(y,ft)|0;var xt=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((s=s+Math.imul(m,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,W))+Math.imul(D,J)|0,s=Math.imul(D,W),n=n+Math.imul(C,K)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(F,K)|0,s=s+Math.imul(F,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(x,st)|0,i=(i=i+Math.imul(x,ot)|0)+Math.imul(I,st)|0,s=s+Math.imul(I,ot)|0,n=n+Math.imul(k,lt)|0,i=(i=i+Math.imul(k,ut)|0)+Math.imul(N,lt)|0,s=s+Math.imul(N,ut)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ft)|0)+Math.imul(E,ht)|0,s=s+Math.imul(E,ft)|0;var It=(u+(n=n+Math.imul(v,pt)|0)|0)+((8191&(i=(i=i+Math.imul(v,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((s=s+Math.imul(y,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,K),i=(i=Math.imul(L,Z))+Math.imul(D,K)|0,s=Math.imul(D,Z),n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(F,Q)|0,s=s+Math.imul(F,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(R,st)|0,i=(i=i+Math.imul(R,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(x,lt)|0,i=(i=i+Math.imul(x,ut)|0)+Math.imul(I,lt)|0,s=s+Math.imul(I,ut)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(N,ht)|0,s=s+Math.imul(N,ft)|0;var Mt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((s=s+Math.imul(E,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(L,Q),i=(i=Math.imul(L,tt))+Math.imul(D,Q)|0,s=Math.imul(D,tt),n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(F,rt)|0,s=s+Math.imul(F,nt)|0,n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ut)|0)+Math.imul(S,lt)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(I,ht)|0,s=s+Math.imul(I,ft)|0;var Rt=(u+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((s=s+Math.imul(N,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(D,rt)|0,s=Math.imul(D,nt),n=n+Math.imul(C,st)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(F,st)|0,s=s+Math.imul(F,ot)|0,n=n+Math.imul(T,lt)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(O,lt)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(R,ht)|0,i=(i=i+Math.imul(R,ft)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ft)|0;var St=(u+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(I,pt)|0))<<13)|0;u=((s=s+Math.imul(I,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(D,st)|0,s=Math.imul(D,ot),n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(F,lt)|0,s=s+Math.imul(F,ut)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ft)|0;var Pt=(u+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,mt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,mt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,lt),i=(i=Math.imul(L,ut))+Math.imul(D,lt)|0,s=Math.imul(D,ut),n=n+Math.imul(C,ht)|0,i=(i=i+Math.imul(C,ft)|0)+Math.imul(F,ht)|0,s=s+Math.imul(F,ft)|0;var Tt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ft))+Math.imul(D,ht)|0,s=Math.imul(D,ft);var Ot=(u+(n=n+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(F,pt)|0))<<13)|0;u=((s=s+Math.imul(F,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863;var $t=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,mt))+Math.imul(D,pt)|0))<<13)|0;return u=((s=Math.imul(D,mt))+(i>>>13)|0)+($t>>>26)|0,$t&=67108863,l[0]=gt,l[1]=vt,l[2]=yt,l[3]=bt,l[4]=wt,l[5]=Et,l[6]=_t,l[7]=kt,l[8]=Nt,l[9]=At,l[10]=xt,l[11]=It,l[12]=Mt,l[13]=Rt,l[14]=St,l[15]=Pt,l[16]=Tt,l[17]=Ot,l[18]=$t,0!==u&&(l[19]=u,r.length++),r};function p(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(d=f),i.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?d(this,t,e):n<63?f(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,l=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=l;u++){var c=s-u,h=(0|t.words[c])*(0|e.words[u]),f=67108863&h;a=67108863&(f=f+a|0),i+=(o=(o=o+(h/67108864|0)|0)+(f>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):p(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=i.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},m.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var h=l,f=u,d=0;d<o;d++){var p=r[c+d],m=n[c+d],g=r[c+d+o],v=n[c+d+o],y=h*g-f*v;v=h*v+f*g,g=y,r[c+d]=p+g,n[c+d]=m+v,r[c+d+o]=p-g,n[c+d+o]=m-v,d!==a&&(y=l*h-u*f,f=l*f+u*h,h=y)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],n[2*o]=8191&s,s>>>=13,n[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)n[o]=0;r(0===s),r(0==(-8192&s))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),l=new Array(n),u=new Array(n),c=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,l,n,i),this.transform(u,s,c,h,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-l[d]*h[d];l[d]=a[d]*h[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,n),this.transform(a,l,f,s,n,i),this.conjugate(f,s,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),p(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[n]=67108863&s}return 0!==e&&(this.words[n]=e,this.length++),this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,l=(0|this.words[e])-a<<n;this.words[e]=l|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,l=n;if(i-=o,i=Math.max(0,i),l){for(var u=0;u<o;u++)l.words[u]=this.words[u];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var h=0|this.words[u];this.words[u]=c<<26-s|h>>>s,c=h&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s,o=t.length+n;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+n])+a;var l=(0|t.words[i])*e;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&s}for(;i<this.length-n;i++)a=(s=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&s;if(0===a)return this.strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,l=n.length-s.length;if("mod"!==e){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(s,1,l);0===c.negative&&(n=c,a&&(a.words[l]=1));for(var h=l-1;h>=0;h--){var f=67108864*(0|n.words[s.length+h])+(0|n.words[s.length+h-1]);for(f=Math.min(f/o|0,67108863),n._ishlnsubmul(s,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(s,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},i.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),l=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(h)),s.iushrn(1),o.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(h)),a.iushrn(1),l.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(l)):(n.isub(e),a.isub(s),l.isub(o))}return{a:a,b:l,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s,o=new i(1),a=new i(0),l=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0==(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var h=0,f=1;0==(n.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(n.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),o.isub(a)):(n.isub(e),a.isub(o))}return(s=0===e.cmpn(1)?o:a).cmpn(0)<0&&s.iadd(t),s},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new _(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function k(t){_.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(y,v),y.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(b,v),n(w,v),n(E,v),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return g[t]=e,e},_.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},_.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},_.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},_.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},_.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},_.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},_.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},_.prototype.isqr=function(t){return this.imul(t,t.clone())},_.prototype.sqr=function(t){return this.mul(t,t)},_.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var h=this.pow(c,s),f=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var m=d,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new i(1).iushln(p-g-1));f=f.redMul(v),h=v.redSqr(),d=d.redMul(h),p=g}return f},_.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},_.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=l-1;c>=0;c--){var h=u>>c&1;s!==r[0]&&(s=this.sqr(s)),0!==h||0!==o?(o<<=1,o|=h,(4===++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}l=26}return s},_.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},_.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new k(t)},n(k,_),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},k.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,At)}(yu);var bu=yu.exports;let wu=!1,Eu=!1;const _u={debug:1,default:2,info:2,warning:3,error:4,off:5};let ku=_u.default,Nu=null;const Au=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var xu,Iu;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(xu||(xu={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Iu||(Iu={}));const Mu="0123456789abcdef";class Ru{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==_u[r]&&this.throwArgumentError("invalid log level name","logLevel",t),ku>_u[r]||console.log.apply(console,e)}debug(...t){this._log(Ru.levels.DEBUG,t)}info(...t){this._log(Ru.levels.INFO,t)}warn(...t){this._log(Ru.levels.WARNING,t)}makeError(t,e,r){if(Eu)return this.makeError("censored error",e,{});e||(e=Ru.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Mu[e[t]>>4],r+=Mu[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(e){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Iu.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Iu.CALL_EXCEPTION:case Iu.INSUFFICIENT_FUNDS:case Iu.MISSING_NEW:case Iu.NONCE_EXPIRED:case Iu.REPLACEMENT_UNDERPRICED:case Iu.TRANSACTION_REPLACED:case Iu.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ru.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Au&&this.throwError("platform missing String.prototype.normalize",Ru.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Au})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ru.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ru.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ru.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ru.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Ru.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ru.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Ru.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Nu||(Nu=new Ru("logger/5.6.0")),Nu}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ru.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),wu){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ru.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Eu=!!t,wu=!!e}static setLogLevel(t){const e=_u[t.toLowerCase()];null!=e?ku=e:Ru.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ru(t)}}Ru.errors=Iu,Ru.levels=xu;const Su=new Ru("bytes/5.6.1");function Pu(t){return!!t.toHexString}function Tu(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Tu(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ou(t){return Du(t)&&!(t.length%2)||Cu(t)}function $u(t){return"number"==typeof t&&t==t&&t%1==0}function Cu(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!$u(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!$u(r)||r<0||r>=256)return!1}return!0}function Fu(t,e){if(e||(e={}),"number"==typeof t){Su.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Tu(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Pu(t)&&(t=t.toHexString()),Du(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Su.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Tu(new Uint8Array(n))}return Cu(t)?Tu(new Uint8Array(t)):Su.throwArgumentError("invalid arrayify value","value",t)}function Bu(t){const e=t.map((t=>Fu(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),Tu(n)}function Lu(t){let e=Fu(t);if(0===e.length)return e;let r=0;for(;r<e.length&&0===e[r];)r++;return r&&(e=e.slice(r)),e}function Du(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(!e||t.length===2+2*e)}const Uu="0123456789abcdef";function ju(t,e){if(e||(e={}),"number"==typeof t){Su.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Uu[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Pu(t))return t.toHexString();if(Du(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Su.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Cu(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Uu[(240&n)>>4]+Uu[15&n]}return e}return Su.throwArgumentError("invalid hexlify value","value",t)}function zu(t){if("string"!=typeof t)t=ju(t);else if(!Du(t)||t.length%2)return null;return(t.length-2)/2}function Gu(t,e,r){return"string"!=typeof t?t=ju(t):(!Du(t)||t.length%2)&&Su.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function qu(t){let e="0x";return t.forEach((t=>{e+=ju(t).substring(2)})),e}function Hu(t){const e=function(t){"string"!=typeof t&&(t=ju(t));Du(t)||Su.throwArgumentError("invalid hex string","value",t);t=t.substring(2);let e=0;for(;e<t.length&&"0"===t[e];)e++;return"0x"+t.substring(e)}(ju(t,{hexPad:"left"}));return"0x"===e?"0x0":e}function Vu(t,e){for("string"!=typeof t?t=ju(t):Du(t)||Su.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Su.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Ju(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ou(t)){let r=Fu(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ju(r.slice(0,32)),e.s=ju(r.slice(32,64))):65===r.length?(e.r=ju(r.slice(0,32)),e.s=ju(r.slice(32,64)),e.v=r[64]):Su.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:Su.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ju(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=Fu(t)).length>e&&Su.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Tu(r)}(Fu(e._vs),32);e._vs=ju(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&Su.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ju(r);null==e.s?e.s=i:e.s!==i&&Su.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?Su.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&Su.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&Du(e.r)?e.r=Vu(e.r,32):Su.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&Du(e.s)?e.s=Vu(e.s,32):Su.throwArgumentError("signature missing or invalid s","signature",t);const r=Fu(e.s);r[0]>=128&&Su.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ju(r);e._vs&&(Du(e._vs)||Su.throwArgumentError("signature invalid _vs","signature",t),e._vs=Vu(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&Su.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}var Wu=bu.BN;const Xu=new Ru("bignumber/5.6.0"),Ku={},Zu=9007199254740991;let Yu=!1;class Qu{constructor(t,e){Xu.checkNew(new.target,Qu),t!==Ku&&Xu.throwError("cannot call constructor directly; use BigNumber.from",Ru.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return ec(rc(this).fromTwos(t))}toTwos(t){return ec(rc(this).toTwos(t))}abs(){return"-"===this._hex[0]?Qu.from(this._hex.substring(1)):this}add(t){return ec(rc(this).add(rc(t)))}sub(t){return ec(rc(this).sub(rc(t)))}div(t){return Qu.from(t).isZero()&&nc("division-by-zero","div"),ec(rc(this).div(rc(t)))}mul(t){return ec(rc(this).mul(rc(t)))}mod(t){const e=rc(t);return e.isNeg()&&nc("division-by-zero","mod"),ec(rc(this).umod(e))}pow(t){const e=rc(t);return e.isNeg()&&nc("negative-power","pow"),ec(rc(this).pow(e))}and(t){const e=rc(t);return(this.isNegative()||e.isNeg())&&nc("unbound-bitwise-result","and"),ec(rc(this).and(e))}or(t){const e=rc(t);return(this.isNegative()||e.isNeg())&&nc("unbound-bitwise-result","or"),ec(rc(this).or(e))}xor(t){const e=rc(t);return(this.isNegative()||e.isNeg())&&nc("unbound-bitwise-result","xor"),ec(rc(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&nc("negative-width","mask"),ec(rc(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&nc("negative-width","shl"),ec(rc(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&nc("negative-width","shr"),ec(rc(this).shrn(t))}eq(t){return rc(this).eq(rc(t))}lt(t){return rc(this).lt(rc(t))}lte(t){return rc(this).lte(rc(t))}gt(t){return rc(this).gt(rc(t))}gte(t){return rc(this).gte(rc(t))}isNegative(){return"-"===this._hex[0]}isZero(){return rc(this).isZero()}toNumber(){try{return rc(this).toNumber()}catch(t){nc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(t){}return Xu.throwError("this platform does not support BigInt",Ru.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Yu||(Yu=!0,Xu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Xu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ru.errors.UNEXPECTED_ARGUMENT,{}):Xu.throwError("BigNumber.toString does not accept parameters",Ru.errors.UNEXPECTED_ARGUMENT,{})),rc(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Qu)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Qu(Ku,tc(t)):t.match(/^-?[0-9]+$/)?new Qu(Ku,tc(new Wu(t))):Xu.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&nc("underflow","BigNumber.from",t),(t>=Zu||t<=-Zu)&&nc("overflow","BigNumber.from",t),Qu.from(String(t));const e=t;if("bigint"==typeof e)return Qu.from(e.toString());if(Cu(e))return Qu.from(ju(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Qu.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(Du(t)||"-"===t[0]&&Du(t.substring(1))))return Qu.from(t)}return Xu.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function tc(t){if("string"!=typeof t)return tc(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Xu.throwArgumentError("invalid hex","value",t),"0x00"===(t=tc(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function ec(t){return Qu.from(tc(t))}function rc(t){const e=Qu.from(t).toHexString();return"-"===e[0]?new Wu("-"+e.substring(3),16):new Wu(e.substring(2),16)}function nc(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Xu.throwError(t,Ru.errors.NUMERIC_FAULT,n)}var ic=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const sc=new Ru("properties/5.6.0");function oc(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ac(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||"object"!=typeof t.prototype)break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function lc(t){return ic(this,void 0,void 0,(function*(){const e=Object.keys(t).map((e=>{const r=t[e];return Promise.resolve(r).then((t=>({key:e,value:t})))}));return(yield Promise.all(e)).reduce(((t,e)=>(t[e.key]=e.value,t)),{})}))}function uc(t){const e={};for(const r in t)e[r]=t[r];return e}const cc={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function hc(t){if(null==t||cc[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch(t){continue}if(!hc(n))return!1}return!0}return sc.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function fc(t){if(hc(t))return t;if(Array.isArray(t))return Object.freeze(t.map((t=>dc(t))));if("object"==typeof t){const e={};for(const r in t){const n=t[r];void 0!==n&&oc(e,r,dc(n))}return e}return sc.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function dc(t){return fc(t)}var pc={exports:{}};
/**
     * [js-sha3]{@link https://github.com/emn178/js-sha3}
     *
     * @version 0.8.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2015-2018
     * @license MIT
     */!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node?n=At:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,a="0123456789abcdef".split(""),l=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],h=[224,256,384,512],f=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};!n.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!o||!n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var m=function(t,e,r){return function(n){return new S(t,e,t).update(n)[r]()}},g=function(t,e,r){return function(n,i){return new S(t,e,i).update(n)[r]()}},v=function(t,e,r){return function(e,n,i,s){return _["cshake"+t].update(e,n,i,s)[r]()}},y=function(t,e,r){return function(e,n,i,s){return _["kmac"+t].update(e,n,i,s)[r]()}},b=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=m(t,e,"hex");return r.create=function(){return new S(t,e,t)},r.update=function(t){return r.create().update(t)},b(r,m,t,e)},E=[{name:"keccak",padding:[1,256,65536,16777216],bits:h,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:h,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:f,createMethod:function(t,e){var r=g(t,e,"hex");return r.create=function(r){return new S(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},b(r,g,t,e)}},{name:"cshake",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=v(t,0,"hex");return n.create=function(n,i,s){return i||s?new S(t,e,n).bytepad([i,s],r):_["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},b(n,v,t,e)}},{name:"kmac",padding:l,bits:f,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return new P(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},b(n,y,t,e)}}],_={},k=[],N=0;N<E.length;++N)for(var A=E[N],x=A.bits,I=0;I<x.length;++I){var M=A.name+"_"+x[I];if(k.push(M),_[M]=A.createMethod(x[I],A.padding),"sha3"!==A.name){var R=A.name+x[I];k.push(R),_[R]=_[M]}}function S(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(t,e,r){S.call(this,t,e,r)}S.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,l=this.byteCount,c=t.length,h=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<h+1;++i)a[i]=0;if(r)for(i=this.start;f<c&&i<l;++f)a[i>>2]|=t[f]<<u[3&i++];else for(i=this.start;f<c&&i<l;++f)(s=t.charCodeAt(f))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++f)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=l){for(this.start=i-l,this.block=a[h],i=0;i<h;++i)d[i]^=a[i];T(d),this.reset=!0}else this.start=i}return this},S.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},S.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var l=t.charCodeAt(a);l<128?i+=1:l<2048?i+=2:l<55296||l>=57344?i+=3:(l=65536+((1023&l)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},S.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},S.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];T(n)}},S.prototype.toString=S.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,l="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],l+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(T(r),s=0)}return i&&(t=r[s],l+=a[t>>4&15]+a[15&t],i>1&&(l+=a[t>>12&15]+a[t>>8&15]),i>2&&(l+=a[t>>20&15]+a[t>>16&15])),l},S.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)l[o]=r[s];o%e==0&&T(r)}return i&&(l[s]=r[s],t=t.slice(0,a)),t},S.prototype.buffer=S.prototype.arrayBuffer,S.prototype.digest=S.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,l=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],l[t]=255&e,l[t+1]=e>>8&255,l[t+2]=e>>16&255,l[t+3]=e>>24&255;a%r==0&&T(n)}return s&&(t=a<<2,e=n[o],l[t]=255&e,s>1&&(l[t+1]=e>>8&255),s>2&&(l[t+2]=e>>16&255)),l},P.prototype=new S,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),S.prototype.finalize.call(this)};var T=function(t){var e,r,n,i,s,o,a,l,u,h,f,d,p,m,g,v,y,b,w,E,_,k,N,A,x,I,M,R,S,P,T,O,$,C,F,B,L,D,U,j,z,G,q,H,V,J,W,X,K,Z,Y,Q,tt,et,rt,nt,it,st,ot,at,lt,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],l=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],h=t[6]^t[16]^t[26]^t[36]^t[46],f=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(l<<1|u>>>31),r=s^(u<<1|l>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(h<<1|f>>>31),r=a^(f<<1|h>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=l^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=h^(i<<1|s>>>31),r=f^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,m=t[0],g=t[1],J=t[11]<<4|t[10]>>>28,W=t[10]<<4|t[11]>>>28,R=t[20]<<3|t[21]>>>29,S=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,lt=t[30]<<9|t[31]>>>23,G=t[40]<<18|t[41]>>>14,q=t[41]<<18|t[40]>>>14,C=t[2]<<1|t[3]>>>31,F=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,y=t[12]<<12|t[13]>>>20,X=t[22]<<10|t[23]>>>22,K=t[23]<<10|t[22]>>>22,P=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,B=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,b=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,Z=t[34]<<15|t[35]>>>17,Y=t[35]<<15|t[34]>>>17,O=t[45]<<29|t[44]>>>3,$=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,x=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,D=t[26]<<25|t[27]>>>7,U=t[27]<<25|t[26]>>>7,E=t[36]<<21|t[37]>>>11,_=t[37]<<21|t[36]>>>11,Q=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,H=t[8]<<27|t[9]>>>5,V=t[9]<<27|t[8]>>>5,I=t[18]<<20|t[19]>>>12,M=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,k=t[48]<<14|t[49]>>>18,N=t[49]<<14|t[48]>>>18,t[0]=m^~v&b,t[1]=g^~y&w,t[10]=A^~I&R,t[11]=x^~M&S,t[20]=C^~B&D,t[21]=F^~L&U,t[30]=H^~J&X,t[31]=V^~W&K,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=v^~b&E,t[3]=y^~w&_,t[12]=I^~R&P,t[13]=M^~S&T,t[22]=B^~D&j,t[23]=L^~U&z,t[32]=J^~X&Z,t[33]=W^~K&Y,t[42]=nt^~st&at,t[43]=it^~ot&lt,t[4]=b^~E&k,t[5]=w^~_&N,t[14]=R^~P&O,t[15]=S^~T&$,t[24]=D^~j&G,t[25]=U^~z&q,t[34]=X^~Z&Q,t[35]=K^~Y&tt,t[44]=st^~at&ut,t[45]=ot^~lt&ct,t[6]=E^~k&m,t[7]=_^~N&g,t[16]=P^~O&A,t[17]=T^~$&x,t[26]=j^~G&C,t[27]=z^~q&F,t[36]=Z^~Q&H,t[37]=Y^~tt&V,t[46]=at^~ut&et,t[47]=lt^~ct&rt,t[8]=k^~m&v,t[9]=N^~g&y,t[18]=O^~A&I,t[19]=$^~x&M,t[28]=G^~C&B,t[29]=q^~F&L,t[38]=Q^~H&J,t[39]=tt^~V&W,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(s)t.exports=_;else for(N=0;N<k.length;++N)n[k[N]]=_[k[N]]}()}(pc);var mc=pc.exports;function gc(t){return"0x"+mc.keccak_256(Fu(t))}const vc=new Ru("rlp/5.6.0");function yc(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function bc(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function wc(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(wc(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=yc(e.length);return r.unshift(247+r.length),r.concat(e)}Ou(t)||vc.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Fu(t));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=yc(e.length);return r.unshift(183+r.length),r.concat(e)}function Ec(t){return ju(wc(t))}function _c(t,e,r,n){const i=[];for(;r<e+1+n;){const s=kc(t,r);i.push(s.result),(r+=s.consumed)>e+1+n&&vc.throwError("child data too short",Ru.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function kc(t,e){if(0===t.length&&vc.throwError("data too short",Ru.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&vc.throwError("data short segment too short",Ru.errors.BUFFER_OVERRUN,{});const n=bc(t,e+1,r);return e+1+r+n>t.length&&vc.throwError("data long segment too short",Ru.errors.BUFFER_OVERRUN,{}),_c(t,e,e+1+r,r+n)}if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&vc.throwError("data array too short",Ru.errors.BUFFER_OVERRUN,{}),_c(t,e,e+1,r)}if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&vc.throwError("data array too short",Ru.errors.BUFFER_OVERRUN,{});const n=bc(t,e+1,r);e+1+r+n>t.length&&vc.throwError("data array too short",Ru.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:ju(t.slice(e+1+r,e+1+r+n))}}if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&vc.throwError("data too short",Ru.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:ju(t.slice(e+1,e+1+r))}}return{consumed:1,result:ju(t[e])}}function Nc(t){const e=Fu(t),r=kc(e,0);return r.consumed!==e.length&&vc.throwArgumentError("invalid rlp data","data",t),r.result}const Ac=new Ru("address/5.6.0");function xc(t){Du(t,20)||Ac.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=Fu(gc(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const Ic={};for(let t=0;t<10;t++)Ic[String(t)]=String(t);for(let t=0;t<26;t++)Ic[String.fromCharCode(65+t)]=String(10+t);const Mc=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function Rc(t){let e=null;if("string"!=typeof t&&Ac.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=xc(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Ac.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>Ic[t])).join("");for(;e.length>=Mc;){let t=e.substring(0,Mc);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&Ac.throwArgumentError("bad icap checksum","address",t),r=t.substring(4),e=new Wu(r,36).toString(16);e.length<40;)e="0"+e;e=xc("0x"+e)}else Ac.throwArgumentError("invalid address","address",t);var r;return e}const Sc=Qu.from(0),Pc=new Ru("strings/5.6.0");var Tc,Oc;function $c(t,e,r,n,i){if(t===Oc.BAD_PREFIX||t===Oc.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Oc.OVERRUN?r.length-e-1:0}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Tc||(Tc={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Oc||(Oc={}));const Cc=Object.freeze({error:function(t,e,r,n,i){return Pc.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:$c,replace:function(t,e,r,n,i){return t===Oc.OVERLONG?(n.push(i),0):(n.push(65533),$c(t,e,r))}});function Fc(t,e){null==e&&(e=Cc.error),t=Fu(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7==0){r.push(i);continue}let s=null,o=null;if(192==(224&i))s=1,o=127;else if(224==(240&i))s=2,o=2047;else{if(240!=(248&i)){n+=e(128==(192&i)?Oc.UNEXPECTED_CONTINUE:Oc.BAD_PREFIX,n-1,t,r);continue}s=3,o=65535}if(n-1+s>=t.length){n+=e(Oc.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let i=0;i<s;i++){let i=t[n];if(128!=(192&i)){n+=e(Oc.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=e(Oc.OUT_OF_RANGE,n-1-s,t,r,a):a>=55296&&a<=57343?n+=e(Oc.UTF16_SURROGATE,n-1-s,t,r,a):a<=o?n+=e(Oc.OVERLONG,n-1-s,t,r,a):r.push(a))}return r}function Bc(t,e=Tc.current){e!=Tc.current&&(Pc.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Fu(r)}function Lc(t){return t.map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}function Dc(t,e){return Lc(Fc(t,e))}function Uc(t,e=Tc.current){return Fc(Bc(t,e))}function jc(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function zc(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}function Gc(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(t-r))continue;return i}}return null}const qc=zc("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Hc="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Vc=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Jc=jc("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Wc=jc("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Xc=jc("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Kc=zc("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Zc(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=Uc(t);var r;r=e.map((t=>{if(Hc.indexOf(t)>=0)return[];if(t>=65024&&t<=65039)return[];let e=function(t){let e=Gc(t,Vc);if(e)return[t+e.s];let r=Jc[t];if(r)return r;let n=Wc[t];return n?[t+n[0]]:Xc[t]||null}(t);return e||[t]})),e=r.reduce(((t,e)=>(e.forEach((e=>{t.push(e)})),t)),[]),e=Uc(Lc(e),Tc.NFKC),e.forEach((t=>{if(Gc(t,Kc))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")})),e.forEach((t=>{if(Gc(t,qc))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}));let n=Lc(e);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}function Yc(t){return gc(Bc(t))}const Qc="hash/5.6.0",th=new Ru(Qc),eh=new Uint8Array(32);eh.fill(0);const rh=new RegExp("^((.*)\\.)?([^.]+)$");function nh(t){"string"!=typeof t&&th.throwArgumentError("invalid ENS name; not a string","name",t);let e=t,r=eh;for(;e.length;){const n=e.match(rh);null!=n&&""!==n[2]||th.throwArgumentError("invalid ENS address; missing component","name",t);r=gc(Bu([r,gc(Bc(Zc(n[3])))])),e=n[2]||""}return ju(r)}var ih=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const sh=new Ru(Qc),oh=new Uint8Array(32);oh.fill(0);const ah=Qu.from(-1),lh=Qu.from(0),uh=Qu.from(1),ch=Qu.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const hh=Vu(uh.toHexString(),32),fh=Vu(lh.toHexString(),32),dh={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ph=["name","version","chainId","verifyingContract","salt"];function mh(t){return function(e){return"string"!=typeof e&&sh.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const gh={name:mh("name"),version:mh("version"),chainId:function(t){try{return Qu.from(t).toString()}catch(t){}return sh.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Rc(t).toLowerCase()}catch(t){}return sh.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Fu(t);if(32!==e.length)throw new Error("bad length");return ju(e)}catch(t){}return sh.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function vh(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=""===e[1],n=parseInt(e[2]||"256");(n%8!=0||n>256||e[2]&&e[2]!==String(n))&&sh.throwArgumentError("invalid numeric width","type",t);const i=ch.mask(r?n-1:n),s=r?i.add(uh).mul(ah):lh;return function(e){const r=Qu.from(e);return(r.lt(s)||r.gt(i))&&sh.throwArgumentError(`value out-of-bounds for ${t}`,"value",e),Vu(r.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(0===r||r>32||e[1]!==String(r))&&sh.throwArgumentError("invalid bytes width","type",t),function(e){return Fu(e).length!==r&&sh.throwArgumentError(`invalid length for ${t}`,"value",e),function(t){const e=Fu(t),r=e.length%32;return r?qu([e,oh.slice(r)]):ju(e)}(e)}}}switch(t){case"address":return function(t){return Vu(Rc(t),32)};case"bool":return function(t){return t?hh:fh};case"bytes":return function(t){return gc(t)};case"string":return function(t){return Yc(t)}}return null}function yh(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}class bh{constructor(t){oc(this,"types",Object.freeze(dc(t))),oc(this,"_encoderCache",{}),oc(this,"_types",{});const e={},r={},n={};Object.keys(t).forEach((t=>{e[t]={},r[t]=[],n[t]={}}));for(const n in t){const i={};t[n].forEach((s=>{i[s.name]&&sh.throwArgumentError(`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(n)}`,"types",t),i[s.name]=!0;const o=s.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&sh.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",t);vh(o)||(r[o]||sh.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",t),r[o].push(n),e[n][o]=!0)}))}const i=Object.keys(r).filter((t=>0===r[t].length));0===i.length?sh.throwArgumentError("missing primary type","types",t):i.length>1&&sh.throwArgumentError(`ambiguous primary types or unused types: ${i.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),oc(this,"primaryType",i[0]),function i(s,o){o[s]&&sh.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",t),o[s]=!0,Object.keys(e[s]).forEach((t=>{r[t]&&(i(t,o),Object.keys(o).forEach((e=>{n[e][t]=!0})))})),delete o[s]}(this.primaryType,{});for(const e in n){const r=Object.keys(n[e]);r.sort(),this._types[e]=yh(e,t[e])+r.map((e=>yh(e,t[e]))).join("")}}getEncoder(t){let e=this._encoderCache[t];return e||(e=this._encoderCache[t]=this._getEncoder(t)),e}_getEncoder(t){{const e=vh(t);if(e)return e}const e=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(e){const t=e[1],r=this.getEncoder(t),n=parseInt(e[3]);return e=>{n>=0&&e.length!==n&&sh.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);let i=e.map(r);return this._types[t]&&(i=i.map(gc)),gc(qu(i))}}const r=this.types[t];if(r){const e=Yc(this._types[t]);return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this._types[r]?gc(n):n}));return n.unshift(e),qu(n)}}return sh.throwArgumentError(`unknown type: ${t}`,"type",t)}encodeType(t){const e=this._types[t];return e||sh.throwArgumentError(`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return gc(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(vh(t))return r(t,e);const n=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const t=n[1],i=parseInt(n[3]);return i>=0&&e.length!==i&&sh.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e),e.map((e=>this._visit(t,e,r)))}const i=this.types[t];return i?i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{}):sh.throwArgumentError(`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new bh(t)}static getPrimaryType(t){return bh.from(t).primaryType}static hashStruct(t,e,r){return bh.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){const n=dh[r];n||sh.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>ph.indexOf(t.name)-ph.indexOf(e.name))),bh.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return qu(["0x1901",bh.hashDomain(t),bh.from(e).hash(r)])}static hash(t,e,r){return gc(bh.encode(t,e,r))}static resolveNames(t,e,r,n){return ih(this,void 0,void 0,(function*(){t=uc(t);const i={};t.verifyingContract&&!Du(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const s=bh.from(e);s.visit(r,((t,e)=>("address"!==t||Du(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=yield n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),r=s.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e)),{domain:t,value:r}}))}static getPayload(t,e,r){bh.hashDomain(t);const n={},i=[];ph.forEach((e=>{const r=t[e];null!=r&&(n[e]=gh[e](r),i.push({name:e,type:dh[e]}))}));const s=bh.from(e),o=uc(e);return o.EIP712Domain?sh.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return ju(Fu(e));if(t.match(/^u?int/))return Qu.from(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return"string"!=typeof e&&sh.throwArgumentError("invalid string","value",e),e}return sh.throwArgumentError("unsupported type","type",t)}))}}}var wh=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Eh=new Ru("abstract-provider/5.6.0");class _h{constructor(){Eh.checkAbstract(new.target,_h),oc(this,"_isProvider",!0)}getFeeData(){return wh(this,void 0,void 0,(function*(){const{block:t,gasPrice:e}=yield lc({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((t=>null))});let r=null,n=null;return t&&t.baseFeePerGas&&(n=Qu.from("1500000000"),r=t.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:e}}))}addListener(t,e){return this.on(t,e)}removeListener(t,e){return this.off(t,e)}static isProvider(t){return!(!t||!t._isProvider)}}var kh=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Nh=new Ru("abstract-signer/5.6.0"),Ah=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],xh=[Ru.errors.INSUFFICIENT_FUNDS,Ru.errors.NONCE_EXPIRED,Ru.errors.REPLACEMENT_UNDERPRICED];class Ih{constructor(){Nh.checkAbstract(new.target,Ih),oc(this,"_isSigner",!0)}getBalance(t){return kh(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),t)}))}getTransactionCount(t){return kh(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),t)}))}estimateGas(t){return kh(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const e=yield lc(this.checkTransaction(t));return yield this.provider.estimateGas(e)}))}call(t,e){return kh(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield lc(this.checkTransaction(t));return yield this.provider.call(r,e)}))}sendTransaction(t){return kh(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const e=yield this.populateTransaction(t),r=yield this.signTransaction(e);return yield this.provider.sendTransaction(r)}))}getChainId(){return kh(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return kh(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return kh(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(t){return kh(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(t)}))}checkTransaction(t){for(const e in t)-1===Ah.indexOf(e)&&Nh.throwArgumentError("invalid transaction key: "+e,"transaction",t);const e=uc(t);return null==e.from?e.from=this.getAddress():e.from=Promise.all([Promise.resolve(e.from),this.getAddress()]).then((e=>(e[0].toLowerCase()!==e[1].toLowerCase()&&Nh.throwArgumentError("from address mismatch","transaction",t),e[0]))),e}populateTransaction(t){return kh(this,void 0,void 0,(function*(){const e=yield lc(this.checkTransaction(t));null!=e.to&&(e.to=Promise.resolve(e.to).then((t=>kh(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.resolveName(t);return null==e&&Nh.throwArgumentError("provided ENS name resolves to null","tx.to",t),e})))),e.to.catch((t=>{})));const r=null!=e.maxFeePerGas||null!=e.maxPriorityFeePerGas;if(null==e.gasPrice||2!==e.type&&!r?0!==e.type&&1!==e.type||!r||Nh.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",t):Nh.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",t),2!==e.type&&null!=e.type||null==e.maxFeePerGas||null==e.maxPriorityFeePerGas)if(0===e.type||1===e.type)null==e.gasPrice&&(e.gasPrice=this.getGasPrice());else{const t=yield this.getFeeData();if(null==e.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(e.type=2,null!=e.gasPrice){const t=e.gasPrice;delete e.gasPrice,e.maxFeePerGas=t,e.maxPriorityFeePerGas=t}else null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(r&&Nh.throwError("network does not support EIP-1559",Ru.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==e.gasPrice&&(e.gasPrice=t.gasPrice),e.type=0):Nh.throwError("failed to get consistent fee data",Ru.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===e.type&&(null==e.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null==e.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else e.type=2;return null==e.nonce&&(e.nonce=this.getTransactionCount("pending")),null==e.gasLimit&&(e.gasLimit=this.estimateGas(e).catch((t=>{if(xh.indexOf(t.code)>=0)throw t;return Nh.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ru.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,tx:e})}))),null==e.chainId?e.chainId=this.getChainId():e.chainId=Promise.all([Promise.resolve(e.chainId),this.getChainId()]).then((e=>(0!==e[1]&&e[0]!==e[1]&&Nh.throwArgumentError("chainId address mismatch","transaction",t),e[0]))),yield lc(e)}))}_checkProvider(t){this.provider||Nh.throwError("missing provider",Ru.errors.UNSUPPORTED_OPERATION,{operation:t||"_checkProvider"})}static isSigner(t){return!(!t||!t._isSigner)}}var Mh={},Rh={},Sh=Ph;function Ph(t,e){if(!t)throw new Error(e||"Assertion failed")}Ph.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Th={exports:{}},Oh={exports:{}};"function"==typeof Object.create?Oh.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Oh.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};try{var $h=require("util");if("function"!=typeof $h.inherits)throw"";Th.exports=$h.inherits}catch(t){Th.exports=Oh.exports}var Ch=Sh,Fh=Th.exports;function Bh(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function Lh(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Dh(t){return 1===t.length?"0"+t:t}function Uh(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Rh.inherits=Fh,Rh.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):Bh(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Rh.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Dh(t[r].toString(16));return e},Rh.htonl=Lh,Rh.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Lh(i)),r+=Uh(i.toString(16))}return r},Rh.zero2=Dh,Rh.zero8=Uh,Rh.join32=function(t,e,r,n){var i=r-e;Ch(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;l="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s},Rh.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},Rh.rotr32=function(t,e){return t>>>e|t<<32-e},Rh.rotl32=function(t,e){return t<<e|t>>>32-e},Rh.sum32=function(t,e){return t+e>>>0},Rh.sum32_3=function(t,e,r){return t+e+r>>>0},Rh.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Rh.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Rh.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},Rh.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Rh.sum64_lo=function(t,e,r,n){return e+n>>>0},Rh.sum64_4_hi=function(t,e,r,n,i,s,o,a){var l=0,u=e;return l+=(u=u+n>>>0)<e?1:0,l+=(u=u+s>>>0)<s?1:0,t+r+i+o+(l+=(u=u+a>>>0)<a?1:0)>>>0},Rh.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},Rh.sum64_5_hi=function(t,e,r,n,i,s,o,a,l,u){var c=0,h=e;return c+=(h=h+n>>>0)<e?1:0,c+=(h=h+s>>>0)<s?1:0,c+=(h=h+a>>>0)<a?1:0,t+r+i+o+l+(c+=(h=h+u>>>0)<u?1:0)>>>0},Rh.sum64_5_lo=function(t,e,r,n,i,s,o,a,l,u){return e+n+s+a+u>>>0},Rh.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Rh.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Rh.shr64_hi=function(t,e,r){return t>>>r},Rh.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var jh={},zh=Rh,Gh=Sh;function qh(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}jh.BlockHash=qh,qh.prototype.update=function(t,e){if(t=zh.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=zh.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},qh.prototype.digest=function(t){return this.update(this._pad()),Gh(null===this.pending),this._digest(t)},qh.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Hh={},Vh={},Jh=Rh.rotr32;function Wh(t,e,r){return t&e^~t&r}function Xh(t,e,r){return t&e^t&r^e&r}function Kh(t,e,r){return t^e^r}Vh.ft_1=function(t,e,r,n){return 0===t?Wh(e,r,n):1===t||3===t?Kh(e,r,n):2===t?Xh(e,r,n):void 0},Vh.ch32=Wh,Vh.maj32=Xh,Vh.p32=Kh,Vh.s0_256=function(t){return Jh(t,2)^Jh(t,13)^Jh(t,22)},Vh.s1_256=function(t){return Jh(t,6)^Jh(t,11)^Jh(t,25)},Vh.g0_256=function(t){return Jh(t,7)^Jh(t,18)^t>>>3},Vh.g1_256=function(t){return Jh(t,17)^Jh(t,19)^t>>>10};var Zh=Rh,Yh=jh,Qh=Vh,tf=Zh.rotl32,ef=Zh.sum32,rf=Zh.sum32_5,nf=Qh.ft_1,sf=Yh.BlockHash,of=[1518500249,1859775393,2400959708,3395469782];function af(){if(!(this instanceof af))return new af;sf.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zh.inherits(af,sf);var lf=af;af.blockSize=512,af.outSize=160,af.hmacStrength=80,af.padLength=64,af.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=tf(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=rf(tf(i,5),nf(u,s,o,a),l,r[n],of[u]);l=a,a=o,o=tf(s,30),s=i,i=c}this.h[0]=ef(this.h[0],i),this.h[1]=ef(this.h[1],s),this.h[2]=ef(this.h[2],o),this.h[3]=ef(this.h[3],a),this.h[4]=ef(this.h[4],l)},af.prototype._digest=function(t){return"hex"===t?Zh.toHex32(this.h,"big"):Zh.split32(this.h,"big")};var uf=Rh,cf=jh,hf=Vh,ff=Sh,df=uf.sum32,pf=uf.sum32_4,mf=uf.sum32_5,gf=hf.ch32,vf=hf.maj32,yf=hf.s0_256,bf=hf.s1_256,wf=hf.g0_256,Ef=hf.g1_256,_f=cf.BlockHash,kf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Nf(){if(!(this instanceof Nf))return new Nf;_f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=kf,this.W=new Array(64)}uf.inherits(Nf,_f);var Af=Nf;Nf.blockSize=512,Nf.outSize=256,Nf.hmacStrength=192,Nf.padLength=64,Nf.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=pf(Ef(r[n-2]),r[n-7],wf(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],c=this.h[6],h=this.h[7];for(ff(this.k.length===r.length),n=0;n<r.length;n++){var f=mf(h,bf(l),gf(l,u,c),this.k[n],r[n]),d=df(yf(i),vf(i,s,o));h=c,c=u,u=l,l=df(a,f),a=o,o=s,s=i,i=df(f,d)}this.h[0]=df(this.h[0],i),this.h[1]=df(this.h[1],s),this.h[2]=df(this.h[2],o),this.h[3]=df(this.h[3],a),this.h[4]=df(this.h[4],l),this.h[5]=df(this.h[5],u),this.h[6]=df(this.h[6],c),this.h[7]=df(this.h[7],h)},Nf.prototype._digest=function(t){return"hex"===t?uf.toHex32(this.h,"big"):uf.split32(this.h,"big")};var xf=Rh,If=Af;function Mf(){if(!(this instanceof Mf))return new Mf;If.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}xf.inherits(Mf,If);var Rf=Mf;Mf.blockSize=512,Mf.outSize=224,Mf.hmacStrength=192,Mf.padLength=64,Mf.prototype._digest=function(t){return"hex"===t?xf.toHex32(this.h.slice(0,7),"big"):xf.split32(this.h.slice(0,7),"big")};var Sf=Rh,Pf=jh,Tf=Sh,Of=Sf.rotr64_hi,$f=Sf.rotr64_lo,Cf=Sf.shr64_hi,Ff=Sf.shr64_lo,Bf=Sf.sum64,Lf=Sf.sum64_hi,Df=Sf.sum64_lo,Uf=Sf.sum64_4_hi,jf=Sf.sum64_4_lo,zf=Sf.sum64_5_hi,Gf=Sf.sum64_5_lo,qf=Pf.BlockHash,Hf=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Vf(){if(!(this instanceof Vf))return new Vf;qf.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Hf,this.W=new Array(160)}Sf.inherits(Vf,qf);var Jf=Vf;function Wf(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function Xf(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Kf(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function Zf(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function Yf(t,e){var r=Of(t,e,28)^Of(e,t,2)^Of(e,t,7);return r<0&&(r+=4294967296),r}function Qf(t,e){var r=$f(t,e,28)^$f(e,t,2)^$f(e,t,7);return r<0&&(r+=4294967296),r}function td(t,e){var r=Of(t,e,14)^Of(t,e,18)^Of(e,t,9);return r<0&&(r+=4294967296),r}function ed(t,e){var r=$f(t,e,14)^$f(t,e,18)^$f(e,t,9);return r<0&&(r+=4294967296),r}function rd(t,e){var r=Of(t,e,1)^Of(t,e,8)^Cf(t,e,7);return r<0&&(r+=4294967296),r}function nd(t,e){var r=$f(t,e,1)^$f(t,e,8)^Ff(t,e,7);return r<0&&(r+=4294967296),r}function id(t,e){var r=Of(t,e,19)^Of(e,t,29)^Cf(t,e,6);return r<0&&(r+=4294967296),r}function sd(t,e){var r=$f(t,e,19)^$f(e,t,29)^Ff(t,e,6);return r<0&&(r+=4294967296),r}Vf.blockSize=1024,Vf.outSize=512,Vf.hmacStrength=192,Vf.padLength=128,Vf.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=id(r[n-4],r[n-3]),s=sd(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],l=rd(r[n-30],r[n-29]),u=nd(r[n-30],r[n-29]),c=r[n-32],h=r[n-31];r[n]=Uf(i,s,o,a,l,u,c,h),r[n+1]=jf(i,s,o,a,l,u,c,h)}},Vf.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=this.h[5],u=this.h[6],c=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],v=this.h[14],y=this.h[15];Tf(this.k.length===r.length);for(var b=0;b<r.length;b+=2){var w=v,E=y,_=td(h,f),k=ed(h,f),N=Wf(h,f,d,p,m),A=Xf(h,f,d,p,m,g),x=this.k[b],I=this.k[b+1],M=r[b],R=r[b+1],S=zf(w,E,_,k,N,A,x,I,M,R),P=Gf(w,E,_,k,N,A,x,I,M,R);w=Yf(n,i),E=Qf(n,i),_=Kf(n,i,s,o,a),k=Zf(n,i,s,o,a,l);var T=Lf(w,E,_,k),O=Df(w,E,_,k);v=m,y=g,m=d,g=p,d=h,p=f,h=Lf(u,c,S,P),f=Df(c,c,S,P),u=a,c=l,a=s,l=o,s=n,o=i,n=Lf(S,P,T,O),i=Df(S,P,T,O)}Bf(this.h,0,n,i),Bf(this.h,2,s,o),Bf(this.h,4,a,l),Bf(this.h,6,u,c),Bf(this.h,8,h,f),Bf(this.h,10,d,p),Bf(this.h,12,m,g),Bf(this.h,14,v,y)},Vf.prototype._digest=function(t){return"hex"===t?Sf.toHex32(this.h,"big"):Sf.split32(this.h,"big")};var od=Rh,ad=Jf;function ld(){if(!(this instanceof ld))return new ld;ad.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}od.inherits(ld,ad);var ud=ld;ld.blockSize=1024,ld.outSize=384,ld.hmacStrength=192,ld.padLength=128,ld.prototype._digest=function(t){return"hex"===t?od.toHex32(this.h.slice(0,12),"big"):od.split32(this.h.slice(0,12),"big")},Hh.sha1=lf,Hh.sha224=Rf,Hh.sha256=Af,Hh.sha384=ud,Hh.sha512=Jf;var cd={},hd=Rh,fd=jh,dd=hd.rotl32,pd=hd.sum32,md=hd.sum32_3,gd=hd.sum32_4,vd=fd.BlockHash;function yd(){if(!(this instanceof yd))return new yd;vd.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function bd(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function wd(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Ed(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}hd.inherits(yd,vd),cd.ripemd160=yd,yd.blockSize=512,yd.outSize=160,yd.hmacStrength=192,yd.padLength=64,yd.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,l=n,u=i,c=s,h=o,f=0;f<80;f++){var d=pd(dd(gd(r,bd(f,n,i,s),t[_d[f]+e],wd(f)),Nd[f]),o);r=o,o=s,s=dd(i,10),i=n,n=d,d=pd(dd(gd(a,bd(79-f,l,u,c),t[kd[f]+e],Ed(f)),Ad[f]),h),a=h,h=c,c=dd(u,10),u=l,l=d}d=md(this.h[1],i,c),this.h[1]=md(this.h[2],s,h),this.h[2]=md(this.h[3],o,a),this.h[3]=md(this.h[4],r,l),this.h[4]=md(this.h[0],n,u),this.h[0]=d},yd.prototype._digest=function(t){return"hex"===t?hd.toHex32(this.h,"little"):hd.split32(this.h,"little")};var _d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],kd=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Nd=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ad=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],xd=Rh,Id=Sh;function Md(t,e,r){if(!(this instanceof Md))return new Md(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(xd.toArray(e,r))}var Rd=Md;Md.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Id(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Md.prototype.update=function(t,e){return this.inner.update(t,e),this},Md.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Rh,e.common=jh,e.sha=Hh,e.ripemd=cd,e.hmac=Rd,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Mh);var Sd=Mh;function Pd(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&r.path)}},t(r,r.exports),r.exports}var Td=Od;function Od(t,e){if(!t)throw new Error(e||"Assertion failed")}Od.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var $d=Pd((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Cd=Pd((function(t,e){var r=e;r.assert=Td,r.toArray=$d.toArray,r.zero2=$d.zero2,r.toHex=$d.toHex,r.encode=$d.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,l=s.andln(i-1);s.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,l=t.andln(3)+i&3,u=e.andln(3)+s&3;3===l&&(l=-1),3===u&&(u=-1),o=0==(1&l)?0:3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?l:-l,r[0].push(o),a=0==(1&u)?0:3!==(n=e.andln(7)+s&7)&&5!==n||2!==l?u:-u,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new bu(t,"hex","le")}})),Fd=Cd.getNAF,Bd=Cd.getJSF,Ld=Cd.assert;function Dd(t,e){this.type=t,this.p=new bu(e.p,16),this.red=e.prime?bu.red(e.prime):bu.mont(this.p),this.zero=new bu(0).toRed(this.red),this.one=new bu(1).toRed(this.red),this.two=new bu(2).toRed(this.red),this.n=e.n&&new bu(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ud=Dd;function jd(t,e){this.curve=t,this.type=e,this.precomputed=null}Dd.prototype.point=function(){throw new Error("Not implemented")},Dd.prototype.validate=function(){throw new Error("Not implemented")},Dd.prototype._fixedNafMul=function(t,e){Ld(t.precomputed);var r=t._getDoubles(),n=Fd(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var l=s+r.step-1;l>=s;l--)o=(o<<1)+n[l];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++)(o=a[s])===h?c=c.mixedAdd(r.points[s]):o===-h&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},Dd.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Fd(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var l=0;a>=0&&0===s[a];a--)l++;if(a>=0&&l++,o=o.dblp(l),a<0)break;var u=s[a];Ld(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},Dd.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,h=0;for(s=0;s<n;s++){var f=(a=e[s])._getNAFPoints(t);l[s]=f.wnd,u[s]=f.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===l[d]&&1===l[p]){var m=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(m[1]=e[d].add(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].add(e[p].neg())):(m[1]=e[d].toJ().mixedAdd(e[p]),m[2]=e[d].toJ().mixedAdd(e[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=Bd(r[d],r[p]);for(h=Math.max(v[0].length,h),c[d]=new Array(h),c[p]=new Array(h),o=0;o<h;o++){var y=0|v[0][o],b=0|v[1][o];c[d][o]=g[3*(y+1)+(b+1)],c[p][o]=0,u[d]=m}}else c[d]=Fd(r[d],l[d],this._bitLength),c[p]=Fd(r[p],l[p],this._bitLength),h=Math.max(c[d].length,h),h=Math.max(c[p].length,h)}var w=this.jpoint(null,null,null),E=this._wnafT4;for(s=h;s>=0;s--){for(var _=0;s>=0;){var k=!0;for(o=0;o<n;o++)E[o]=0|c[o][s],0!==E[o]&&(k=!1);if(!k)break;_++,s--}if(s>=0&&_++,w=w.dblp(_),s<0)break;for(o=0;o<n;o++){var N=E[o];0!==N&&(N>0?a=u[o][N-1>>1]:N<0&&(a=u[o][-N-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?w:w.toP()},Dd.BasePoint=jd,jd.prototype.eq=function(){throw new Error("Not implemented")},jd.prototype.validate=function(){return this.curve.validate(this)},Dd.prototype.decodePoint=function(t,e){t=Cd.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Ld(t[t.length-1]%2==0):7===t[0]&&Ld(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},jd.prototype.encodeCompressed=function(t){return this.encode(t,!0)},jd.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},jd.prototype.encode=function(t,e){return Cd.encode(this._encode(e),t)},jd.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},jd.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},jd.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},jd.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},jd.prototype._getBeta=function(){return null},jd.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var zd=Pd((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Gd=Cd.assert;function qd(t){Ud.call(this,"short",t),this.a=new bu(t.a,16).toRed(this.red),this.b=new bu(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}zd(qd,Ud);var Hd=qd;function Vd(t,e,r,n){Ud.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new bu(e,16),this.y=new bu(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Jd(t,e,r,n){Ud.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new bu(0)):(this.x=new bu(e,16),this.y=new bu(r,16),this.z=new bu(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}qd.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new bu(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new bu(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?r=i[0]:(r=i[1],Gd(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new bu(t.a,16),b:new bu(t.b,16)}})):this._getEndoBasis(r)}}},qd.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:bu.mont(t),r=new bu(2).toRed(e).redInvm(),n=r.redNeg(),i=new bu(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},qd.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,f=this.n.clone(),d=new bu(1),p=new bu(0),m=new bu(0),g=new bu(1),v=0;0!==h.cmpn(0);){var y=f.div(h);l=f.sub(y.mul(h)),u=m.sub(y.mul(d));var b=g.sub(y.mul(p));if(!n&&l.cmp(c)<0)e=a.neg(),r=d,n=l.neg(),i=u;else if(n&&2==++v)break;a=l,f=h,h=l,m=d,d=u,g=p,p=b}s=l.neg(),o=u;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},qd.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),l=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:l.add(u).neg()}},qd.prototype.pointFromX=function(t,e){(t=new bu(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},qd.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},qd.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),n[2*s]=a,n[2*s+1]=l,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},zd(Vd,Ud.BasePoint),qd.prototype.point=function(t,e,r){return new Vd(this,t,e,r)},qd.prototype.pointFromJSON=function(t,e){return Vd.fromJSON(this,t,e)},Vd.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},Vd.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Vd.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},Vd.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Vd.prototype.isInfinity=function(){return this.inf},Vd.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Vd.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},Vd.prototype.getX=function(){return this.x.fromRed()},Vd.prototype.getY=function(){return this.y.fromRed()},Vd.prototype.mul=function(t){return t=new bu(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},Vd.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Vd.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Vd.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},Vd.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},Vd.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},zd(Jd,Ud.BasePoint),qd.prototype.jpoint=function(t,e,r){return new Jd(this,t,e,r)},Jd.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Jd.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Jd.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=s.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),h=n.redMul(u),f=l.redSqr().redIAdd(c).redISub(h).redISub(h),d=l.redMul(h.redISub(f)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(f,d,p)},Jd.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),u=l.redMul(o),c=r.redMul(l),h=a.redSqr().redIAdd(u).redISub(c).redISub(c),f=a.redMul(c.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(h,f,d)},Jd.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),h=u.redSqr(),f=h.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=s.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=d.redMul(g);v=v.redIAdd(v).redISub(f);var y=u.redMul(a);e+1<t&&(l=l.redMul(f)),s=m,a=y,u=v}return this.curve.jpoint(s,u.redMul(i),a)},Jd.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Jd.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=l,e=a.redMul(o.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(c).redISub(f);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),t=m.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Jd.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);t=l;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(l)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),m=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(c);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),e=d.redMul(p.redISub(t)).redISub(g)}return this.curve.jpoint(t,e,r)},Jd.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),l=e.redAdd(e),u=(l=l.redIAdd(l)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(c),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},Jd.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(l),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var h=this.x.redMul(a).redISub(c);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(o.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},Jd.prototype.mul=function(t,e){return t=new bu(t,e),this.curve._wnafMul(this,t)},Jd.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Jd.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Jd.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Jd.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Wd=Pd((function(t,e){var r=e;r.base=Ud,r.short=Hd,r.mont=null,r.edwards=null})),Xd=Pd((function(t,e){var r,n=e,i=Cd.assert;function s(t){"short"===t.type?this.curve=new Wd.short(t):"edwards"===t.type?this.curve=new Wd.edwards(t):this.curve=new Wd.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Sd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Sd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Sd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Sd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Sd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sd.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Sd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(t){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Sd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Kd(t){if(!(this instanceof Kd))return new Kd(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=$d.toArray(t.entropy,t.entropyEnc||"hex"),r=$d.toArray(t.nonce,t.nonceEnc||"hex"),n=$d.toArray(t.pers,t.persEnc||"hex");Td(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Zd=Kd;Kd.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Kd.prototype._hmac=function(){return new Sd.hmac(this.hash,this.K)},Kd.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Kd.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=$d.toArray(t,e),r=$d.toArray(r,n),Td(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Kd.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=$d.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,$d.encode(s,e)};var Yd=Cd.assert;function Qd(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var tp=Qd;Qd.fromPublic=function(t,e,r){return e instanceof Qd?e:new Qd(t,{pub:e,pubEnc:r})},Qd.fromPrivate=function(t,e,r){return e instanceof Qd?e:new Qd(t,{priv:e,privEnc:r})},Qd.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Qd.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Qd.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},Qd.prototype._importPrivate=function(t,e){this.priv=new bu(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},Qd.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?Yd(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Yd(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},Qd.prototype.derive=function(t){return t.validate()||Yd(t.validate(),"public point not validated"),t.mul(this.priv).getX()},Qd.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},Qd.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},Qd.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var ep=Cd.assert;function rp(t,e){if(t instanceof rp)return t;this._importDER(t,e)||(ep(t.r&&t.s,"Signature without r or s"),this.r=new bu(t.r,16),this.s=new bu(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var np=rp;function ip(){this.place=0}function sp(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function op(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function ap(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}rp.prototype._importDER=function(t,e){t=Cd.toArray(t,e);var r=new ip;if(48!==t[r.place++])return!1;var n=sp(t,r);if(!1===n)return!1;if(n+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var i=sp(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=sp(t,r);if(!1===o)return!1;if(t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new bu(s),this.s=new bu(a),this.recoveryParam=null,!0},rp.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=op(e),r=op(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];ap(n,e.length),(n=n.concat(e)).push(2),ap(n,r.length);var i=n.concat(r),s=[48];return ap(s,i.length),s=s.concat(i),Cd.encode(s,t)};var lp=function(){throw new Error("unsupported")},up=Cd.assert;function cp(t){if(!(this instanceof cp))return new cp(t);"string"==typeof t&&(up(Object.prototype.hasOwnProperty.call(Xd,t),"Unknown curve "+t),t=Xd[t]),t instanceof Xd.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hp=cp;cp.prototype.keyPair=function(t){return new tp(this,t)},cp.prototype.keyFromPrivate=function(t,e){return tp.fromPrivate(this,t,e)},cp.prototype.keyFromPublic=function(t,e){return tp.fromPublic(this,t,e)},cp.prototype.genKeyPair=function(t){t||(t={});for(var e=new Zd({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||lp(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new bu(2));;){var i=new bu(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},cp.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},cp.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new bu(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new Zd({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),l=this.n.sub(new bu(1)),u=0;;u++){var c=n.k?n.k(u):new bu(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var h=this.g.mul(c);if(!h.isInfinity()){var f=h.getX(),d=f.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(h.getY().isOdd()?1:0)|(0!==f.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new np({r:d,s:p,recoveryParam:m})}}}}}},cp.prototype.verify=function(t,e,r,n){t=this._truncateToN(new bu(t,16)),r=this.keyFromPublic(r,n);var i=(e=new np(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),l=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(l,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(l,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},cp.prototype.recoverPubKey=function(t,e,r,n){up((3&r)===r,"The recovery param is more than two bits"),e=new np(e,n);var i=this.n,s=new bu(t),o=e.r,a=e.s,l=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),l):this.curve.pointFromX(o,l);var c=e.r.invm(i),h=i.sub(s).mul(c).umod(i),f=a.mul(c).umod(i);return this.g.mulAdd(h,o,f)},cp.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new np(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var fp=Pd((function(t,e){var r=e;r.version="6.5.4",r.utils=Cd,r.rand=function(){throw new Error("unsupported")},r.curve=Wd,r.curves=Xd,r.ec=hp,r.eddsa=null})),dp=fp.ec;const pp=new Ru("signing-key/5.6.0");let mp=null;function gp(){return mp||(mp=new dp("secp256k1")),mp}class vp{constructor(t){oc(this,"curve","secp256k1"),oc(this,"privateKey",ju(t));const e=gp().keyFromPrivate(Fu(this.privateKey));oc(this,"publicKey","0x"+e.getPublic(!1,"hex")),oc(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),oc(this,"_isSigningKey",!0)}_addPoint(t){const e=gp().keyFromPublic(Fu(this.publicKey)),r=gp().keyFromPublic(Fu(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=gp().keyFromPrivate(Fu(this.privateKey)),r=Fu(t);32!==r.length&&pp.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return Ju({recoveryParam:n.recoveryParam,r:Vu("0x"+n.r.toString(16),32),s:Vu("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=gp().keyFromPrivate(Fu(this.privateKey)),r=gp().keyFromPublic(Fu(yp(t)));return Vu("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function yp(t,e){const r=Fu(t);if(32===r.length){const t=new vp(r);return e?"0x"+gp().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ju(r):"0x"+gp().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+gp().keyFromPublic(r).getPublic(!0,"hex"):ju(r):pp.throwArgumentError("invalid public or private key","key","[REDACTED]")}const bp=new Ru("transactions/5.6.0");var wp;function Ep(t){return"0x"===t?null:Rc(t)}function _p(t){return"0x"===t?Sc:Qu.from(t)}function kp(t,e){return function(t){return Rc(Gu(gc(Gu(yp(t),1)),12))}(function(t,e){const r=Ju(e),n={r:Fu(r.r),s:Fu(r.s)};return"0x"+gp().recoverPubKey(Fu(t),n,r.recoveryParam).encode("hex",!1)}(Fu(t),e))}function Np(t,e){const r=Lu(Qu.from(t).toHexString());return r.length>32&&bp.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function Ap(t,e){return{address:Rc(t),storageKeys:(e||[]).map(((e,r)=>(32!==zu(e)&&bp.throwArgumentError("invalid access list storageKey",`accessList[${t}:${r}]`,e),e.toLowerCase())))}}function xp(t){if(Array.isArray(t))return t.map(((t,e)=>Array.isArray(t)?(t.length>2&&bp.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${e}]`,t),Ap(t[0],t[1])):Ap(t.address,t.storageKeys)));const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return Ap(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function Ip(t){return xp(t).map((t=>[t.address,t.storageKeys]))}function Mp(t,e){if(null!=t.gasPrice){const e=Qu.from(t.gasPrice),r=Qu.from(t.maxFeePerGas||0);e.eq(r)||bp.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:e,maxFeePerGas:r})}const r=[Np(t.chainId||0,"chainId"),Np(t.nonce||0,"nonce"),Np(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Np(t.maxFeePerGas||0,"maxFeePerGas"),Np(t.gasLimit||0,"gasLimit"),null!=t.to?Rc(t.to):"0x",Np(t.value||0,"value"),t.data||"0x",Ip(t.accessList||[])];if(e){const t=Ju(e);r.push(Np(t.recoveryParam,"recoveryParam")),r.push(Lu(t.r)),r.push(Lu(t.s))}return qu(["0x02",Ec(r)])}function Rp(t,e){const r=[Np(t.chainId||0,"chainId"),Np(t.nonce||0,"nonce"),Np(t.gasPrice||0,"gasPrice"),Np(t.gasLimit||0,"gasLimit"),null!=t.to?Rc(t.to):"0x",Np(t.value||0,"value"),t.data||"0x",Ip(t.accessList||[])];if(e){const t=Ju(e);r.push(Np(t.recoveryParam,"recoveryParam")),r.push(Lu(t.r)),r.push(Lu(t.s))}return qu(["0x01",Ec(r)])}function Sp(t,e,r){try{const r=_p(e[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");t.v=r}catch(t){bp.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Vu(e[1],32),t.s=Vu(e[2],32);try{const e=gc(r(t));t.from=kp(e,{r:t.r,s:t.s,recoveryParam:t.v})}catch(t){console.log(t)}}function Pp(t){const e=Fu(t);if(e[0]>127)return function(t){const e=Nc(t);9!==e.length&&6!==e.length&&bp.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:_p(e[0]).toNumber(),gasPrice:_p(e[1]),gasLimit:_p(e[2]),to:Ep(e[3]),value:_p(e[4]),data:e[5],chainId:0};if(6===e.length)return r;try{r.v=Qu.from(e[6]).toNumber()}catch(t){return console.log(t),r}if(r.r=Vu(e[7],32),r.s=Vu(e[8],32),Qu.from(r.r).isZero()&&Qu.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);0!==r.chainId&&(i.push(ju(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const s=gc(Ec(i));try{r.from=kp(s,{r:ju(r.r),s:ju(r.s),recoveryParam:n})}catch(t){console.log(t)}r.hash=gc(t)}return r.type=null,r}(e);switch(e[0]){case 1:return function(t){const e=Nc(t.slice(1));8!==e.length&&11!==e.length&&bp.throwArgumentError("invalid component count for transaction type: 1","payload",ju(t));const r={type:1,chainId:_p(e[0]).toNumber(),nonce:_p(e[1]).toNumber(),gasPrice:_p(e[2]),gasLimit:_p(e[3]),to:Ep(e[4]),value:_p(e[5]),data:e[6],accessList:xp(e[7])};return 8===e.length||(r.hash=gc(t),Sp(r,e.slice(8),Rp)),r}(e);case 2:return function(t){const e=Nc(t.slice(1));9!==e.length&&12!==e.length&&bp.throwArgumentError("invalid component count for transaction type: 2","payload",ju(t));const r=_p(e[2]),n=_p(e[3]),i={type:2,chainId:_p(e[0]).toNumber(),nonce:_p(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:_p(e[4]),to:Ep(e[5]),value:_p(e[6]),data:e[7],accessList:xp(e[8])};return 9===e.length||(i.hash=gc(t),Sp(i,e.slice(9),Mp)),i}(e)}return bp.throwError(`unsupported transaction type: ${e[0]}`,Ru.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}!function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(wp||(wp={}));class Tp{constructor(t){oc(this,"alphabet",t),oc(this,"base",t.length),oc(this,"_alphabetMap",{}),oc(this,"_leader",t.charAt(0));for(let e=0;e<t.length;e++)this._alphabetMap[t.charAt(e)]=e}encode(t){let e=Fu(t);if(0===e.length)return"";let r=[0];for(let t=0;t<e.length;++t){let n=e[t];for(let t=0;t<r.length;++t)n+=r[t]<<8,r[t]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let t=0;0===e[t]&&t<e.length-1;++t)n+=this._leader;for(let t=r.length-1;t>=0;--t)n+=this.alphabet[r[t]];return n}decode(t){if("string"!=typeof t)throw new TypeError("Expected String");let e=[];if(0===t.length)return new Uint8Array(e);e.push(0);for(let r=0;r<t.length;r++){let n=this._alphabetMap[t[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let t=0;t<e.length;++t)i+=e[t]*this.base,e[t]=255&i,i>>=8;for(;i>0;)e.push(255&i),i>>=8}for(let r=0;t[r]===this._leader&&r<t.length-1;++r)e.push(0);return Fu(new Uint8Array(e.reverse()))}}new Tp("abcdefghijklmnopqrstuvwxyz234567");const Op=new Tp("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function $p(t){return"0x"+Sd.sha256().update(Fu(t)).digest("hex")}new Ru("sha2/5.6.0");const Cp=new Ru("networks/5.6.2");function Fp(t){const e=function(e,r){null==r&&(r={});const n=[];if(e.InfuraProvider&&"-"!==r.infura)try{n.push(new e.InfuraProvider(t,r.infura))}catch(t){}if(e.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new e.EtherscanProvider(t,r.etherscan))}catch(t){}if(e.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new e.AlchemyProvider(t,r.alchemy))}catch(t){}if(e.PocketProvider&&"-"!==r.pocket){const i=["goerli","ropsten","rinkeby"];try{const s=new e.PocketProvider(t,r.pocket);s.network&&-1===i.indexOf(s.network.name)&&n.push(s)}catch(t){}}if(e.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new e.CloudflareProvider(t))}catch(t){}if(e.AnkrProvider&&"-"!==r.ankr)try{n.push(new e.AnkrProvider(t,r.ankr))}catch(t){}if(0===n.length)return null;if(e.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===t&&(i=2),new e.FallbackProvider(n,i)}return n[0]};return e.renetwork=function(t){return Fp(t)},e}function Bp(t,e){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(t,e):null};return r.renetwork=function(e){return Bp(t,e)},r}const Lp={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Fp("homestead")},Dp={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Fp("ropsten")},Up={chainId:63,name:"classicMordor",_defaultProvider:Bp("https://www.ethercluster.com/mordor","classicMordor")},jp={unspecified:{chainId:0,name:"unspecified"},homestead:Lp,mainnet:Lp,morden:{chainId:2,name:"morden"},ropsten:Dp,testnet:Dp,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Fp("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Fp("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Fp("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:Bp("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Up,classicTestnet:Up,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Bp("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function zp(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Fu(e)}function Gp(t){t=Fu(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}var qp=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};function Hp(t,e){return qp(this,void 0,void 0,(function*(){null==e&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};!0!==e.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach(((t,e)=>{s[e.toLowerCase()]=t})):n.headers.keys().forEach((t=>{s[t.toLowerCase()]=n.headers.get(t)})),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Fu(new Uint8Array(i))}}))}var Vp=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Jp=new Ru("web/5.6.0");function Wp(t){return new Promise((e=>{setTimeout(e,t)}))}function Xp(t,e){if(null==t)return null;if("string"==typeof t)return t;if(Ou(t)){if(e&&("text"===e.split("/")[0]||"application/json"===e.split(";")[0].trim()))try{return Dc(t)}catch(t){}return ju(t)}return t}function Kp(t,e,r){let n=null;if(null!=e){n=Bc(e);const r="string"==typeof t?{url:t}:uc(t);if(r.headers){0!==Object.keys(r.headers).filter((t=>"content-type"===t.toLowerCase())).length||(r.headers=uc(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};t=r}return function(t,e,r){const n="object"==typeof t&&null!=t.throttleLimit?t.throttleLimit:12;Jp.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof t?t.throttleCallback:null,s="object"==typeof t&&"number"==typeof t.throttleSlotInterval?t.throttleSlotInterval:100;Jp.assertArgument(s>0&&s%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o="object"==typeof t&&!!t.errorPassThrough,a={};let l=null;const u={method:"GET"};let c=!1,h=12e4;if("string"==typeof t)l=t;else if("object"==typeof t){if(null!=t&&null!=t.url||Jp.throwArgumentError("missing URL","connection.url",t),l=t.url,"number"==typeof t.timeout&&t.timeout>0&&(h=t.timeout),t.headers)for(const e in t.headers)a[e.toLowerCase()]={key:e,value:String(t.headers[e])},["if-none-match","if-modified-since"].indexOf(e.toLowerCase())>=0&&(c=!0);if(u.allowGzip=!!t.allowGzip,null!=t.user&&null!=t.password){"https:"!==l.substring(0,6)&&!0!==t.allowInsecureAuthentication&&Jp.throwError("basic authentication requires a secure https url",Ru.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const e=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+Gp(Bc(e))}}null!=t.skipFetchSetup&&(u.skipFetchSetup=!!t.skipFetchSetup)}const f=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),d=l?l.match(f):null;if(d)try{const t={statusCode:200,statusMessage:"OK",headers:{"content-type":d[1]},body:zp(d[2])};let e=t.body;return r&&(e=r(t.body,t)),Promise.resolve(e)}catch(t){Jp.throwError("processing response error",Ru.errors.SERVER_ERROR,{body:Xp(d[1],d[2]),error:t,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach((t=>{const e=a[t];p[e.key]=e.value})),u.headers=p;const m=function(){let t=null;return{promise:new Promise((function(e,r){h&&(t=setTimeout((()=>{null!=t&&(t=null,r(Jp.makeError("timeout",Ru.errors.TIMEOUT,{requestBody:Xp(u.body,p["content-type"]),requestMethod:u.method,timeout:h,url:l})))}),h))})),cancel:function(){null!=t&&(clearTimeout(t),t=null)}}}(),g=function(){return Vp(this,void 0,void 0,(function*(){for(let t=0;t<n;t++){let e=null;try{if(e=yield Hp(l,u),t<n)if(301===e.statusCode||302===e.statusCode){const t=e.headers.location||"";if("GET"===u.method&&t.match(/^https:/)){l=e.headers.location;continue}}else if(429===e.statusCode){let r=!0;if(i&&(r=yield i(t,l)),r){let r=0;const n=e.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):s*parseInt(String(Math.random()*Math.pow(2,t))),yield Wp(r);continue}}}catch(t){e=t.response,null==e&&(m.cancel(),Jp.throwError("missing response",Ru.errors.SERVER_ERROR,{requestBody:Xp(u.body,p["content-type"]),requestMethod:u.method,serverError:t,url:l}))}let a=e.body;if(c&&304===e.statusCode?a=null:!o&&(e.statusCode<200||e.statusCode>=300)&&(m.cancel(),Jp.throwError("bad response",Ru.errors.SERVER_ERROR,{status:e.statusCode,headers:e.headers,body:Xp(a,e.headers?e.headers["content-type"]:null),requestBody:Xp(u.body,p["content-type"]),requestMethod:u.method,url:l})),r)try{const t=yield r(a,e);return m.cancel(),t}catch(r){if(r.throttleRetry&&t<n){let e=!0;if(i&&(e=yield i(t,l)),e){const e=s*parseInt(String(Math.random()*Math.pow(2,t)));yield Wp(e);continue}}m.cancel(),Jp.throwError("processing response error",Ru.errors.SERVER_ERROR,{body:Xp(a,e.headers?e.headers["content-type"]:null),error:r,requestBody:Xp(u.body,p["content-type"]),requestMethod:u.method,url:l})}return m.cancel(),a}return Jp.throwError("failed response",Ru.errors.SERVER_ERROR,{requestBody:Xp(u.body,p["content-type"]),requestMethod:u.method,url:l})}))}();return Promise.race([m.promise,g])}(t,n,((t,e)=>{let n=null;if(null!=t)try{n=JSON.parse(Dc(t))}catch(e){Jp.throwError("invalid JSON",Ru.errors.SERVER_ERROR,{body:t,error:e})}return r&&(n=r(n,e)),n}))}function Zp(t,e){return e||(e={}),null==(e=uc(e)).floor&&(e.floor=0),null==e.ceiling&&(e.ceiling=1e4),null==e.interval&&(e.interval=250),new Promise((function(r,n){let i=null,s=!1;const o=()=>!s&&(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout((()=>{o()&&n(new Error("timeout"))}),e.timeout));const a=e.retryLimit;let l=0;!function i(){return t().then((function(t){if(void 0!==t)o()&&r(t);else if(e.oncePoll)e.oncePoll.once("poll",i);else if(e.onceBlock)e.onceBlock.once("block",i);else if(!s){if(l++,l>a)return void(o()&&n(new Error("retry limit reached")));let t=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));t<e.floor&&(t=e.floor),t>e.ceiling&&(t=e.ceiling),setTimeout(i,t)}return null}),(function(t){o()&&n(t)}))}()}))}for(var Yp="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Qp={},tm=0;tm<Yp.length;tm++){var em=Yp.charAt(tm);if(void 0!==Qp[em])throw new TypeError(em+" is ambiguous");Qp[em]=tm}function rm(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function nm(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=rm(e)^n>>5}for(e=rm(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=rm(e)^31&i}return e}function im(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;var i=(t=r).lastIndexOf("1");if(-1===i)return"No separator character for "+t;if(0===i)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=nm(s);if("string"==typeof a)return a;for(var l=[],u=0;u<o.length;++u){var c=o.charAt(u),h=Qp[c];if(void 0===h)return"Unknown character "+c;a=rm(a)^h,u+6>=o.length||l.push(h)}return 1!==a?"Invalid checksum for "+t:{prefix:s,words:l}}function sm(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}var om={decodeUnsafe:function(){var t=im.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=im.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");var n=nm(t=t.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5!=0)throw new Error("Non 5-bit word");n=rm(n)^o,i+=Yp.charAt(o)}for(s=0;s<6;++s)n=rm(n);for(n^=1,s=0;s<6;++s){i+=Yp.charAt(n>>5*(5-s)&31)}return i},toWordsUnsafe:function(t){var e=sm(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=sm(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=sm(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=sm(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}};const am="providers/5.6.4",lm=new Ru(am);class um{constructor(){lm.checkNew(new.target,um),this.formats=this.getDefaultFormats()}getDefaultFormats(){const t={},e=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return t.transaction={hash:s,type:l,accessList:um.allowNull(this.accessList.bind(this),null),blockHash:um.allowNull(s,null),blockNumber:um.allowNull(a,null),transactionIndex:um.allowNull(a,null),confirmations:um.allowNull(a,null),from:e,gasPrice:um.allowNull(r),maxPriorityFeePerGas:um.allowNull(r),maxFeePerGas:um.allowNull(r),gasLimit:r,to:um.allowNull(e,null),value:r,nonce:a,data:i,r:um.allowNull(this.uint256),s:um.allowNull(this.uint256),v:um.allowNull(a),creates:um.allowNull(e,null),raw:um.allowNull(i)},t.transactionRequest={from:um.allowNull(e),nonce:um.allowNull(a),gasLimit:um.allowNull(r),gasPrice:um.allowNull(r),maxPriorityFeePerGas:um.allowNull(r),maxFeePerGas:um.allowNull(r),to:um.allowNull(e),value:um.allowNull(r),data:um.allowNull((t=>this.data(t,!0))),type:um.allowNull(a),accessList:um.allowNull(this.accessList.bind(this),null)},t.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:e,topics:um.arrayOf(s),data:i,logIndex:a,blockHash:s},t.receipt={to:um.allowNull(this.address,null),from:um.allowNull(this.address,null),contractAddress:um.allowNull(e,null),transactionIndex:a,root:um.allowNull(o),gasUsed:r,logsBloom:um.allowNull(i),blockHash:s,transactionHash:s,logs:um.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:um.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:um.allowNull(r),status:um.allowNull(a),type:l},t.block={hash:um.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:um.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:um.allowNull(e),extraData:i,transactions:um.allowNull(um.arrayOf(s)),baseFeePerGas:um.allowNull(r)},t.blockWithTransactions=uc(t.block),t.blockWithTransactions.transactions=um.allowNull(um.arrayOf(this.transactionResponse.bind(this))),t.filter={fromBlock:um.allowNull(n,void 0),toBlock:um.allowNull(n,void 0),blockHash:um.allowNull(s,void 0),address:um.allowNull(e,void 0),topics:um.allowNull(this.topics.bind(this),void 0)},t.filterLog={blockNumber:um.allowNull(a),blockHash:um.allowNull(s),transactionIndex:a,removed:um.allowNull(this.boolean.bind(this)),address:e,data:um.allowFalsish(i,"0x"),topics:um.arrayOf(s),transactionHash:s,logIndex:a},t}accessList(t){return xp(t||[])}number(t){return"0x"===t?0:Qu.from(t).toNumber()}type(t){return"0x"===t||null==t?0:Qu.from(t).toNumber()}bigNumber(t){return Qu.from(t)}boolean(t){if("boolean"==typeof t)return t;if("string"==typeof t){if("true"===(t=t.toLowerCase()))return!0;if("false"===t)return!1}throw new Error("invalid boolean - "+t)}hex(t,e){return"string"==typeof t&&(e||"0x"===t.substring(0,2)||(t="0x"+t),Du(t))?t.toLowerCase():lm.throwArgumentError("invalid hash","value",t)}data(t,e){const r=this.hex(t,e);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+t);return r}address(t){return Rc(t)}callAddress(t){if(!Du(t,32))return null;const e=Rc(Gu(t,12));return"0x0000000000000000000000000000000000000000"===e?null:e}contractAddress(t){return function(t){let e=null;try{e=Rc(t.from)}catch(e){Ac.throwArgumentError("missing from address","transaction",t)}return Rc(Gu(gc(Ec([e,Lu(Fu(Qu.from(t.nonce).toHexString()))])),12))}(t)}blockTag(t){if(null==t)return"latest";if("earliest"===t)return"0x0";if("latest"===t||"pending"===t)return t;if("number"==typeof t||Du(t))return Hu(t);throw new Error("invalid blockTag")}hash(t,e){const r=this.hex(t,e);return 32!==zu(r)?lm.throwArgumentError("invalid hash","value",t):r}difficulty(t){if(null==t)return null;const e=Qu.from(t);try{return e.toNumber()}catch(t){}return null}uint256(t){if(!Du(t))throw new Error("invalid uint256");return Vu(t,32)}_block(t,e){null!=t.author&&null==t.miner&&(t.miner=t.author);const r=null!=t._difficulty?t._difficulty:t.difficulty,n=um.check(e,t);return n._difficulty=null==r?null:Qu.from(r),n}block(t){return this._block(t,this.formats.block)}blockWithTransactions(t){return this._block(t,this.formats.blockWithTransactions)}transactionRequest(t){return um.check(this.formats.transactionRequest,t)}transactionResponse(t){null!=t.gas&&null==t.gasLimit&&(t.gasLimit=t.gas),t.to&&Qu.from(t.to).isZero()&&(t.to="0x0000000000000000000000000000000000000000"),null!=t.input&&null==t.data&&(t.data=t.input),null==t.to&&null==t.creates&&(t.creates=this.contractAddress(t)),1!==t.type&&2!==t.type||null!=t.accessList||(t.accessList=[]);const e=um.check(this.formats.transaction,t);if(null!=t.chainId){let r=t.chainId;Du(r)&&(r=Qu.from(r).toNumber()),e.chainId=r}else{let r=t.networkId;null==r&&null==e.v&&(r=t.chainId),Du(r)&&(r=Qu.from(r).toNumber()),"number"!=typeof r&&null!=e.v&&(r=(e.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),e.chainId=r}return e.blockHash&&"x"===e.blockHash.replace(/0/g,"")&&(e.blockHash=null),e}transaction(t){return Pp(t)}receiptLog(t){return um.check(this.formats.receiptLog,t)}receipt(t){const e=um.check(this.formats.receipt,t);if(null!=e.root)if(e.root.length<=4){const t=Qu.from(e.root).toNumber();0===t||1===t?(null!=e.status&&e.status!==t&&lm.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):lm.throwArgumentError("invalid alt-root-status","value.root",e.root)}else 66!==e.root.length&&lm.throwArgumentError("invalid root hash","value.root",e.root);return null!=e.status&&(e.byzantium=!0),e}topics(t){return Array.isArray(t)?t.map((t=>this.topics(t))):null!=t?this.hash(t,!0):null}filter(t){return um.check(this.formats.filter,t)}filterLog(t){return um.check(this.formats.filterLog,t)}static check(t,e){const r={};for(const n in t)try{const i=t[n](e[n]);void 0!==i&&(r[n]=i)}catch(t){throw t.checkKey=n,t.checkValue=e[n],t}return r}static allowNull(t,e){return function(r){return null==r?e:t(r)}}static allowFalsish(t,e){return function(r){return r?t(r):e}}static arrayOf(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");const r=[];return e.forEach((function(e){r.push(t(e))})),r}}}var cm=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const hm=new Ru(am);function fm(t){return null==t?"null":(32!==zu(t)&&hm.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function dm(t){for(t=t.slice();t.length>0&&null==t[t.length-1];)t.pop();return t.map((t=>{if(Array.isArray(t)){const e={};t.forEach((t=>{e[fm(t)]=!0}));const r=Object.keys(e);return r.sort(),r.join("|")}return fm(t)})).join("&")}function pm(t){if("string"==typeof t){if(32===zu(t=t.toLowerCase()))return"tx:"+t;if(-1===t.indexOf(":"))return t}else{if(Array.isArray(t))return"filter:*:"+dm(t);if(class extends class{constructor(t){for(const e in t)this[e]=dc(t[e])}}{static isForkEvent(t){return!(!t||!t._isForkEvent)}}.isForkEvent(t))throw hm.warn("not implemented"),new Error("not implemented");if(t&&"object"==typeof t)return"filter:"+(t.address||"*")+":"+dm(t.topics||[])}throw new Error("invalid event - "+t)}function mm(){return(new Date).getTime()}function gm(t){return new Promise((e=>{setTimeout(e,t)}))}const vm=["block","network","pending","poll"];class ym{constructor(t,e,r){oc(this,"tag",t),oc(this,"listener",e),oc(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const t=this.tag.split(":");return"tx"!==t[0]?null:t[1]}get filter(){const t=this.tag.split(":");if("filter"!==t[0])return null;const e=t[1],r=""===(n=t[2])?[]:n.split(/&/g).map((t=>{if(""===t)return[];const e=t.split("|").map((t=>"null"===t?null:t));return 1===e.length?e[0]:e}));var n;const i={};return r.length>0&&(i.topics=r),e&&"*"!==e&&(i.address=e),i}pollable(){return this.tag.indexOf(":")>=0||vm.indexOf(this.tag)>=0}}const bm={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function wm(t){return Vu(Qu.from(t).toHexString(),32)}function Em(t){return Op.encode(Bu([t,Gu($p($p(t)),0,4)]))}const _m=new RegExp("^(ipfs)://(.*)$","i"),km=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),_m,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Nm(t,e){try{return Dc(Am(t,e))}catch(t){}return null}function Am(t,e){if("0x"===t)return null;const r=Qu.from(Gu(t,e,e+32)).toNumber(),n=Qu.from(Gu(t,r,r+32)).toNumber();return Gu(t,r+32,r+32+n)}function xm(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):hm.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function Im(t){const e=Fu(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function Mm(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}function Rm(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Fu(t[n]);e[n]=Im(r),e.push(Im(i.length)),e.push(Mm(i)),r+=32+32*Math.ceil(i.length/32)}return qu(e)}class Sm{constructor(t,e,r,n){oc(this,"provider",t),oc(this,"name",r),oc(this,"address",t.formatter.address(e)),oc(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then((t=>Qu.from(t).eq(1))).catch((t=>{if(t.code===Ru.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,t}))),this._supportsEip2544}_fetch(t,e){return cm(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:qu([t,nh(this.name),e||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=qu(["0x9061b923",Rm([(i=this.name,ju(Bu(i.split(".").map((t=>{const e=Bc("_"+Zc(t));return e[0]=e.length-1,e}))))+"00"),r.data])]));try{let t=yield this.provider.call(r);return Fu(t).length%32==4&&hm.throwError("resolver threw error",Ru.errors.CALL_EXCEPTION,{transaction:r,data:t}),n&&(t=Am(t,0)),t}catch(t){if(t.code===Ru.errors.CALL_EXCEPTION)return null;throw t}}))}_fetchBytes(t,e){return cm(this,void 0,void 0,(function*(){const r=yield this._fetch(t,e);return null!=r?Am(r,0):null}))}_getAddress(t,e){const r=bm[String(t)];if(null==r&&hm.throwError(`unsupported coin type: ${t}`,Ru.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`}),"eth"===r.ilk)return this.provider.formatter.address(e);const n=Fu(e);if(null!=r.p2pkh){const t=e.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Em(Bu([[r.p2pkh],"0x"+t[2]]))}}if(null!=r.p2sh){const t=e.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(t){const e=parseInt(t[1],16);if(t[2].length===2*e&&e>=1&&e<=75)return Em(Bu([[r.p2sh],"0x"+t[2]]))}}if(null!=r.prefix){const t=n[1];let e=n[0];if(0===e?20!==t&&32!==t&&(e=-1):e=-1,e>=0&&n.length===2+t&&t>=1&&t<=75){const t=om.toWords(n.slice(2));return t.unshift(e),om.encode(r.prefix,t)}}return null}getAddress(t){return cm(this,void 0,void 0,(function*(){if(null==t&&(t=60),60===t)try{const t=yield this._fetch("0x3b3b57de");return"0x"===t||"0x0000000000000000000000000000000000000000000000000000000000000000"===t?null:this.provider.formatter.callAddress(t)}catch(t){if(t.code===Ru.errors.CALL_EXCEPTION)return null;throw t}const e=yield this._fetchBytes("0xf1cb7e06",wm(t));if(null==e||"0x"===e)return null;const r=this._getAddress(t,e);return null==r&&hm.throwError("invalid or unsupported coin data",Ru.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${t})`,coinType:t,data:e}),r}))}getAvatar(){return cm(this,void 0,void 0,(function*(){const t=[{type:"name",content:this.name}];try{const e=yield this.getText("avatar");if(null==e)return null;for(let r=0;r<km.length;r++){const n=e.match(km[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return t.push({type:"url",content:e}),{linkage:t,url:e};case"data":return t.push({type:"data",content:e}),{linkage:t,url:e};case"ipfs":return t.push({type:"ipfs",content:e}),{linkage:t,url:xm(e)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";t.push({type:i,content:e});const s=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;const a=yield this.provider.formatter.address(o[0]),l=Vu(Qu.from(o[1]).toHexString(),32);if("erc721"===i){const e=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:qu(["0x6352211e",l])}));if(s!==e)return null;t.push({type:"owner",content:e})}else if("erc1155"===i){const e=Qu.from(yield this.provider.call({to:a,data:qu(["0x00fdd58e",Vu(s,32),l])}));if(e.isZero())return null;t.push({type:"balance",content:e.toString()})}const u={to:this.provider.formatter.address(o[0]),data:qu([r,l])};let c=Nm(yield this.provider.call(u),0);if(null==c)return null;t.push({type:"metadata-url-base",content:c}),"erc1155"===i&&(c=c.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:c})),c.match(/^ipfs:/i)&&(c=xm(c)),t.push({type:"metadata-url",content:c});const h=yield Kp(c);if(!h)return null;t.push({type:"metadata",content:JSON.stringify(h)});let f=h.image;if("string"!=typeof f)return null;if(f.match(/^(https:\/\/|data:)/i));else{if(null==f.match(_m))return null;t.push({type:"url-ipfs",content:f}),f=xm(f)}return t.push({type:"url",content:f}),{linkage:t,url:f}}}}}catch(t){}return null}))}getContentHash(){return cm(this,void 0,void 0,(function*(){const t=yield this._fetchBytes("0xbc1c58d1");if(null==t||"0x"===t)return null;const e=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t=parseInt(e[3],16);if(e[4].length===2*t)return"ipfs://"+Op.encode("0x"+e[1])}const r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const t=parseInt(r[3],16);if(r[4].length===2*t)return"ipns://"+Op.encode("0x"+r[1])}const n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);return n&&64===n[1].length?"bzz://"+n[1]:hm.throwError("invalid or unsupported content hash data",Ru.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})}))}getText(t){return cm(this,void 0,void 0,(function*(){let e=Bc(t);e=Bu([wm(64),wm(e.length),e]),e.length%32!=0&&(e=Bu([e,Vu("0x",32-t.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",ju(e));return null==r||"0x"===r?null:Dc(r)}))}}let Pm=null,Tm=1;class Om extends _h{constructor(t){if(hm.checkNew(new.target,_h),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),oc(this,"anyNetwork","any"===t),this.anyNetwork&&(t=this.detectNetwork()),t instanceof Promise)this._networkPromise=t,t.catch((t=>{})),this._ready().catch((t=>{}));else{const e=ac(new.target,"getNetwork")(t);e?(oc(this,"_network",e),this.emit("network",e,null)):hm.throwArgumentError("invalid network","network",t)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return cm(this,void 0,void 0,(function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(t){}null==t&&(t=yield this.detectNetwork()),t||hm.throwError("no network detected",Ru.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:oc(this,"_network",t),this.emit("network",t,null))}return this._network}))}get ready(){return Zp((()=>this._ready().then((t=>t),(t=>{if(t.code!==Ru.errors.NETWORK_ERROR||"noNetwork"!==t.event)throw t}))))}static getFormatter(){return null==Pm&&(Pm=new um),Pm}static getNetwork(t){return function(t){if(null==t)return null;if("number"==typeof t){for(const e in jp){const r=jp[e];if(r.chainId===t)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:t,name:"unknown"}}if("string"==typeof t){const e=jp[t];return null==e?null:{name:e.name,chainId:e.chainId,ensAddress:e.ensAddress,_defaultProvider:e._defaultProvider||null}}const e=jp[t.name];if(!e)return"number"!=typeof t.chainId&&Cp.throwArgumentError("invalid network chainId","network",t),t;0!==t.chainId&&t.chainId!==e.chainId&&Cp.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;var n;return null==r&&e._defaultProvider&&(r=(n=e._defaultProvider)&&"function"==typeof n.renetwork?e._defaultProvider.renetwork(t):e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}(null==t?"homestead":t)}ccipReadFetch(t,e,r){return cm(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),s=[];for(let t=0;t<r.length;t++){const e=r[t],o=e.replace("{sender}",n).replace("{data}",i),a=e.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield Kp({url:o,errorPassThrough:!0},a,((t,e)=>(t.status=e.statusCode,t)));if(l.data)return l.data;const u=l.message||"unknown error";if(l.status>=400&&l.status<500)return hm.throwError(`response not found during CCIP fetch: ${u}`,Ru.errors.SERVER_ERROR,{url:e,errorMessage:u});s.push(u)}return hm.throwError(`error encountered during CCIP fetch: ${s.map((t=>JSON.stringify(t))).join(", ")}`,Ru.errors.SERVER_ERROR,{urls:r,errorMessages:s})}))}_getInternalBlockNumber(t){return cm(this,void 0,void 0,(function*(){if(yield this._ready(),t>0)for(;this._internalBlockNumber;){const e=this._internalBlockNumber;try{const r=yield e;if(mm()-r.respTime<=t)return r.blockNumber;break}catch(t){if(this._internalBlockNumber===e)break}}const e=mm(),r=lc({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then((t=>null),(t=>t))}).then((({blockNumber:t,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=mm();return(t=Qu.from(t).toNumber())<this._maxInternalBlockNumber&&(t=this._maxInternalBlockNumber),this._maxInternalBlockNumber=t,this._setFastBlockNumber(t),{blockNumber:t,reqTime:e,respTime:i}}));return this._internalBlockNumber=r,r.catch((t=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)})),(yield r).blockNumber}))}poll(){return cm(this,void 0,void 0,(function*(){const t=Tm++,e=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(t){return void this.emit("error",t)}if(this._setFastBlockNumber(r),this.emit("poll",t,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)hm.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",hm.makeError("network block skew detected",Ru.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let t=this._emitted.block+1;t<=r;t++)this.emit("block",t);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach((t=>{if("block"===t)return;const e=this._emitted[t];"pending"!==e&&r-e>12&&delete this._emitted[t]}))),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach((t=>{switch(t.type){case"tx":{const r=t.hash;let n=this.getTransactionReceipt(r).then((t=>t&&null!=t.blockNumber?(this._emitted["t:"+r]=t.blockNumber,this.emit(r,t),null):null)).catch((t=>{this.emit("error",t)}));e.push(n);break}case"filter":if(!t._inflight){t._inflight=!0;const n=t.filter;n.fromBlock=t._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then((e=>{t._inflight=!1,0!==e.length&&e.forEach((e=>{e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),this._emitted["b:"+e.blockHash]=e.blockNumber,this._emitted["t:"+e.transactionHash]=e.blockNumber,this.emit(n,e)}))})).catch((e=>{this.emit("error",e),t._inflight=!1}));e.push(i)}}})),this._lastBlockNumber=r,Promise.all(e).then((()=>{this.emit("didPoll",t)})).catch((t=>{this.emit("error",t)}))}else this.emit("didPoll",t)}))}resetEventsBlock(t){this._lastBlockNumber=t-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return cm(this,void 0,void 0,(function*(){return hm.throwError("provider does not support network detection",Ru.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return cm(this,void 0,void 0,(function*(){const t=yield this._ready(),e=yield this.detectNetwork();if(t.chainId!==e.chainId){if(this.anyNetwork)return this._network=e,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",e,t),yield gm(0),this._network;const r=hm.makeError("underlying network changed",Ru.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:e});throw this.emit("error",r),r}return t}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then((t=>{this._setFastBlockNumber(t)}),(t=>{})),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(t){t&&!this._poller?(this._poller=setInterval((()=>{this.poll()}),this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout((()=>{this.poll(),this._bootstrapPoll=setTimeout((()=>{this._poller||this.poll(),this._bootstrapPoll=null}),this.pollingInterval)}),0))):!t&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(t){if("number"!=typeof t||t<=0||parseInt(String(t))!=t)throw new Error("invalid polling interval");this._pollingInterval=t,this._poller&&(clearInterval(this._poller),this._poller=setInterval((()=>{this.poll()}),this._pollingInterval))}_getFastBlockNumber(){const t=mm();return t-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=t,this._fastBlockNumberPromise=this.getBlockNumber().then((t=>((null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber)))),this._fastBlockNumberPromise}_setFastBlockNumber(t){null!=this._fastBlockNumber&&t<this._fastBlockNumber||(this._fastQueryDate=mm(),(null==this._fastBlockNumber||t>this._fastBlockNumber)&&(this._fastBlockNumber=t,this._fastBlockNumberPromise=Promise.resolve(t)))}waitForTransaction(t,e,r){return cm(this,void 0,void 0,(function*(){return this._waitForTransaction(t,null==e?1:e,r||0,null)}))}_waitForTransaction(t,e,r,n){return cm(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(t);return(i?i.confirmations:0)>=e?i:new Promise(((i,s)=>{const o=[];let a=!1;const l=function(){return!!a||(a=!0,o.forEach((t=>{t()})),!1)},u=t=>{t.confirmations<e||l()||i(t)};if(this.on(t,u),o.push((()=>{this.removeListener(t,u)})),n){let r=n.startBlock,i=null;const u=o=>cm(this,void 0,void 0,(function*(){a||(yield gm(1e3),this.getTransactionCount(n.from).then((c=>cm(this,void 0,void 0,(function*(){if(!a){if(c<=n.nonce)r=o;else{{const e=yield this.getTransaction(t);if(e&&null!=e.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=o;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const o=r.transactions[i];if(o.hash===t)return;if(o.from===n.from&&o.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(o.hash,e);if(l())return;let i="replaced";return o.data===n.data&&o.to===n.to&&o.value.eq(n.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),void s(hm.makeError("transaction was replaced",Ru.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:t,receipt:r}))}}i++}}a||this.once("block",u)}}))),(t=>{a||this.once("block",u)})))}));if(a)return;this.once("block",u),o.push((()=>{this.removeListener("block",u)}))}if("number"==typeof r&&r>0){const t=setTimeout((()=>{l()||s(hm.makeError("timeout exceeded",Ru.errors.TIMEOUT,{timeout:r}))}),r);t.unref&&t.unref(),o.push((()=>{clearTimeout(t)}))}}))}))}getBlockNumber(){return cm(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield this.perform("getGasPrice",{});try{return Qu.from(t)}catch(e){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})}}))}getBalance(t,e){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield lc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getBalance",r);try{return Qu.from(n)}catch(t){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:t})}}))}getTransactionCount(t,e){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield lc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getTransactionCount",r);try{return Qu.from(n).toNumber()}catch(t){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:t})}}))}getCode(t,e){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield lc({address:this._getAddress(t),blockTag:this._getBlockTag(e)}),n=yield this.perform("getCode",r);try{return ju(n)}catch(t){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:t})}}))}getStorageAt(t,e,r){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield lc({address:this._getAddress(t),blockTag:this._getBlockTag(r),position:Promise.resolve(e).then((t=>Hu(t)))}),i=yield this.perform("getStorageAt",n);try{return ju(i)}catch(t){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:t})}}))}_wrapTransaction(t,e,r){if(null!=e&&32!==zu(e))throw new Error("invalid response - sendTransaction");const n=t;return null!=e&&t.hash!==e&&hm.throwError("Transaction hash mismatch from Provider.sendTransaction.",Ru.errors.UNKNOWN_ERROR,{expectedHash:t.hash,returnedHash:e}),n.wait=(e,n)=>cm(this,void 0,void 0,(function*(){let i;null==e&&(e=1),null==n&&(n=0),0!==e&&null!=r&&(i={data:t.data,from:t.from,nonce:t.nonce,to:t.to,value:t.value,startBlock:r});const s=yield this._waitForTransaction(t.hash,e,n,i);return null==s&&0===e?null:(this._emitted["t:"+t.hash]=s.blockNumber,0===s.status&&hm.throwError("transaction failed",Ru.errors.CALL_EXCEPTION,{transactionHash:t.hash,transaction:t,receipt:s}),s)})),n}sendTransaction(t){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield Promise.resolve(t).then((t=>ju(t))),r=this.formatter.transaction(t);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const t=yield this.perform("sendTransaction",{signedTransaction:e});return this._wrapTransaction(r,t,n)}catch(t){throw t.transaction=r,t.transactionHash=r.hash,t}}))}_getTransactionRequest(t){return cm(this,void 0,void 0,(function*(){const e=yield t,r={};return["from","to"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?this._getAddress(t):null)))})),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?Qu.from(t):null)))})),["type"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>null!=t?t:null)))})),e.accessList&&(r.accessList=this.formatter.accessList(e.accessList)),["data"].forEach((t=>{null!=e[t]&&(r[t]=Promise.resolve(e[t]).then((t=>t?ju(t):null)))})),this.formatter.transactionRequest(yield lc(r))}))}_getFilter(t){return cm(this,void 0,void 0,(function*(){t=yield t;const e={};return null!=t.address&&(e.address=this._getAddress(t.address)),["blockHash","topics"].forEach((r=>{null!=t[r]&&(e[r]=t[r])})),["fromBlock","toBlock"].forEach((r=>{null!=t[r]&&(e[r]=this._getBlockTag(t[r]))})),this.formatter.filter(yield lc(e))}))}_call(t,e,r){return cm(this,void 0,void 0,(function*(){r>=10&&hm.throwError("CCIP read exceeded maximum redirections",Ru.errors.SERVER_ERROR,{redirects:r,transaction:t});const n=t.to,i=yield this.perform("call",{transaction:t,blockTag:e});if(r>=0&&"latest"===e&&null!=n&&"0x556f1830"===i.substring(0,10)&&zu(i)%32==4)try{const s=Gu(i,4),o=Gu(s,0,32);Qu.from(o).eq(n)||hm.throwError("CCIP Read sender did not match",Ru.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const a=[],l=Qu.from(Gu(s,32,64)).toNumber(),u=Qu.from(Gu(s,l,l+32)).toNumber(),c=Gu(s,l+32);for(let e=0;e<u;e++){const r=Nm(c,32*e);null==r&&hm.throwError("CCIP Read contained corrupt URL string",Ru.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i}),a.push(r)}const h=Am(s,64);Qu.from(Gu(s,100,128)).isZero()||hm.throwError("CCIP Read callback selector included junk",Ru.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const f=Gu(s,96,100),d=Am(s,128),p=yield this.ccipReadFetch(t,h,a);null==p&&hm.throwError("CCIP Read disabled or provided no URLs",Ru.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:t,data:i});const m={to:n,data:qu([f,Rm([p,d])])};return this._call(m,e,r+1)}catch(t){if(t.code===Ru.errors.SERVER_ERROR)throw t}try{return ju(i)}catch(r){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"call",params:{transaction:t,blockTag:e},result:i,error:r})}}))}call(t,e){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield lc({transaction:this._getTransactionRequest(t),blockTag:this._getBlockTag(e),ccipReadEnabled:Promise.resolve(t.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(t){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield lc({transaction:this._getTransactionRequest(t)}),r=yield this.perform("estimateGas",e);try{return Qu.from(r)}catch(t){return hm.throwError("bad result from backend",Ru.errors.SERVER_ERROR,{method:"estimateGas",params:e,result:r,error:t})}}))}_getAddress(t){return cm(this,void 0,void 0,(function*(){"string"!=typeof(t=yield t)&&hm.throwArgumentError("invalid address or ENS name","name",t);const e=yield this.resolveName(t);return null==e&&hm.throwError("ENS name not configured",Ru.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(t)})`}),e}))}_getBlock(t,e){return cm(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;let r=-128;const n={includeTransactions:!!e};if(Du(t,32))n.blockHash=t;else try{n.blockTag=yield this._getBlockTag(t),Du(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(e){hm.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",t)}return Zp((()=>cm(this,void 0,void 0,(function*(){const t=yield this.perform("getBlock",n);if(null==t)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(e){let e=null;for(let r=0;r<t.transactions.length;r++){const n=t.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==e&&(e=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let t=e-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}}const r=this.formatter.blockWithTransactions(t);return r.transactions=r.transactions.map((t=>this._wrapTransaction(t))),r}return this.formatter.block(t)}))),{oncePoll:this})}))}getBlock(t){return this._getBlock(t,!1)}getBlockWithTransactions(t){return this._getBlock(t,!0)}getTransaction(t){return cm(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Zp((()=>cm(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return this._wrapTransaction(n)}))),{oncePoll:this})}))}getTransactionReceipt(t){return cm(this,void 0,void 0,(function*(){yield this.getNetwork(),t=yield t;const e={transactionHash:this.formatter.hash(t,!0)};return Zp((()=>cm(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",e);if(null==r)return null==this._emitted["t:"+t]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let t=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;t<=0&&(t=1),n.confirmations=t}return n}))),{oncePoll:this})}))}getLogs(t){return cm(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield lc({filter:this._getFilter(t)}),r=yield this.perform("getLogs",e);return r.forEach((t=>{null==t.removed&&(t.removed=!1)})),um.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return cm(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(t){return cm(this,void 0,void 0,(function*(){if("number"==typeof(t=yield t)&&t<0){t%1&&hm.throwArgumentError("invalid BlockTag","blockTag",t);let e=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return e+=t,e<0&&(e=0),this.formatter.blockTag(e)}return this.formatter.blockTag(t)}))}getResolver(t){return cm(this,void 0,void 0,(function*(){let e=t;for(;;){if(""===e||"."===e)return null;if("eth"!==t&&"eth"===e)return null;const r=yield this._getResolver(e,"getResolver");if(null!=r){const n=new Sm(this,r,t);return e===t||(yield n.supportsWildcard())?n:null}e=e.split(".").slice(1).join(".")}}))}_getResolver(t,e){return cm(this,void 0,void 0,(function*(){null==e&&(e="ENS");const r=yield this.getNetwork();r.ensAddress||hm.throwError("network does not support ENS",Ru.errors.UNSUPPORTED_OPERATION,{operation:e,network:r.name});try{const e=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+nh(t).substring(2)});return this.formatter.callAddress(e)}catch(t){}return null}))}resolveName(t){return cm(this,void 0,void 0,(function*(){t=yield t;try{return Promise.resolve(this.formatter.address(t))}catch(e){if(Du(t))throw e}"string"!=typeof t&&hm.throwArgumentError("invalid ENS name","name",t);const e=yield this.getResolver(t);return e?yield e.getAddress():null}))}lookupAddress(t){return cm(this,void 0,void 0,(function*(){t=yield t;const e=(t=this.formatter.address(t)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(e,"lookupAddress");if(null==r)return null;const n=Nm(yield this.call({to:r,data:"0x691f3431"+nh(e).substring(2)}),0);return(yield this.resolveName(n))!=t?null:n}))}getAvatar(t){return cm(this,void 0,void 0,(function*(){let e=null;if(Du(t)){const r=this.formatter.address(t).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;e=new Sm(this,n,r);try{const t=yield e.getAvatar();if(t)return t.url}catch(t){if(t.code!==Ru.errors.CALL_EXCEPTION)throw t}try{const t=Nm(yield this.call({to:n,data:"0x691f3431"+nh(r).substring(2)}),0);e=yield this.getResolver(t)}catch(t){if(t.code!==Ru.errors.CALL_EXCEPTION)throw t;return null}}else if(e=yield this.getResolver(t),!e)return null;const r=yield e.getAvatar();return null==r?null:r.url}))}perform(t,e){return hm.throwError(t+" not implemented",Ru.errors.NOT_IMPLEMENTED,{operation:t})}_startEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_stopEvent(t){this.polling=this._events.filter((t=>t.pollable())).length>0}_addEventListener(t,e,r){const n=new ym(pm(t),e,r);return this._events.push(n),this._startEvent(n),this}on(t,e){return this._addEventListener(t,e,!1)}once(t,e){return this._addEventListener(t,e,!0)}emit(t,...e){let r=!1,n=[],i=pm(t);return this._events=this._events.filter((t=>t.tag!==i||(setTimeout((()=>{t.listener.apply(this,e)}),0),r=!0,!t.once||(n.push(t),!1)))),n.forEach((t=>{this._stopEvent(t)})),r}listenerCount(t){if(!t)return this._events.length;let e=pm(t);return this._events.filter((t=>t.tag===e)).length}listeners(t){if(null==t)return this._events.map((t=>t.listener));let e=pm(t);return this._events.filter((t=>t.tag===e)).map((t=>t.listener))}off(t,e){if(null==e)return this.removeAllListeners(t);const r=[];let n=!1,i=pm(t);return this._events=this._events.filter((t=>t.tag!==i||t.listener!=e||(!!n||(n=!0,r.push(t),!1)))),r.forEach((t=>{this._stopEvent(t)})),this}removeAllListeners(t){let e=[];if(null==t)e=this._events,this._events=[];else{const r=pm(t);this._events=this._events.filter((t=>t.tag!==r||(e.push(t),!1)))}return e.forEach((t=>{this._stopEvent(t)})),this}}var $m=function(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{l(n.next(t))}catch(t){s(t)}}function a(t){try{l(n.throw(t))}catch(t){s(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((n=n.apply(t,e||[])).next())}))};const Cm=new Ru(am),Fm=["call","estimateGas"];function Bm(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match("reverted")&&Du(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=Bm(t[e]);if(r)return r}return null}if("string"==typeof t)try{return Bm(JSON.parse(t))}catch(t){}return null}function Lm(t,e,r){if("call"===t){const t=Bm(e);if(t)return t.data;Cm.throwError("missing revert data in call exception; Transaction reverted without a reason string",Ru.errors.CALL_EXCEPTION,{error:e,data:"0x"})}let n=e.message;e.code===Ru.errors.SERVER_ERROR&&e.error&&"string"==typeof e.error.message?n=e.error.message:"string"==typeof e.body?n=e.body:"string"==typeof e.responseText&&(n=e.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&Cm.throwError("insufficient funds for intrinsic transaction cost",Ru.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:i}),n.match(/nonce (is )?too low/)&&Cm.throwError("nonce has already been used",Ru.errors.NONCE_EXPIRED,{error:e,method:t,transaction:i}),n.match(/replacement transaction underpriced/)&&Cm.throwError("replacement fee too low",Ru.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:i}),n.match(/only replay-protected/)&&Cm.throwError("legacy pre-eip-155 transactions not supported",Ru.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:i}),Fm.indexOf(t)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Cm.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Ru.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:i}),e}function Dm(t){return new Promise((function(e){setTimeout(e,t)}))}function Um(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function jm(t){return t?t.toLowerCase():t}const zm={};class Gm extends Ih{constructor(t,e,r){if(Cm.checkNew(new.target,Gm),super(),t!==zm)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");oc(this,"provider",e),null==r&&(r=0),"string"==typeof r?(oc(this,"_address",this.provider.formatter.address(r)),oc(this,"_index",null)):"number"==typeof r?(oc(this,"_index",r),oc(this,"_address",null)):Cm.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(t){return Cm.throwError("cannot alter JSON-RPC Signer connection",Ru.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new qm(zm,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then((t=>(t.length<=this._index&&Cm.throwError("unknown account #"+this._index,Ru.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(t[this._index]))))}sendUncheckedTransaction(t){t=uc(t);const e=this.getAddress().then((t=>(t&&(t=t.toLowerCase()),t)));if(null==t.gasLimit){const r=uc(t);r.from=e,t.gasLimit=this.provider.estimateGas(r)}return null!=t.to&&(t.to=Promise.resolve(t.to).then((t=>$m(this,void 0,void 0,(function*(){if(null==t)return null;const e=yield this.provider.resolveName(t);return null==e&&Cm.throwArgumentError("provided ENS name resolves to null","tx.to",t),e}))))),lc({tx:lc(t),sender:e}).then((({tx:e,sender:r})=>{null!=e.from?e.from.toLowerCase()!==r&&Cm.throwArgumentError("from address mismatch","transaction",t):e.from=r;const n=this.provider.constructor.hexlifyTransaction(e,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then((t=>t),(t=>Lm("sendTransaction",t,n)))}))}signTransaction(t){return Cm.throwError("signing transactions is unsupported",Ru.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(t){return $m(this,void 0,void 0,(function*(){const e=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(t);try{return yield Zp((()=>$m(this,void 0,void 0,(function*(){const t=yield this.provider.getTransaction(r);if(null!==t)return this.provider._wrapTransaction(t,r,e)}))),{oncePoll:this.provider})}catch(t){throw t.transactionHash=r,t}}))}signMessage(t){return $m(this,void 0,void 0,(function*(){const e="string"==typeof t?Bc(t):t,r=yield this.getAddress();return yield this.provider.send("personal_sign",[ju(e),r.toLowerCase()])}))}_legacySignMessage(t){return $m(this,void 0,void 0,(function*(){const e="string"==typeof t?Bc(t):t,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),ju(e)])}))}_signTypedData(t,e,r){return $m(this,void 0,void 0,(function*(){const n=yield bh.resolveNames(t,e,r,(t=>this.provider.resolveName(t))),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(bh.getPayload(n.domain,e,n.value))])}))}unlock(t){return $m(this,void 0,void 0,(function*(){const e=this.provider,r=yield this.getAddress();return e.send("personal_unlockAccount",[r.toLowerCase(),t,null])}))}}class qm extends Gm{sendTransaction(t){return this.sendUncheckedTransaction(t).then((t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:e=>this.provider.waitForTransaction(t,e)})))}}const Hm={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Vm extends Om{constructor(t,e){Cm.checkNew(new.target,Vm);let r=e;null==r&&(r=new Promise(((t,e)=>{setTimeout((()=>{this.detectNetwork().then((e=>{t(e)}),(t=>{e(t)}))}),0)}))),super(r),t||(t=ac(this.constructor,"defaultUrl")()),oc(this,"connection","string"==typeof t?Object.freeze({url:t}):Object.freeze(uc(t))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout((()=>{this._cache.detectNetwork=null}),0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return $m(this,void 0,void 0,(function*(){yield Dm(0);let t=null;try{t=yield this.send("eth_chainId",[])}catch(e){try{t=yield this.send("net_version",[])}catch(t){}}if(null!=t){const e=ac(this.constructor,"getNetwork");try{return e(Qu.from(t).toNumber())}catch(e){return Cm.throwError("could not detect network",Ru.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})}}return Cm.throwError("could not detect network",Ru.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(t){return new Gm(zm,this,t)}getUncheckedSigner(t){return this.getSigner(t).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then((t=>t.map((t=>this.formatter.address(t)))))}send(t,e){const r={method:t,params:e,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:dc(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(t)>=0;if(n&&this._cache[t])return this._cache[t];const i=Kp(this.connection,JSON.stringify(r),Um).then((t=>(this.emit("debug",{action:"response",request:r,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",error:t,request:r,provider:this}),t}));return n&&(this._cache[t]=i,setTimeout((()=>{this._cache[t]=null}),0)),i}prepareRequest(t,e){switch(t){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[jm(e.address),e.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[jm(e.address),e.blockTag]];case"getCode":return["eth_getCode",[jm(e.address),e.blockTag]];case"getStorageAt":return["eth_getStorageAt",[jm(e.address),e.position,e.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[e.signedTransaction]];case"getBlock":return e.blockTag?["eth_getBlockByNumber",[e.blockTag,!!e.includeTransactions]]:e.blockHash?["eth_getBlockByHash",[e.blockHash,!!e.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[e.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[e.transactionHash]];case"call":return["eth_call",[ac(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0}),e.blockTag]];case"estimateGas":return["eth_estimateGas",[ac(this.constructor,"hexlifyTransaction")(e.transaction,{from:!0})]];case"getLogs":return e.filter&&null!=e.filter.address&&(e.filter.address=jm(e.filter.address)),["eth_getLogs",[e.filter]]}return null}perform(t,e){return $m(this,void 0,void 0,(function*(){if("call"===t||"estimateGas"===t){const t=e.transaction;if(t&&null!=t.type&&Qu.from(t.type).isZero()&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((e=uc(e)).transaction=uc(t),delete e.transaction.type)}}const r=this.prepareRequest(t,e);null==r&&Cm.throwError(t+" not implemented",Ru.errors.NOT_IMPLEMENTED,{operation:t});try{return yield this.send(r[0],r[1])}catch(r){return Lm(t,r,e)}}))}_startEvent(t){"pending"===t.tag&&this._startPending(),super._startEvent(t)}_startPending(){if(null!=this._pendingFilter)return;const t=this,e=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=e,e.then((function(r){return function n(){t.send("eth_getFilterChanges",[r]).then((function(r){if(t._pendingFilter!=e)return null;let n=Promise.resolve();return r.forEach((function(e){t._emitted["t:"+e.toLowerCase()]="pending",n=n.then((function(){return t.getTransaction(e).then((function(e){return t.emit("pending",e),null}))}))})),n.then((function(){return Dm(1e3)}))})).then((function(){if(t._pendingFilter==e)return setTimeout((function(){n()}),0),null;t.send("eth_uninstallFilter",[r])})).catch((t=>{}))}(),r})).catch((t=>{}))}_stopEvent(t){"pending"===t.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(t)}static hexlifyTransaction(t,e){const r=uc(Hm);if(e)for(const t in e)e[t]&&(r[t]=!0);var n,i;i=r,(n=t)&&"object"==typeof n||sc.throwArgumentError("invalid object","object",n),Object.keys(n).forEach((t=>{i[t]||sc.throwArgumentError("invalid object key - "+t,"transaction:"+t,n)}));const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(e){if(null==t[e])return;const r=Hu(t[e]);"gasLimit"===e&&(e="gas"),s[e]=r})),["from","to","data"].forEach((function(e){null!=t[e]&&(s[e]=ju(t[e]))})),t.accessList&&(s.accessList=xp(t.accessList)),s}}const Jm=new Ru(am);let Wm=1;function Xm(t,e){const r="Web3LegacyFetcher";return function(t,n){const i={method:t,params:n,id:Wm++,jsonrpc:"2.0"};return new Promise(((t,n)=>{this.emit("debug",{action:"request",fetcher:r,request:dc(i),provider:this}),e(i,((e,s)=>{if(e)return this.emit("debug",{action:"response",fetcher:r,error:e,request:i,provider:this}),n(e);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:s,provider:this}),s.error){const t=new Error(s.error.message);return t.code=s.error.code,t.data=s.error.data,n(t)}t(s.result)}))}))}}class Km extends Vm{constructor(t,e){Jm.checkNew(new.target,Km),null==t&&Jm.throwArgumentError("missing provider","provider",t);let r=null,n=null,i=null;"function"==typeof t?(r="unknown:",n=t):(r=t.host||t.path||"",!r&&t.isMetaMask&&(r="metamask"),i=t,t.request?(""===r&&(r="eip-1193:"),n=function(t){return function(e,r){null==r&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:dc(n),provider:this}),t.request(n).then((t=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:t,provider:this}),t)),(t=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:t,provider:this}),t}))}}(t)):t.sendAsync?n=Xm(0,t.sendAsync.bind(t)):t.send?n=Xm(0,t.send.bind(t)):Jm.throwArgumentError("unsupported provider","provider",t),r||(r="unknown:")),super(r,e),oc(this,"jsonRpcFetchFunc",n),oc(this,"provider",i)}send(t,e){return this.jsonRpcFetchFunc(t,e)}}const Zm=[];function Ym(t,r=e){let n;const i=new Set;function s(e){if(a(t,e)&&(t=e,n)){const e=!Zm.length;for(const e of i)e[1](),Zm.push(e,t);if(e){for(let t=0;t<Zm.length;t+=2)Zm[t][0](Zm[t+1]);Zm.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,a=e){const l=[o,a];return i.add(l),1===i.size&&(n=r(s)||e),o(t),()=>{i.delete(l),0===i.size&&(n(),n=null)}}}}function Qm(t,r,n){const i=!Array.isArray(t),a=i?[t]:t,l=r.length<2;return u=t=>{let n=!1;const u=[];let h=0,f=e;const d=()=>{if(h)return;f();const n=r(i?u[0]:u,t);l?t(n):f=o(n)?n:e},p=a.map(((t,e)=>c(t,(t=>{u[e]=t,h&=~(1<<e),n&&d()}),(()=>{h|=1<<e}))));return n=!0,d(),function(){s(p),f()}},{subscribe:Ym(n,u).subscribe};var u}const tg=(t=window.location.hash)=>{let e="",r=0,n="",i="-1",s="",o="";if(t){const a=t.match(/^#\/(([a-z]+)|([0-9]+))?(\/(0x[0-9abcdefABCDEF]{40})(\/([0-9]+))?)?(\/([a-z]+))?(@(0x[0-9abcdefABCDEF]{40}))?$/);if(a){const t=a[2],l=Number(a[3]);e=t||$l(l),r=l||(t=>{var e;return null===(e=Nl.find((e=>e.chainName===t)))||void 0===e?void 0:e.chainId})(t),n=a[5],i=a[7],s=a[9],o=a[11]}}return{chainName:e,chainId:r,address:n,tokenID:i,action:s,account:o}},eg=Ym(),rg=Ym(),ng=Ym(),ig=Ym();let sg,og=!1;const ag="Connect to Metamask",lg="Please install MetaMask extension to connect";let ug=!1;const cg=t=>{if(console.log(`handleChainId ${t}`),t&&t!=h(eg)){const e=Pl(t);e?eg.set(Number(e.chainId)):fg(Nl[0].chainId)}},hg=t=>{console.log("handleAccounts",t),0===(null==t?void 0:t.length)?dg():t[0]!==String(h(rg))&&(ig.set(h(ng).getSigner(0)),rg.set(Sl(t[0])))},fg=t=>{console.log(`metamaskSwitchChain ${t}`),t>0&&t!=Number(h(eg))&&sg.request({method:"wallet_switchEthereumChain",params:[{chainId:zl(t)}]}).catch((e=>{4902===e.code&&(t=>{if(t&&(console.log("addEthereumChain",t),ug&&console.warn("Already connecting network..."),ug=!0,1!==t)){const e=Pl(t);if(e){const t={chainId:zl(e.chainId),blockExplorerUrls:e.blockExplorerUrls,chainName:e.chainName,iconUrls:[],nativeCurrency:e.nativeCurrency,rpcUrls:e.rpcUrls};sg.request({method:"wallet_addEthereumChain",params:[t]}).catch((t=>console.error("Metamask ERROR wallet_addEthereumChain",t)))}}})(t)}))},dg=()=>{console.log("metamaskConnect"),sg.request({method:"eth_requestAccounts"}).then(hg).catch((t=>{4001===t.code?alert(ag):console.error("Metamask ERROR eth_requestAccounts",t)}))};function pg(t){let e,r,n,i,s,o,a,l,u,c;return{c(){e=P("span"),r=T("Address\n    "),n=P("a"),i=P("i"),a=O(),l=P("div"),u=P("input"),F(i,"class","fas fa-info-circle"),F(n,"class","info-button"),F(n,"href",s=Kl(`/address/${t[0]}`)),F(n,"target","_blank"),F(n,"title",o="\tOwner address (click to view account in explorer )\r"+t[2]),F(e,"class","label"),F(u,"type","text"),u.value=c=Ul(t[2],10),F(l,"class","form-field")},m(t,s){M(t,e,s),A(e,r),A(e,n),A(n,i),M(t,a,s),M(t,l,s),A(l,u)},p(t,e){1&e&&s!==(s=Kl(`/address/${t[0]}`))&&F(n,"href",s),4&e&&o!==(o="\tOwner address (click to view account in explorer )\r"+t[2])&&F(n,"title",o),4&e&&c!==(c=Ul(t[2],10))&&u.value!==c&&(u.value=c)},d(t){t&&R(e),t&&R(a),t&&R(l)}}}function mg(t){let e,r;return{c(){e=T("Address\n  "),r=T(t[2])},m(t,n){M(t,e,n),M(t,r,n)},p(t,e){4&e&&B(r,t[2])},d(t){t&&R(e),t&&R(r)}}}function gg(t){let r;function n(t,e){return t[1]?mg:pg}let i=n(t),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,[e]){i===(i=n(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:e,o:e,d(t){s.d(t),t&&R(r)}}}function vg(t,e,r){let n,{account:i}=e,{txt:s}=e;const o=async t=>r(2,n=await(async t=>{let e="";try{const r=new kl("https://mainnet.infura.io/v3/fc2d1a3eead04bdf9dd64a8b7be9f701");e=await r.lookupAddress(t)||""}catch(t){console.error("NO ENS found")}return e||t||""})(t));return t.$$set=t=>{"account"in t&&r(0,i=t.account),"txt"in t&&r(1,s=t.txt)},t.$$.update=()=>{1&t.$$.dirty&&i&&(r(2,n=i),o(i).catch(console.error))},[i,s,n]}class yg extends Nt{constructor(t){super(),kt(this,t,vg,gg,a,{account:0,txt:1})}}function bg(t){let e,r,n,i;const s=[kg,_g,Eg],o=[];function a(t,e){return t[0]?0:2}return r=a(t),n=o[r]=s[r](t),{c(){e=P("div"),n.c(),F(e,"class","col col-xs-12 col-sm-3")},m(t,n){M(t,e,n),o[r].m(e,null),i=!0},p(t,i){let l=r;r=a(t),r===l?o[r].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),n=o[r],n?n.p(t,i):(n=o[r]=s[r](t),n.c()),pt(n,1),n.m(e,null))},i(t){i||(pt(n),i=!0)},o(t){mt(n),i=!1},d(t){t&&R(e),o[r].d()}}}function wg(t){let e,r,n,i;const s=[xg,Ag,Ng],o=[];function a(t,e){return t[0]?0:2}return e=a(t),r=o[e]=s[e](t),{c(){r.c(),n=$()},m(t,r){o[e].m(t,r),M(t,n,r),i=!0},p(t,i){let l=e;e=a(t),e===l?o[e].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),r=o[e],r?r.p(t,i):(r=o[e]=s[e](t),r.c()),pt(r,1),r.m(n.parentNode,n))},i(t){i||(pt(r),i=!0)},o(t){mt(r),i=!1},d(t){o[e].d(t),t&&R(n)}}}function Eg(t){let r,n,i;return{c(){r=P("a"),r.textContent="Connect to Metamask",F(r,"href","."),F(r,"class","btn btn-light btn-metamask")},m(e,s){M(e,r,s),n||(i=C(r,"click",t[2]),n=!0)},p:e,i:e,o:e,d(t){t&&R(r),n=!1,i()}}}function _g(t){let r;return{c(){r=P("div"),r.textContent=`${lg}`,F(r,"class","btn btn-light btn-metamask")},m(t,e){M(t,r,e)},p:e,i:e,o:e,d(t){t&&R(r)}}}function kg(t){let e,r;return e=new yg({props:{account:t[0],txt:t[1]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.account=t[0]),2&r&&(n.txt=t[1]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function Ng(t){let r,n,i;return{c(){r=P("a"),r.textContent="Connect to Metamask",F(r,"href",".")},m(e,s){M(e,r,s),n||(i=C(r,"click",t[2]),n=!0)},p:e,i:e,o:e,d(t){t&&R(r),n=!1,i()}}}function Ag(t){let r;return{c(){r=T(lg)},m(t,e){M(t,r,e)},p:e,i:e,o:e,d(t){t&&R(r)}}}function xg(t){let e,r;return e=new yg({props:{account:t[0],txt:t[1]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.account=t[0]),2&r&&(n.txt=t[1]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function Ig(t){let e,r,n,i;const s=[wg,bg],o=[];function a(t,e){return t[1]?0:1}return e=a(t),r=o[e]=s[e](t),{c(){r.c(),n=$()},m(t,r){o[e].m(t,r),M(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?o[e].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),r=o[e],r?r.p(t,i):(r=o[e]=s[e](t),r.c()),pt(r,1),r.m(n.parentNode,n))},i(t){i||(pt(r),i=!0)},o(t){mt(r),i=!1},d(t){o[e].d(t),t&&R(n)}}}function Mg(t,e,r){let n;f(t,rg,(t=>r(3,n=t)));let{account:i}=e,{txt:s}=e;return X((async()=>{await(async()=>{if(!h(eg))if(console.log("metamaskInit"),sg=await vu(),sg){og=!0,sg!==window.ethereum&&alert("Do you have multiple wallets installed?");const t=new Km(window.ethereum,"any");let e;ng.set(t);try{e=await sg.request({method:"eth_chainId"})}catch(t){console.error("Metamask ERROR eth_chainId",t)}const{chainId:r}=tg();r>0&&r!=e&&(e=r,fg(r)),cg(Number(e));try{const t=await sg.request({method:"eth_accounts"});hg(t)}catch(t){console.error("Metamask ERROR eth_accounts",t)}sg.on("chainChanged",cg),sg.on("accountsChanged",hg)}else console.log(lg);return og})()})),t.$$set=t=>{"account"in t&&r(0,i=t.account),"txt"in t&&r(1,s=t.txt)},t.$$.update=()=>{8&t.$$.dirty&&r(0,i=n)},[i,s,t=>{t.preventDefault(),dg()},n]}class Rg extends Nt{constructor(t){super(),kt(this,t,Mg,Ig,a,{account:0,txt:1})}}const Sg=(t,e)=>{const r=r=>!r.composedPath().includes(t)&&e();return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}};function Pg(t){let e,r,n,i=t[2]($l(t[0]))+"";return{c(){e=P("span"),r=T(i),F(e,"class",n=$l(t[0]))},m(t,n){M(t,e,n),A(e,r)},p(t,s){1&s&&i!==(i=t[2]($l(t[0]))+"")&&B(r,i),1&s&&n!==(n=$l(t[0]))&&F(e,"class",n)},d(t){t&&R(e)}}}function Tg(t){let e,r=$l(t[0])+"";return{c(){e=T(r)},m(t,r){M(t,e,r)},p(t,n){1&n&&r!==(r=$l(t[0])+"")&&B(e,r)},d(t){t&&R(e)}}}function Og(t){let r;function n(t,e){return t[1]?Tg:Pg}let i=n(t),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,[e]){i===(i=n(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:e,o:e,d(t){s.d(t),t&&R(r)}}}function $g(t,e,r){let{chainId:n}=e,{txt:i=!1}=e;return t.$$set=t=>{"chainId"in t&&r(0,n=t.chainId),"txt"in t&&r(1,i=t.txt)},[n,i,t=>t.length>=1?t.charAt(0).toUpperCase()+t.substring(1):""]}class Cg extends Nt{constructor(t){super(),kt(this,t,$g,Og,a,{chainId:0,txt:1})}}function Fg(t,e,r){const n=t.slice();return n[16]=e[r],n}function Bg(t,e,r){const n=t.slice();return n[16]=e[r],n}function Lg(t,e,r){const n=t.slice();return n[11]=e[r],n}function Dg(t,e,r){const n=t.slice();return n[11]=e[r],n}function Ug(t){let e,r,n,i,a,l,u,c,h,f,d,p,m,g,v,y=Pl(t[0])?.testnet,w=t[2]&&zg(t);l=new Cg({props:{chainId:t[0],txt:t[1]}});let E=Nl.filter(Qg),_=[];for(let e=0;e<E.length;e+=1)_[e]=Gg(Bg(t,E,e));const k=t=>mt(_[t],1,1,(()=>{_[t]=null}));let N=y&&qg(t);return{c(){e=P("div"),w&&w.c(),r=O(),n=P("div"),i=P("div"),a=P("div"),bt(l.$$.fragment),u=O(),c=P("div"),h=O(),f=P("div");for(let t=0;t<_.length;t+=1)_[t].c();d=O(),N&&N.c(),F(a,"class","select-trigger"),F(c,"class","custom-options"),F(f,"class","custom-options"),F(i,"class","select"),U(i,"open",t[3]),F(n,"class","select-wrapper select-network"),F(e,"class","col col-xs-12 col-sm-3")},m(s,o){M(s,e,o),w&&w.m(e,null),A(e,r),A(e,n),A(n,i),A(i,a),wt(l,a,null),A(i,u),A(i,c),A(i,h),A(i,f);for(let t=0;t<_.length;t+=1)_[t].m(f,null);A(f,d),N&&N.m(f,null),m=!0,g||(v=[b(p=Sg.call(null,n,t[9])),C(n,"click",t[10])],g=!0)},p(t,n){t[2]?w?w.p(t,n):(w=zg(t),w.c(),w.m(e,r)):w&&(w.d(1),w=null);const s={};if(1&n&&(s.chainId=t[0]),2&n&&(s.txt=t[1]),l.$set(s),33&n){let e;for(E=Nl.filter(Qg),e=0;e<E.length;e+=1){const r=Bg(t,E,e);_[e]?(_[e].p(r,n),pt(_[e],1)):(_[e]=Gg(r),_[e].c(),pt(_[e],1),_[e].m(f,d))}for(ft(),e=E.length;e<_.length;e+=1)k(e);dt()}1&n&&(y=Pl(t[0])?.testnet),y?N?(N.p(t,n),1&n&&pt(N,1)):(N=qg(t),N.c(),pt(N,1),N.m(f,null)):N&&(ft(),mt(N,1,1,(()=>{N=null})),dt()),8&n&&U(i,"open",t[3]),p&&o(p.update)&&8&n&&p.update.call(null,t[9])},i(t){if(!m){pt(l.$$.fragment,t);for(let t=0;t<E.length;t+=1)pt(_[t]);pt(N),m=!0}},o(t){mt(l.$$.fragment,t),_=_.filter(Boolean);for(let t=0;t<_.length;t+=1)mt(_[t]);mt(N),m=!1},d(t){t&&R(e),w&&w.d(),Et(l),S(_,t),N&&N.d(),g=!1,s(v)}}}function jg(t){let e,r,n,i,s,o,a=Pl(t[0])?.testnet,l=t[2]&&Vg(),u=Nl.filter(Zg),c=[];for(let e=0;e<u.length;e+=1)c[e]=Jg(Dg(t,u,e));const h=t=>mt(c[t],1,1,(()=>{c[t]=null}));let f=a&&Wg(t);return{c(){l&&l.c(),e=O(),r=P("select");for(let t=0;t<c.length;t+=1)c[t].c();n=$(),f&&f.c()},m(a,u){l&&l.m(a,u),M(a,e,u),M(a,r,u);for(let t=0;t<c.length;t+=1)c[t].m(r,null);A(r,n),f&&f.m(r,null),i=!0,s||(o=C(r,"change",t[4]),s=!0)},p(t,i){if(t[2]?l||(l=Vg(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),3&i){let e;for(u=Nl.filter(Zg),e=0;e<u.length;e+=1){const s=Dg(t,u,e);c[e]?(c[e].p(s,i),pt(c[e],1)):(c[e]=Jg(s),c[e].c(),pt(c[e],1),c[e].m(r,n))}for(ft(),e=u.length;e<c.length;e+=1)h(e);dt()}1&i&&(a=Pl(t[0])?.testnet),a?f?(f.p(t,i),1&i&&pt(f,1)):(f=Wg(t),f.c(),pt(f,1),f.m(r,null)):f&&(ft(),mt(f,1,1,(()=>{f=null})),dt())},i(t){if(!i){for(let t=0;t<u.length;t+=1)pt(c[t]);pt(f),i=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)mt(c[t]);mt(f),i=!1},d(t){l&&l.d(t),t&&R(e),t&&R(r),S(c,t),f&&f.d(),s=!1,o()}}}function zg(t){let e,r,n,i,s,o;return{c(){e=P("span"),r=T("Network\n        "),n=P("a"),i=P("i"),F(i,"class","fas fa-info-circle"),F(n,"class","info-button"),F(n,"href",s=Ql(t[0])),F(n,"target","_blank"),F(n,"title",o="\t NFTs Factory address (click to view in explorer )\n        "+mu(t[0])),F(e,"class","label")},m(t,s){M(t,e,s),A(e,r),A(e,n),A(n,i)},p(t,e){1&e&&s!==(s=Ql(t[0]))&&F(n,"href",s),1&e&&o!==(o="\t NFTs Factory address (click to view in explorer )\n        "+mu(t[0]))&&F(n,"title",o)},d(t){t&&R(e)}}}function Gg(t){let e,r,n,i,s,o,a;function l(...e){return t[7](t[16],...e)}return r=new Cg({props:{chainId:t[16].chainId,txt:!0}}),{c(){e=P("span"),bt(r.$$.fragment),F(e,"class",n="custom-option "+(t[16].chainId==t[0]&&"selected")),F(e,"data-value",i=$l(t[16].chainId))},m(t,n){M(t,e,n),wt(r,e,null),s=!0,o||(a=C(e,"click",l),o=!0)},p(r,i){t=r,(!s||1&i&&n!==(n="custom-option "+(t[16].chainId==t[0]&&"selected")))&&F(e,"class",n)},i(t){s||(pt(r.$$.fragment,t),s=!0)},o(t){mt(r.$$.fragment,t),s=!1},d(t){t&&R(e),Et(r),o=!1,a()}}}function qg(t){let e,r,n=Nl.filter(tv),i=[];for(let e=0;e<n.length;e+=1)i[e]=Hg(Fg(t,n,e));const s=t=>mt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);M(t,e,n),r=!0},p(t,r){if(33&r){let o;for(n=Nl.filter(tv),o=0;o<n.length;o+=1){const s=Fg(t,n,o);i[o]?(i[o].p(s,r),pt(i[o],1)):(i[o]=Hg(s),i[o].c(),pt(i[o],1),i[o].m(e.parentNode,e))}for(ft(),o=n.length;o<i.length;o+=1)s(o);dt()}},i(t){if(!r){for(let t=0;t<n.length;t+=1)pt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)mt(i[t]);r=!1},d(t){S(i,t),t&&R(e)}}}function Hg(t){let e,r,n,i,s,o,a;function l(...e){return t[8](t[16],...e)}return r=new Cg({props:{chainId:t[16].chainId,txt:!0}}),{c(){e=P("span"),bt(r.$$.fragment),n=O(),F(e,"class",i="custom-option "+(t[16].chainId==t[0]&&"selected")),F(e,"data-value",$l(t[16].chainId))},m(t,i){M(t,e,i),wt(r,e,null),A(e,n),s=!0,o||(a=C(e,"click",l),o=!0)},p(r,n){t=r,(!s||1&n&&i!==(i="custom-option "+(t[16].chainId==t[0]&&"selected")))&&F(e,"class",i)},i(t){s||(pt(r.$$.fragment,t),s=!0)},o(t){mt(r.$$.fragment,t),s=!1},d(t){t&&R(e),Et(r),o=!1,a()}}}function Vg(t){let e;return{c(){e=T("Network")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Jg(t){let e,r,n,i,s,o;return r=new Cg({props:{chainId:t[11].chainId,txt:t[1]}}),{c(){e=P("option"),bt(r.$$.fragment),n=T("\n         \n      "),e.__value=i=t[11].chainId,e.value=e.__value,e.selected=s=t[11].chainId==t[0]},m(t,i){M(t,e,i),wt(r,e,null),A(e,n),o=!0},p(t,n){const i={};2&n&&(i.txt=t[1]),r.$set(i),(!o||1&n&&s!==(s=t[11].chainId==t[0]))&&(e.selected=s)},i(t){o||(pt(r.$$.fragment,t),o=!0)},o(t){mt(r.$$.fragment,t),o=!1},d(t){t&&R(e),Et(r)}}}function Wg(t){let e,r,n=Nl.filter(Yg),i=[];for(let e=0;e<n.length;e+=1)i[e]=Xg(Lg(t,n,e));const s=t=>mt(i[t],1,1,(()=>{i[t]=null}));return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=$()},m(t,n){for(let e=0;e<i.length;e+=1)i[e].m(t,n);M(t,e,n),r=!0},p(t,r){if(3&r){let o;for(n=Nl.filter(Yg),o=0;o<n.length;o+=1){const s=Lg(t,n,o);i[o]?(i[o].p(s,r),pt(i[o],1)):(i[o]=Xg(s),i[o].c(),pt(i[o],1),i[o].m(e.parentNode,e))}for(ft(),o=n.length;o<i.length;o+=1)s(o);dt()}},i(t){if(!r){for(let t=0;t<n.length;t+=1)pt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)mt(i[t]);r=!1},d(t){S(i,t),t&&R(e)}}}function Xg(t){let e,r,n,i,s;return r=new Cg({props:{chainId:t[11].chainId,txt:t[1]}}),{c(){e=P("option"),bt(r.$$.fragment),n=T("\n           \n        "),e.__value=t[11].chainId,e.value=e.__value,e.selected=i=t[11].chainId==t[0]},m(t,i){M(t,e,i),wt(r,e,null),A(e,n),s=!0},p(t,n){const o={};2&n&&(o.txt=t[1]),r.$set(o),(!s||1&n&&i!==(i=t[11].chainId==t[0]))&&(e.selected=i)},i(t){s||(pt(r.$$.fragment,t),s=!0)},o(t){mt(r.$$.fragment,t),s=!1},d(t){t&&R(e),Et(r)}}}function Kg(t){let e,r,n,i;const s=[jg,Ug],o=[];function a(t,e){return t[1]?0:1}return e=a(t),r=o[e]=s[e](t),{c(){r.c(),n=$()},m(t,r){o[e].m(t,r),M(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?o[e].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),r=o[e],r?r.p(t,i):(r=o[e]=s[e](t),r.c()),pt(r,1),r.m(n.parentNode,n))},i(t){i||(pt(r),i=!0)},o(t){mt(r),i=!1},d(t){o[e].d(t),t&&R(n)}}}const Zg=t=>t.mainnet,Yg=t=>t.testnet,Qg=t=>t.mainnet,tv=t=>t.testnet;function ev(t,e,r){let n;f(t,eg,(t=>r(6,n=t)));let{chainId:i}=e,{txt:s}=e,{label:o=!0}=e,a=!1;const l=(t,e)=>{e.preventDefault(),fg(t)};return t.$$set=t=>{"chainId"in t&&r(0,i=t.chainId),"txt"in t&&r(1,s=t.txt),"label"in t&&r(2,o=t.label)},t.$$.update=()=>{64&t.$$.dirty&&r(0,i=n)},[i,s,o,a,t=>{const e=Number(t.target.value);l(e,t)},l,n,(t,e)=>l(t.chainId,e),(t,e)=>l(t.chainId,e),()=>r(3,a=!1),()=>r(3,a=!a)]}class rv extends Nt{constructor(t){super(),kt(this,t,ev,Kg,a,{chainId:0,txt:1,label:2})}}var nv=["function supportsInterface(bytes4) view returns (bool)"],iv=["event Approval(address indexed,address indexed,uint256 indexed)","event ApprovalForAll(address indexed,address indexed,bool)","event Transfer(address indexed,address indexed,uint256 indexed)","function approve(address,uint256)","function balanceOf(address) view returns (uint256)","function getApproved(uint256) view returns (address)","function isApprovedForAll(address,address) view returns (bool)","function ownerOf(uint256) view returns (address)","function safeTransferFrom(address,address,uint256)","function safeTransferFrom(address,address,uint256,bytes)","function setApprovalForAll(address,bool)","function transferFrom(address,address,uint256)"],sv=["function tokenByIndex(uint256) view returns (uint256)","function tokenOfOwnerByIndex(address,uint256) view returns (uint256)","function totalSupply() view returns (uint256)"],ov=["function name() view returns (string)","function symbol() view returns (string)","function tokenURI(uint256) view returns (string)"],av=["event ApprovalForAll(address indexed,address indexed,bool)","event TransferBatch(address indexed,address indexed,address indexed,uint256[],uint256[])","event TransferSingle(address indexed,address indexed,address indexed,uint256,uint256)","event URI(string,uint256 indexed)","function balanceOf(address,uint256) view returns (uint256)","function balanceOfBatch(address[],uint256[]) view returns (uint256[])","function isApprovedForAll(address,address) view returns (bool)","function safeBatchTransferFrom(address,address,uint256[],uint256[],bytes)","function safeTransferFrom(address,address,uint256,uint256,bytes)","function setApprovalForAll(address,bool)"],lv=["function uri(uint256) view returns (string)"],uv=["event OwnershipTransferred(address indexed,address indexed)","function owner() view returns (address)","function transferOwnership(address)"],cv=["function initialize(string,string)","function mintNFT(address,string) returns (uint256)","function owner() view returns (address)","function transferOwnership(address)"],hv=["function burnable() view returns (bool)","function open() view returns (bool)"];const fv=async(t,e,r,n={chainId:t,address:e})=>{var i;if(!(t&&e&&await Ml(r,t)))return n;const s=["0xF6d53C7e96696391Bb8e73bE75629B37439938AF","0x792f8e3C36Ac3c1C6D62ECc44a88cA1317fEce93"],o=["0x82a398243EBc2CB26a4A21B9427EC6Db8c224471","0xbEaAb0f00D236862527dcF5a88dF3CEd043ab253","0xC9D75c6dC5A75315ff68A4CB6fba5c53aBed82d0","0xd9C43494D2b3B5Ae86C57d12eB7683956472d5E9"];null!==(i=n.supports)&&void 0!==i||(n.supports={});const a=n.supports;try{const n=new la(e,nv,r);try{const t=n.supportsInterface(uu(iv)),e=n.supportsInterface(uu(av)),r=n.supportsInterface(uu(uv));if([a.IERC721,a.IERC1155,a.IERC173]=await Promise.all([t,e,r]),a.IERC721){const t=n.supportsInterface(uu(ov)),e=n.supportsInterface(uu(sv)),r=n.supportsInterface(uu(cv)),i=n.supportsInterface(uu(hv));[a.IERC721Metadata,a.IERC721Enumerable,a.IOpenNFTsV2,a.IOpenNFTsV3]=await Promise.all([t,e,r,i]),a.IERC165=!0,a.IOpenNFTsV3?a.IOpenNFTs=!0:a.IOpenNFTsV2||(o.includes(n.address)?a.IOpenNFTsV1=!0:s.includes(n.address)&&(a.IOpenNFTsV0=!0))}else a.IERC1155&&(a.IERC1155MetadataURI=await n.supportsInterface(uu(lv)));for(const t in a)a[t]||delete a[t]}catch(n){console.info(`ERROR collectionGetSupports @ ${hu(t,e)}\n`,await Ml(r,t),JSON.stringify(n))}}catch(r){console.log(`No contract found @ ${hu(t,e)}\n`)}return n};const dv={IERC165:nv,IERC721:iv,IERC721Enumerable:sv,IERC721Metadata:ov,IERC1155:av,IERC173:uv,IERC1155MetadataURI:lv,IOpenNFTs:["function burnOpenNFT(uint256)","function initialize(string,string,address,bool[])","function mintOpenNFT(address,string) returns (uint256)"],IOpenNFTsV0:["function addUser(address,string) returns (uint256)"],IOpenNFTsV1:["function mintNFT(address,string) returns (uint256)"],IOpenNFTsV2:cv,IOpenNFTsV3:hv},pv=async(t,e,r,n={chainId:t,address:e})=>{let i=[];"supports"in n||await fv(t,e,r,n);for(const[t,e]of Object.entries(n.supports||{}))e&&(i=i.concat(dv[t]));return new la(e,i,r)},mv=(t,e)=>{const r=Object.assign({chainId:1,address:""},t||{},e||{});return(null==t?void 0:t.balancesOf)&&(null==e?void 0:e.balancesOf)&&(r.balancesOf=new Map([...t.balancesOf,...e.balancesOf])),r},gv=async(t,e,r,n,i={chainId:t,address:e})=>{if(!(t&&e&&await Ml(r,t)))return i;try{await fv(t,e,r,i),await(async(t,e,r,n,i={chainId:t,address:e})=>{var s;if(!(t&&e&&i.supports&&await Ml(r,t)))return i;try{const o=new la(e,uv.concat(iv).concat(ov).concat(sv).concat(hv),r),a=i.supports;try{a.IERC721&&n&&(null!==(s=i.balancesOf)&&void 0!==s||(i.balancesOf=new Map),i.balancesOf.set(n,Number(await o.balanceOf(n)))),a.IERC721Enumerable&&(i.totalSupply=Number(await o.totalSupply())),(a.IERC173||a.IOpenNFTsV2)&&(i.owner=await o.owner()),a.IERC721Metadata&&(i.name=await o.name(),i.symbol=await o.symbol()),a.IOpenNFTsV3?(i.burnable=await o.burnable(),i.open=await o.open(),i.version=3):a.IOpenNFTsV2?(i.version=2,i.open=!0):a.IOpenNFTsV1?(i.version=1,i.open=!0):a.IOpenNFTsV0&&(i.version=0,i.open=!0)}catch(i){console.info(`ERROR collectionGetSupports @ ${hu(t,e,n)}\n`,await Ml(r,t),JSON.stringify(i))}try{a.IERC1155&&(i.name=await o.name(),i.symbol=await o.symbol())}catch(t){console.log("ERC1155 collection with no name and symbol")}}catch(r){console.log(`No contract found @ ${hu(t,e,n)}\n`)}return i})(t,e,r,n,i)}catch(r){console.error(`ERROR collectionGet  ${hu(t,e,n)}\n`,r)}return i},vv=(t,e)=>e instanceof Map?{dataType:"Map",value:[...e]}:e,yv=(t,e)=>"object"==typeof e&&"Map"===(null==e?void 0:e.dataType)?new Map(null==e?void 0:e.value):e,{subscribe:bv,set:wv,update:Ev}=Ym((()=>{const t=new Map;for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);(null==n?void 0:n.startsWith("collection://"))&&t.set(n,(e=localStorage.getItem(n)||"",JSON.parse(e,yv)))}var e;return t})()),_v={subscribe:bv,set:wv,update:Ev},kv=async(t,e={})=>{let r;if(t)try{const n=await fetch((t=>t.startsWith("ipfs://")?Jl(t):t)(t),e);r=await n.json()}catch(e){r={error:e},console.error("OpenNFTs.fetchJson ERROR",e,t,r)}else{const t="OpenNFTs.fetchJson URL not defined";console.error(t),r={error:t}}return r},Nv=async(t,e)=>{const r={method:"POST",body:JSON.stringify({query:e})},n=await kv(t,r);return n.error&&console.error("fetchGQL ERROR",n.error),null==n?void 0:n.data},Av=async t=>{const e=`https://api.covalenthq.com/v1${t}&key=ckey_666650029327412c99ce8e3c5ef`,r=await kv(e,{method:"GET",headers:{Accept:"application/json"}});return r.error&&console.error("fetchCov ERROR",r.error),null==r?void 0:r.data},xv=async(t,e,r,n)=>{let i=new Map;if(Pl(t)&&e){let n=new Map,s=new Map;Tl(t)?n=await(async(t,e)=>{const r=new Map,n=Pl(t);if(e){const i=`\n        {\n          ownerPerTokenContracts(\n            where: {\n              owner: "${e.toLowerCase()}"\n              }\n          ) {\n            contract {\n              id\n              name\n              symbol\n              numTokens\n            }\n            numTokens\n          }\n        }\n    `,s=await Nv(Tl(t),i),o=(null==s?void 0:s.ownerPerTokenContracts)||[];for(let i=0;i<o.length;i++){const s=o[i],{contract:a,numTokens:l}=s,{id:u,name:c,symbol:h,numTokens:f}=a,d=Number(f),p=Sl(u),m=null==n?void 0:n.chainName,g=Math.max(l,0);if(s.numTokens>0){const n={chainId:t,chainName:m,address:p,name:c,symbol:h,totalSupply:d};n.balancesOf=new Map([[e,g]]),r.set(Bl(t,p),n)}}}return r})(t,e):Ol(t)&&(n=await(async(t,e)=>{const r=new Map;let n="";const i=Pl(t);if(i&&e){const s='{$or:[{supports_erc:{$elemmatch:"erc721"}},{supports_erc:{$elemmatch:"erc1155"}}]}';n=`/${Number(t)}/address/${e}/balances_v2/?nft=true&no-nft-fetch=false&match=${encodeURIComponent(s)}`;const o=await Av(n),a=null==o?void 0:o.items;if(null==a?void 0:a.length)for(let n=0;n<a.length;n++){const s=a[n],o=null==i?void 0:i.chainName,l=Sl(s.contract_address),u=s.contract_name||xl,c=s.contract_ticker_symbol||Il,h=Number(s.balance),f={chainId:t,chainName:o,address:l,name:u,symbol:c};f.balancesOf=new Map([[e,h]]),r.set(Bl(t,l),f)}}return r})(t,e)),s=await(async(t,e,r)=>{const n=Pl(t),i=new Map,s=gu(t,r);if(s){const r=await s.balancesOf(e);for(let s=0;s<r.length;s++){const o=null==n?void 0:n.chainName,a=r[s],l=Sl(a[0]),u=Sl(a[2]),c=a[3]||xl,h=a[4]||Il,f=Number(a[5]),d=Number(a[1]),p={chainId:t,chainName:o,address:l,owner:u,name:c,symbol:h,totalSupply:f};p.balancesOf=new Map([[e,d]]),i.set(Bl(t,l),p)}}return i})(t,e,r),i=((t,e)=>{const r=e;if(t)for(const[r,n]of t.entries()){const t=e.get(r);if(t){const i=mv(n,t);e.set(r,i)}else e.set(r,n)}return r})(n,s)}return i},Iv=(t,e)=>`collectionDefault://${String(t)}${e?"@"+e:""}`,Mv=t=>{var e;return(null===(e=Pl(t))||void 0===e?void 0:e.defaultOpenNFTs)||""},{subscribe:Rv,set:Sv,update:Pv}=Ym((()=>{const t=new Map;for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);(null==r?void 0:r.startsWith("collectionDefault://"))&&t.set(r,JSON.parse(localStorage.getItem(r)))}return t})()),Tv=(t,e=Mv(t),r=!1,n)=>{t&&e&&(Fv.refreshOne(t,e,n).catch(console.error),Pv((i=>{const s=Iv(t,n);let o,a;r?(a=e,[o]=i.get(s)||["",""]):(o=e,[,a]=i.get(s)||["",""]);const l=[o,a];return"undefined"!=typeof localStorage&&localStorage.setItem(s,JSON.stringify(l)),i.set(s,l)})))},Ov={subscribe:Rv,set:Sv,update:Pv},$v=(t,e)=>`collection://${String(t)}/${e}`,Cv=t=>{const{chainId:e,address:r}=t||{};e&&r&&_v.update((n=>{const i=$v(e,r),s=mv(n.get(i),t);var o;return"undefined"!=typeof localStorage&&localStorage.setItem(i,(o=s,JSON.stringify(o,vv))),n.set(i,s)}))},Fv={getKey:$v,getOneStore:(t,e)=>{const r=$v(t,e);return Qm(_v,(t=>t.get(r)))},refreshOne:async(t,e,r)=>{if(!t||!e)return;const n=await gv(t,e,h(ng),r);Cv(n)},setOne:Cv,getListStore:_v,getSubListStore:(t,e,r=!1)=>Qm([Fv.getListStore,Fv.getDefaultStore],(([n,i])=>{const[s,o]=i.get(Fv.getDefaultKey(t,e))||["",""];return new Map([...n].filter((([,n])=>{var i;const a=t>0&&Boolean(e),l=n.chainId===t,u=((null===(i=n.balancesOf)||void 0===i?void 0:i.get(e))||0)>0,c=n.owner===e,h=n.address==o,f=h||n.open||c&&3==n.version,d=n.address==s||h;return a&&l&&(c||u||d)&&(!r||f)})).sort((([,t],[,r])=>{var n,i;return((null===(n=r.balancesOf)||void 0===n?void 0:n.get(e))||0)-((null===(i=t.balancesOf)||void 0===i?void 0:i.get(e))||0)})))})),refreshSubList:async(t,e,r=!1)=>{if(!t)return;const n=await xv(t,e,h(ng));for(const t of n.values())Fv.setOne(t)},getDefaultStore:Ov,getDefaultSubStore:(t,e=!1,r)=>{const n=Iv(t,r);return Qm(Ov,(t=>{const r=t.get(n)||["",""];return e?r[1]:r[0]}))},getDefaultKey:Iv,getDefaultOpenNFTs:Mv,refreshDefault:(t,e)=>{if(!t)return;const r=Iv(t,e);let[n,i]=h(Ov).get(r)||["",""];i||(i=Mv(t),Tv(t,i,!0,e)),n||(n=i,Tv(t,n,!1,e))},setDefaultOne:Tv};function Bv(t){let r;return{c(){r=T("Choose one collection")},m(t,e){M(t,r,e)},p:e,d(t){t&&R(r)}}}function Lv(t){let e,r,n,i,s,o,a=(t[2].name||xl)+"",l=(t[2].balancesOf?.get(t[0])||0)+"",u=(t[2].symbol||Il)+"";return{c(){e=T(a),r=T("\n  ("),n=T(l),i=O(),s=T(u),o=T(")")},m(t,a){M(t,e,a),M(t,r,a),M(t,n,a),M(t,i,a),M(t,s,a),M(t,o,a)},p(t,r){4&r&&a!==(a=(t[2].name||xl)+"")&&B(e,a),5&r&&l!==(l=(t[2].balancesOf?.get(t[0])||0)+"")&&B(n,l),4&r&&u!==(u=(t[2].symbol||Il)+"")&&B(s,u)},d(t){t&&R(e),t&&R(r),t&&R(n),t&&R(i),t&&R(s),t&&R(o)}}}function Dv(t){let r;function n(t,e){return t[2]?Lv:Bv}let i=n(t),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,[e]){i===(i=n(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:e,o:e,d(t){s.d(t),t&&R(r)}}}function Uv(t,r,n){let i,s=e;t.$$.on_destroy.push((()=>s()));let o,{chainId:a}=r,{address:l}=r,{account:u}=r;const h=()=>{n(1,o=Fv.getOneStore(a,l)),s(),s=c(o,(t=>n(2,i=t))),Fv.refreshOne(a,l,u).catch(console.error)};return t.$$set=t=>{"chainId"in t&&n(3,a=t.chainId),"address"in t&&n(4,l=t.address),"account"in t&&n(0,u=t.account)},t.$$.update=()=>{25&t.$$.dirty&&a&&l&&h()},[u,o,i,a,l]}class jv extends Nt{constructor(t){super(),kt(this,t,Uv,Dv,a,{chainId:3,address:4,account:0})}}function zv(t,e,r){const n=t.slice();return n[21]=e[r][0],n[22]=e[r][1],n}function Gv(t,e,r){const n=t.slice();return n[21]=e[r][0],n[22]=e[r][1],n}function qv(t){let e,r,n,i,a,l,u,c,h,f,d,p=t[5]&&Vv(t);const m=[Kv,Xv],g=[];function v(t,e){return t[10]?.size>0?0:1}return a=v(t),l=g[a]=m[a](t),{c(){e=P("div"),p&&p.c(),r=O(),n=P("div"),i=P("div"),l.c(),F(i,"class","select"),U(i,"open",t[7]),F(n,"class","select-wrapper select-storeCollection"),F(e,"class",c="col col-xs-12 col-sm-"+(t[4]?"8":"3"))},m(s,o){M(s,e,o),p&&p.m(e,null),A(e,r),A(e,n),A(n,i),g[a].m(i,null),h=!0,f||(d=[b(u=Sg.call(null,n,t[17])),C(n,"click",t[18])],f=!0)},p(t,n){t[5]?p?p.p(t,n):(p=Vv(t),p.c(),p.m(e,r)):p&&(p.d(1),p=null);let s=a;a=v(t),a===s?g[a].p(t,n):(ft(),mt(g[s],1,1,(()=>{g[s]=null})),dt(),l=g[a],l?l.p(t,n):(l=g[a]=m[a](t),l.c()),pt(l,1),l.m(i,null)),128&n&&U(i,"open",t[7]),u&&o(u.update)&&128&n&&u.update.call(null,t[17]),(!h||16&n&&c!==(c="col col-xs-12 col-sm-"+(t[4]?"8":"3")))&&F(e,"class",c)},i(t){h||(pt(l),h=!0)},o(t){mt(l),h=!1},d(t){t&&R(e),p&&p.d(),g[a].d(),f=!1,s(d)}}}function Hv(t){let e,r,n,i;const s=[ey,ty],o=[];function a(t,e){return t[10]?.size>0?0:1}return r=a(t),n=o[r]=s[r](t),{c(){e=P("p"),n.c()},m(t,n){M(t,e,n),o[r].m(e,null),i=!0},p(t,i){let l=r;r=a(t),r===l?o[r].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),n=o[r],n?n.p(t,i):(n=o[r]=s[r](t),n.c()),pt(n,1),n.m(e,null))},i(t){i||(pt(n),i=!0)},o(t){mt(n),i=!1},d(t){t&&R(e),o[r].d()}}}function Vv(t){let e,r,n,i=t[1]&&Jv(),s=t[0]&&Wv(t);return{c(){e=P("span"),r=T("Collection\n        "),i&&i.c(),n=O(),s&&s.c(),F(e,"class","label")},m(t,o){M(t,e,o),A(e,r),i&&i.m(e,null),A(e,n),s&&s.m(e,null)},p(t,r){t[1]?i||(i=Jv(),i.c(),i.m(e,n)):i&&(i.d(1),i=null),t[0]?s?s.p(t,r):(s=Wv(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(t){t&&R(e),i&&i.d(),s&&s.d()}}}function Jv(t){let e;return{c(){e=T("...")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Wv(t){let e,r,n,i;return{c(){e=P("a"),r=P("i"),F(r,"class","fas fa-info-circle"),F(e,"class","info-button"),F(e,"href",n=t[13](t[0])),F(e,"title",i="\t  Collection address (click to view in explorer)\r\n      "+t[14](t[0])),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){1&r&&n!==(n=t[13](t[0]))&&F(e,"href",n),1&r&&i!==(i="\t  Collection address (click to view in explorer)\r\n      "+t[14](t[0]))&&F(e,"title",i)},d(t){t&&R(e)}}}function Xv(t){let r,n;function i(t,e){return t[1]?Yv:Zv}let s=i(t),o=s(t);return{c(){r=P("div"),n=P("em"),o.c(),F(r,"class","select-trigger")},m(t,e){M(t,r,e),A(r,n),o.m(n,null)},p(t,e){s!==(s=i(t))&&(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(t){t&&R(r),o.d()}}}function Kv(t){let e,r,n,i,s,o;n=new jv({props:{chainId:t[2],address:t[0],account:t[3]}});let a=[...t[10]],l=[];for(let e=0;e<a.length;e+=1)l[e]=Qv(zv(t,a,e));const u=t=>mt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=P("div"),r=P("span"),bt(n.$$.fragment),i=O(),s=P("div");for(let t=0;t<l.length;t+=1)l[t].c();F(e,"class","select-trigger"),F(s,"class","custom-options")},m(t,a){M(t,e,a),A(e,r),wt(n,r,null),M(t,i,a),M(t,s,a);for(let t=0;t<l.length;t+=1)l[t].m(s,null);o=!0},p(t,e){const r={};if(4&e&&(r.chainId=t[2]),1&e&&(r.address=t[0]),8&e&&(r.account=t[3]),n.$set(r),3081&e){let r;for(a=[...t[10]],r=0;r<a.length;r+=1){const n=zv(t,a,r);l[r]?(l[r].p(n,e),pt(l[r],1)):(l[r]=Qv(n),l[r].c(),pt(l[r],1),l[r].m(s,null))}for(ft(),r=a.length;r<l.length;r+=1)u(r);dt()}},i(t){if(!o){pt(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)pt(l[t]);o=!0}},o(t){mt(n.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)mt(l[t]);o=!1},d(t){t&&R(e),Et(n),t&&R(i),t&&R(s),S(l,t)}}}function Zv(t){let e;return{c(){e=T("NO Collection found !")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Yv(t){let e;return{c(){e=T("Refreshing collections...")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Qv(t){let e,r,n,i,s,o,a,l,u;function c(){return t[16](t[22])}return r=new jv({props:{chainId:t[22].chainId,address:t[22].address,account:t[3]}}),{c(){e=P("span"),bt(r.$$.fragment),n=O(),F(e,"id",i=t[21]),F(e,"class",s="custom-option "+(t[22].address==t[0]?"selected":"")),F(e,"data-value",o=t[22].address)},m(t,i){M(t,e,i),wt(r,e,null),A(e,n),a=!0,l||(u=C(e,"click",c),l=!0)},p(n,l){t=n;const u={};1024&l&&(u.chainId=t[22].chainId),1024&l&&(u.address=t[22].address),8&l&&(u.account=t[3]),r.$set(u),(!a||1024&l&&i!==(i=t[21]))&&F(e,"id",i),(!a||1025&l&&s!==(s="custom-option "+(t[22].address==t[0]?"selected":"")))&&F(e,"class",s),(!a||1024&l&&o!==(o=t[22].address))&&F(e,"data-value",o)},i(t){a||(pt(r.$$.fragment,t),a=!0)},o(t){mt(r.$$.fragment,t),a=!1},d(t){t&&R(e),Et(r),l=!1,u()}}}function ty(t){let r;function n(t,e){return t[1]?ny:ry}let i=n(t),s=i(t);return{c(){r=P("p"),s.c()},m(t,e){M(t,r,e),s.m(r,null)},p(t,e){i!==(i=n(t))&&(s.d(1),s=i(t),s&&(s.c(),s.m(r,null)))},i:e,o:e,d(t){t&&R(r),s.d()}}}function ey(t){let e,r,n,i,s,o,a,l,u,c=Bl(t[2],t[0])+"",h=t[1]&&iy(),f=[...t[10]],d=[];for(let e=0;e<f.length;e+=1)d[e]=sy(Gv(t,f,e));const p=t=>mt(d[t],1,1,(()=>{d[t]=null}));return{c(){e=T("Collection\n      "),h&&h.c(),r=O(),n=P("select");for(let t=0;t<d.length;t+=1)d[t].c();i=O(),s=P("p"),o=T(c)},m(c,f){M(c,e,f),h&&h.m(c,f),M(c,r,f),M(c,n,f);for(let t=0;t<d.length;t+=1)d[t].m(n,null);M(c,i,f),M(c,s,f),A(s,o),a=!0,l||(u=C(n,"change",t[12]),l=!0)},p(t,e){if(t[1]?h||(h=iy(),h.c(),h.m(r.parentNode,r)):h&&(h.d(1),h=null),1033&e){let r;for(f=[...t[10]],r=0;r<f.length;r+=1){const i=Gv(t,f,r);d[r]?(d[r].p(i,e),pt(d[r],1)):(d[r]=sy(i),d[r].c(),pt(d[r],1),d[r].m(n,null))}for(ft(),r=f.length;r<d.length;r+=1)p(r);dt()}(!a||5&e)&&c!==(c=Bl(t[2],t[0])+"")&&B(o,c)},i(t){if(!a){for(let t=0;t<f.length;t+=1)pt(d[t]);a=!0}},o(t){d=d.filter(Boolean);for(let t=0;t<d.length;t+=1)mt(d[t]);a=!1},d(t){t&&R(e),h&&h.d(t),t&&R(r),t&&R(n),S(d,t),t&&R(i),t&&R(s),l=!1,u()}}}function ry(t){let e;return{c(){e=T("NO Collection found !")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function ny(t){let e;return{c(){e=T("Refreshing collections...")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function iy(t){let e;return{c(){e=T("...")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function sy(t){let e,r,n,i,s,o,a;return r=new jv({props:{chainId:t[22].chainId,address:t[22].address,account:t[3]}}),{c(){e=P("option"),bt(r.$$.fragment),n=O(),F(e,"id",i=t[21]),e.selected=s=t[22].address==t[0],e.__value=o=t[22].address,e.value=e.__value},m(t,i){M(t,e,i),wt(r,e,null),A(e,n),a=!0},p(t,n){const l={};1024&n&&(l.chainId=t[22].chainId),1024&n&&(l.address=t[22].address),8&n&&(l.account=t[3]),r.$set(l),(!a||1024&n&&i!==(i=t[21]))&&F(e,"id",i),(!a||1025&n&&s!==(s=t[22].address==t[0]))&&(e.selected=s),(!a||1024&n&&o!==(o=t[22].address))&&(e.__value=o,e.value=e.__value)},i(t){a||(pt(r.$$.fragment,t),a=!0)},o(t){mt(r.$$.fragment,t),a=!1},d(t){t&&R(e),Et(r)}}}function oy(t){let e,r,n,i;const s=[Hv,qv],o=[];function a(t,e){return t[6]?0:1}return e=a(t),r=o[e]=s[e](t),{c(){r.c(),n=$()},m(t,r){o[e].m(t,r),M(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?o[e].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),r=o[e],r?r.p(t,i):(r=o[e]=s[e](t),r.c()),pt(r,1),r.m(n.parentNode,n))},i(t){i||(pt(r),i=!0)},o(t){mt(r),i=!1},d(t){o[e].d(t),t&&R(n)}}}function ay(t,r,n){let i,s,o=e,a=e;t.$$.on_destroy.push((()=>o())),t.$$.on_destroy.push((()=>a()));let l,u,{chainId:h}=r,{address:f}=r,{account:d}=r,{mintable:p=!1}=r,{label:m=!0}=r,{txt:g=!1}=r,{refreshing:v}=r,y=!1;const b=async()=>{n(8,l=Fv.getSubListStore(h,d,p)),a(),a=c(l,(t=>n(10,s=t))),n(9,u=Fv.getDefaultSubStore(h,p,d)),o(),o=c(u,(t=>n(15,i=t))),n(1,v=!0),await Fv.refreshSubList(h,d,p),n(1,v=!1),console.log("COLLECTIONS",s),Fv.refreshDefault(h,d)},w=t=>Fv.setDefaultOne(h,t,p,d);return t.$$set=t=>{"chainId"in t&&n(2,h=t.chainId),"address"in t&&n(0,f=t.address),"account"in t&&n(3,d=t.account),"mintable"in t&&n(4,p=t.mintable),"label"in t&&n(5,m=t.label),"txt"in t&&n(6,g=t.txt),"refreshing"in t&&n(1,v=t.refreshing)},t.$$.update=()=>{28&t.$$.dirty&&h&&d&&b(),32768&t.$$.dirty&&i&&n(0,f=i)},[f,v,h,d,p,m,g,y,l,u,s,w,t=>w(t.target.value),t=>eu(h,t),t=>Bl(h,t),i,t=>w(t.address),()=>n(7,y=!1),()=>n(7,y=!y)]}class ly extends Nt{constructor(t){super(),kt(this,t,ay,oy,a,{chainId:2,address:0,account:3,mintable:4,label:5,txt:6,refreshing:1})}}class uy extends class{constructor(t){this.jsonPrepare=t=>JSON.stringify(t,null,2),this.endpoint=t}async pin(t,e){return"Ipfs.pin is abstract"}async add(t,e={}){let r="";const n=new FormData;n.append("file",t),e.method="POST",e.body=n;try{const t=await fetch(`${this.endpoint}/api/v0/add`,e);r=(await t.json()).Hash}catch(t){console.log("ERROR Ipfs.add",t)}return r}async pinUrl(t,e){return await this.pin(await(await fetch(t)).blob(),e)}async addUrl(t,e){const r=await fetch(t),n=await r.buffer();return await this.add(n,e)}async pinJson(t,e){return await this.pin(this.jsonPrepare(t),e)}async addJson(t,e){return await this.add(this.jsonPrepare(t),e)}}{constructor(t){super("https://api.nft.storage"),this.key=t||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDcyMDA4ODA4NjAxQjNmNmU0OEZCQTZlNjIzM2E4RDkwQ2VmRjhiMDkiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY0NDQxNDE1MTk0OCwibmFtZSI6IktSRURFVU0gUFJPRCJ9.dmJNMhkFLXnTgjK2agVXlch4D7jbhzw5UZeUPcBYYCw"}async pin(t){var e;let r="";const n=`${this.endpoint}/upload`;console.log(`NftStorage.pin <= ${n}`);const i=await fetch(n,{method:"POST",body:t,headers:{Authorization:"Bearer "+this.key}}),s=await i.json();return s.ok?r=(null===(e=s.value)||void 0===e?void 0:e.cid)||"":console.error("NftStorage.pin",s.error),console.log(`NftStorage.pin => ipfs://${r}`),r}}const cy=new Map,hy=t=>{var e;return(null==t?void 0:t.ipfs)?Jl(t.ipfs):((null===(e=null==t?void 0:t.image)||void 0===e?void 0:e.startsWith("ipfs://"))?Jl(t.image):null==t?void 0:t.image)||""},fy=async t=>{const{chainId:e,address:r,tokenID:n}=t||{},i=Pl(e);if(!(e&&r&&n&&i))return t;if(t.tokenURI){if(!t.ipfsJson){const e=ql(t.tokenURI);e&&(t.ipfsJson=e)}try{const e=await kv(t.ipfsJson||t.tokenURI);if(e.error)console.error("ERROR nftGetMetadata tokenURIAnswer.error ",e.error);else{const r=e;r&&(t.metadata=r,!t.name&&r.name&&(t.name=r.name),!t.description&&r.description&&(t.description=r.description),!t.creator&&r.creator&&(t.creator=Sl(r.creator)),!t.minter&&r.minter&&(t.minter=Sl(r.minter)),!t.owner&&r.owner&&(t.owner=Sl(r.owner)),t.image||!r.image&&!r.image_url||(t.image=r.image||r.image_url),t.ipfs||!r.ipfs&&!ql(t.image)||(t.ipfs=r.ipfs||ql(t.image)))}}catch(t){console.error("ERROR nftGetMetadata tokenURIAnswer",t)}}return t.chainName||(t.chainName=i.chainName),t.nid||(t.nid=cu(e,r,n)),t.contentType||(t.contentType=await(async t=>{const{chainId:e,address:r,tokenID:n}=t||{},i=hy(t);let s="text";if(!(e&&r&&n&&i))return s;if(s=cy.get(i)||"",s)return s;s="image";try{s=(await fetch(i,{method:"HEAD"})).headers.get("content-type")||s,cy.set(i,s)}catch(e){console.error("ERROR nftGetContentType",e,i,t)}return s})(t)),t};let dy;const py=["Mint","Wait till Image stored on IPFS","Wait till Metadata stored on IPFS","Please, sign the transaction","Wait till transaction completed, it may take one minute or more..."],my=async(t,e="")=>{dy=dy||new uy(e);return`ipfs://${await dy.pinUrl(t)}`},gy=async(t="No name",e="",r="",n="",i="{}")=>{const s={name:t,description:t||"",image:Jl(e),ipfs:e,origin:Dl(n,140),minter:r};i&&(s.metadata=JSON.parse(i));return`ipfs://${await dy.pinJson(s)}`},vy=async(t,e,r,n)=>{var i;if(!(t&&e&&r&&n))return null;const s=(await pv(t,e,n.provider)).connect(n),o=s.mintOpenNFT||s.mintNFT||s.addUser,a=Jl(r),l=await o(await n.getAddress(),a);return console.log(`${(null===(i=Pl(t))||void 0===i?void 0:i.blockExplorerUrls[0])||""}/tx/${(null==l?void 0:l.hash)||""}`),l},yy=async(t,e,r,n,i)=>{let s;if(r){const o=await r.wait();if(o){const r=(t=>{let e="";if(t.logs){const r=new $n(["event Transfer(address indexed from, address indexed to, uint256 indexed tokenID);"]).parseLog(t.logs[0]);({tokenID:e}=r.args)}return e.toString()})(o);r&&(s=await(async(t,e,r,n,i)=>await fy({chainId:t,address:e,tokenID:r,tokenURI:n,creator:i,minter:i,owner:i}))(t,e,r,Jl(n),i),s.ipfsJson=n)}}return s};function by(t){let e,r,n,i,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x,I,S;function T(t,e){return t[5]?_y:Ey}let B=T(t),D=B(t);function U(e){t[17](e)}let j={chainId:t[0],account:t[1],mintable:!0,label:!1};void 0!==t[2]&&(j.address=t[2]),y=new ly({props:j}),Z.push((()=>yt(y,"address",U)));let z=t[11]&&ky(t);return{c(){e=P("div"),r=P("span"),r.textContent="NFT file",n=O(),i=P("div"),D.c(),o=O(),a=P("div"),l=P("span"),l.textContent="NFT title",u=O(),c=P("div"),h=P("input"),f=O(),d=P("div"),d.innerHTML='<span class="label label-big">Media type</span> \n          <div class="box-fields"><input class="box-field" id="create-type-video" name="media-type" type="checkbox" value="Video" disabled=""/> \n            <label class="field" for="create-type-video"><i class="fas fa-play"></i>Video</label> \n\n            <input class="box-field" id="create-type-picture" name="media-type" type="checkbox" value="Picture" checked=""/> \n            <label class="field" for="create-type-picture"><i class="fas fa-image"></i>Picture</label> \n\n            <input class="box-field" id="create-type-texte" name="media-type" type="checkbox" value="Text" disabled=""/> \n            <label class="field" for="create-type-texte"><i class="fas fa-file-alt"></i>Text</label> \n\n            <input class="box-field" id="create-type-music" name="media-type" type="checkbox" value="Music" disabled=""/> \n            <label class="field" for="create-type-music"><i class="fas fa-music"></i>Music</label> \n\n            <input class="box-field" id="create-type-web" name="media-type" type="checkbox" value="Web" disabled=""/> \n            <label class="field" for="create-type-web"><i class="fas fa-code"></i>Web</label></div>',p=O(),m=P("div"),g=P("span"),g.textContent="Add to an existing address ?",v=O(),bt(y.$$.fragment),w=O(),E=P("div"),_=P("button"),_.textContent="Mint NFT",k=O(),z&&z.c(),N=$(),F(r,"class","label label-big"),F(i,"class","box-file"),F(e,"class","section"),F(l,"class","label label-big"),F(h,"type","text"),F(h,"placeholder","My NFT title"),F(h,"id","title-nft"),F(c,"class","form-field"),F(a,"class","section"),F(d,"class","section"),F(g,"class","label label-big"),F(m,"class","section"),F(_,"class","btn btn-default btn-sell"),F(E,"class","txtright")},m(s,b){M(s,e,b),A(e,r),A(e,n),A(e,i),D.m(i,null),M(s,o,b),M(s,a,b),A(a,l),A(a,u),A(a,c),A(c,h),L(h,t[3]),M(s,f,b),M(s,d,b),M(s,p,b),M(s,m,b),A(m,g),A(m,v),wt(y,m,null),M(s,w,b),M(s,E,b),A(E,_),M(s,k,b),z&&z.m(s,b),M(s,N,b),x=!0,I||(S=[C(h,"input",t[16]),C(_,"click",t[13])],I=!0)},p(t,e){B===(B=T(t))&&D?D.p(t,e):(D.d(1),D=B(t),D&&(D.c(),D.m(i,null))),8&e&&h.value!==t[3]&&L(h,t[3]);const r={};1&e&&(r.chainId=t[0]),2&e&&(r.account=t[1]),!b&&4&e&&(b=!0,r.address=t[2],nt((()=>b=!1))),y.$set(r),t[11]?z?z.p(t,e):(z=ky(t),z.c(),z.m(N.parentNode,N)):z&&(z.d(1),z=null)},i(t){x||(pt(y.$$.fragment,t),x=!0)},o(t){mt(y.$$.fragment,t),x=!1},d(t){t&&R(e),D.d(),t&&R(o),t&&R(a),t&&R(f),t&&R(d),t&&R(p),t&&R(m),Et(y),t&&R(w),t&&R(E),t&&R(k),z&&z.d(t),t&&R(N),I=!1,s(S)}}}function wy(t){let r,n,i,s,o,a,l,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x,I,S,T,$,C,B;function L(t,e){return t[10]?Ay:Ny}let D=L(t),U=D(t),j=t[6]&&Sy(t),z=t[7]&&Py(t),G=t[9]&&Ty(t),q=t[10]&&Oy(t);return{c(){r=P("div"),n=P("img"),s=O(),o=P("ul"),U.c(),a=O(),l=P("li"),c=P("div"),c.innerHTML='<span class="label">Image ipfs link</span>',h=O(),f=P("div"),j&&j.c(),p=O(),m=P("li"),g=P("div"),g.innerHTML='<span class="label">Metadata ipfs link</span>',v=O(),y=P("div"),z&&z.c(),w=O(),E=P("li"),_=P("div"),_.innerHTML='<span class="label">Transaction</span>',k=O(),N=P("div"),G&&G.c(),I=O(),S=P("li"),T=P("div"),T.innerHTML='<span class="label">Token ID</span>',$=O(),C=P("div"),q&&q.c(),u(n.src,i=t[5])||F(n,"src",i),F(n,"alt","nft"),F(r,"class","media media-photo"),F(c,"class","flex"),F(f,"class","flex"),F(l,"class",d=t[8]>=2?"complete":""),F(g,"class","flex"),F(y,"class","flex"),F(m,"class",b=t[8]>=3?"complete":""),F(_,"class","flex"),F(N,"class","flex"),F(E,"class",x=t[8]>=4?"complete":""),F(T,"class","flex"),F(C,"class","flex"),F(S,"class",B=t[8]>=5?"complete":""),F(o,"class","steps process")},m(t,e){M(t,r,e),A(r,n),M(t,s,e),M(t,o,e),U.m(o,null),A(o,a),A(o,l),A(l,c),A(l,h),A(l,f),j&&j.m(f,null),A(o,p),A(o,m),A(m,g),A(m,v),A(m,y),z&&z.m(y,null),A(o,w),A(o,E),A(E,_),A(E,k),A(E,N),G&&G.m(N,null),A(o,I),A(o,S),A(S,T),A(S,$),A(S,C),q&&q.m(C,null)},p(t,e){32&e&&!u(n.src,i=t[5])&&F(n,"src",i),D===(D=L(t))&&U?U.p(t,e):(U.d(1),U=D(t),U&&(U.c(),U.m(o,a))),t[6]?j?j.p(t,e):(j=Sy(t),j.c(),j.m(f,null)):j&&(j.d(1),j=null),256&e&&d!==(d=t[8]>=2?"complete":"")&&F(l,"class",d),t[7]?z?z.p(t,e):(z=Py(t),z.c(),z.m(y,null)):z&&(z.d(1),z=null),256&e&&b!==(b=t[8]>=3?"complete":"")&&F(m,"class",b),t[9]?G?G.p(t,e):(G=Ty(t),G.c(),G.m(N,null)):G&&(G.d(1),G=null),256&e&&x!==(x=t[8]>=4?"complete":"")&&F(E,"class",x),t[10]?q?q.p(t,e):(q=Oy(t),q.c(),q.m(C,null)):q&&(q.d(1),q=null),256&e&&B!==(B=t[8]>=5?"complete":"")&&F(S,"class",B)},i:e,o:e,d(t){t&&R(r),t&&R(s),t&&R(o),U.d(),j&&j.d(),z&&z.d(),G&&G.d(),q&&q.d()}}}function Ey(t){let r,n,i;return{c(){r=P("input"),F(r,"type","file"),F(r,"id","file"),F(r,"name","file")},m(e,s){M(e,r,s),n||(i=[C(r,"change",t[15]),C(r,"change",t[12])],n=!0)},p:e,d(t){t&&R(r),n=!1,s(i)}}}function _y(t){let e,r,n;return{c(){e=P("div"),r=P("img"),u(r.src,n=t[5])||F(r,"src",n),F(r,"alt","nft"),F(e,"class","media media-photo mt-20")},m(t,n){M(t,e,n),A(e,r)},p(t,e){32&e&&!u(r.src,n=t[5])&&F(r,"src",n)},d(t){t&&R(e)}}}function ky(t){let e,r,n;return{c(){e=P("div"),r=P("p"),n=T(t[11]),F(r,"class","txtright errormsg"),F(e,"class","section")},m(t,i){M(t,e,i),A(e,r),A(r,n)},p(t,e){2048&e&&B(n,t[11])},d(t){t&&R(e)}}}function Ny(t){let e,r,n,i,s,o;function a(t,e){return t[11]?Iy:xy}let l=a(t),u=l(t);function c(t,e){return t[11]?Ry:1<=t[8]&&t[8]<=5?My:void 0}let h=c(t),f=h&&h(t);return{c(){e=P("li"),r=P("div"),n=P("span"),u.c(),i=O(),s=P("div"),o=P("span"),f&&f.c(),F(n,"class","titre"),F(r,"class","flex"),F(o,"class","t-light"),F(s,"class","flex")},m(t,a){M(t,e,a),A(e,r),A(r,n),u.m(n,null),A(e,i),A(e,s),A(s,o),f&&f.m(o,null)},p(t,e){l!==(l=a(t))&&(u.d(1),u=l(t),u&&(u.c(),u.m(n,null))),h===(h=c(t))&&f?f.p(t,e):(f&&f.d(1),f=h&&h(t),f&&(f.c(),f.m(o,null)))},d(t){t&&R(e),u.d(),f&&f.d()}}}function Ay(t){let e,r,n,i,s,o,a,l=Ll(t[10],6)+"";return{c(){e=P("li"),r=P("div"),r.innerHTML='<span class="titre">NFT Minted, congrats!\n                  <i class="fas fa-check fa-left c-green"></i></span>',n=O(),i=P("div"),s=P("a"),o=T(l),F(r,"class","flex"),F(s,"class","link"),F(s,"href",a=nu(t[0],t[10])),F(s,"target","_blank"),F(i,"class","flex"),F(e,"class","complete")},m(t,a){M(t,e,a),A(e,r),A(e,n),A(e,i),A(i,s),A(s,o)},p(t,e){1024&e&&l!==(l=Ll(t[10],6)+"")&&B(o,l),1025&e&&a!==(a=nu(t[0],t[10]))&&F(s,"href",a)},d(t){t&&R(e)}}}function xy(t){let e,r;return{c(){e=T("Minting NFT\n                    "),r=P("i"),F(r,"class","fas fa-spinner fa-left c-green refresh")},m(t,n){M(t,e,n),M(t,r,n)},d(t){t&&R(e),t&&R(r)}}}function Iy(t){let e,r;return{c(){e=T("Minting Error\n                    "),r=P("i"),F(r,"class","fa fa-times fa-left")},m(t,n){M(t,e,n),M(t,r,n)},d(t){t&&R(e),t&&R(r)}}}function My(t){let e,r=py[t[8]]+"";return{c(){e=T(r)},m(t,r){M(t,e,r)},p(t,n){256&n&&r!==(r=py[t[8]]+"")&&B(e,r)},d(t){t&&R(e)}}}function Ry(t){let e;return{c(){e=T(t[11])},m(t,r){M(t,e,r)},p(t,r){2048&r&&B(e,t[11])},d(t){t&&R(e)}}}function Sy(t){let e,r,n,i=Dl(t[6],15)+"";return{c(){e=P("a"),r=T(i),F(e,"class","link"),F(e,"href",n=Jl(t[6])),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,s){64&s&&i!==(i=Dl(t[6],15)+"")&&B(r,i),64&s&&n!==(n=Jl(t[6]))&&F(e,"href",n)},d(t){t&&R(e)}}}function Py(t){let e,r,n,i=Dl(t[7],15)+"";return{c(){e=P("a"),r=T(i),F(e,"class","link"),F(e,"href",n=Jl(t[7])),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,s){128&s&&i!==(i=Dl(t[7],15)+"")&&B(r,i),128&s&&n!==(n=Jl(t[7]))&&F(e,"href",n)},d(t){t&&R(e)}}}function Ty(t){let e,r,n,i=Dl(t[9].hash,15)+"";return{c(){e=P("a"),r=T(i),F(e,"class","link"),F(e,"href",n=Yl(t[0],t[9].hash)),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,s){512&s&&i!==(i=Dl(t[9].hash,15)+"")&&B(r,i),513&s&&n!==(n=Yl(t[0],t[9].hash))&&F(e,"href",n)},d(t){t&&R(e)}}}function Oy(t){let e,r,n=t[10]?.tokenID+"";return{c(){e=P("strong"),r=T(n)},m(t,n){M(t,e,n),A(e,r)},p(t,e){1024&e&&n!==(n=t[10]?.tokenID+"")&&B(r,n)},d(t){t&&R(e)}}}function $y(t){let e,r,n,i,s,o,a,l,u,c;const h=[wy,by],f=[];function d(t,e){return t[8]?0:1}return l=d(t),u=f[l]=h[l](t),{c(){e=P("div"),r=P("div"),n=P("a"),n.innerHTML='<i class="fa fa-times"></i>',i=O(),s=P("div"),o=P("div"),o.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Mint NFT',a=O(),u.c(),F(n,"href","./#"),F(n,"title","Close"),F(n,"class","modal-close"),F(o,"class","titre"),F(s,"class","modal-body"),F(r,"class","modal-content"),F(e,"id","kredeum-create-nft")},m(t,u){M(t,e,u),A(e,r),A(r,n),A(r,i),A(r,s),A(s,o),A(s,a),f[l].m(s,null),c=!0},p(t,[e]){let r=l;l=d(t),l===r?f[l].p(t,e):(ft(),mt(f[r],1,1,(()=>{f[r]=null})),dt(),u=f[l],u?u.p(t,e):(u=f[l]=h[l](t),u.c()),pt(u,1),u.m(s,null))},i(t){c||(pt(u),c=!0)},o(t){mt(u),c=!1},d(t){t&&R(e),f[l].d()}}}function Cy(t,e,r){let n;f(t,ig,(t=>r(14,n=t)));let i,{chainId:s}=e;let o;let a,l,u,c,h,d,p,m,g="";const v=()=>{r(6,u=null),r(7,c=null),r(8,h=0),r(9,d=null),r(10,p=null),r(11,m=null)};return t.$$set=t=>{"chainId"in t&&r(0,s=t.chainId)},t.$$.update=()=>{16384&t.$$.dirty&&n&&(async()=>{r(1,i=await n.getAddress())})().catch(console.error),16385&t.$$.dirty&&n&&s&&(async()=>{r(1,i=await n.getAddress())})()},[s,i,o,g,a,l,u,c,h,d,p,m,()=>{if(v(),a){let t=new FileReader;t.readAsDataURL(a[0]),r(3,g=g||a[0].name),t.onload=t=>{r(5,l=t.target.result.toString())}}},async()=>(v(),l?(r(8,h=1),r(6,u=await my(l)),u?(r(8,h=2),r(7,c=await gy(g,u,i,l)),c?(r(8,h=3),r(9,d=await vy(s,o,c,n)),d?(r(8,h=4),r(10,p=await yy(s,o,d,c,i)),p?r(8,h=5):r(11,m="Problem with sent transaction.")):r(11,m="Problem while sending transaction.")):r(11,m="Problem while archiving metadata on IPFS.")):r(11,m="Problem while archiving image on IPFS.")):r(11,m="Missing NFT file. Sorry can't mint."),m&&console.error("ERROR",m),p),n,function(){a=this.files,r(4,a)},function(){g=this.value,r(3,g)},function(t){o=t,r(2,o)}]}class Fy extends Nt{constructor(t){super(),kt(this,t,Cy,$y,a,{chainId:0})}}const By=t=>{let e="";if(t.logs){const r=new $n(["event ImplementationNew(address indexed implementation, address indexed creator, uint256 count)"]).parseLog(t.logs[0]);({implementation:e}=r.args)}return e};function Ly(t,e,r){const n=t.slice();return n[4]=e[r][0],n[5]=e[r][1],n}function Dy(t){let e,r,n,i,s,o,a,l,u,c,h,f,d,p=t[5].name+"";function m(){return t[3](t[4])}return{c(){e=P("input"),o=O(),a=P("label"),l=P("i"),c=T(p),F(e,"class","box-field collection-type"),F(e,"id",r="collection-type-"+t[4]),F(e,"name","collection-type"),F(e,"type","radio"),e.value=n=t[5].name,F(e,"data-toggle","tooltip"),F(e,"title",i=t[5].description),e.checked=s=t[4]==t[0],F(l,"class",u="fas fa-"+t[5].icon),F(a,"class","field"),F(a,"for",h="collection-type-"+t[4])},m(t,r){M(t,e,r),M(t,o,r),M(t,a,r),A(a,l),A(a,c),f||(d=C(e,"click",m),f=!0)},p(r,n){t=r,1&n&&s!==(s=t[4]==t[0])&&(e.checked=s)},d(t){t&&R(e),t&&R(o),t&&R(a),f=!1,d()}}}function Uy(t){let e,r=t[1].get(t[0]).description+"";return{c(){e=T(r)},m(t,r){M(t,e,r)},p(t,n){1&n&&r!==(r=t[1].get(t[0]).description+"")&&B(e,r)},d(t){t&&R(e)}}}function jy(t){let r,n,i,s,o,a,l,u,c=t[1].get(t[0]),h=[...t[1]],f=[];for(let e=0;e<h.length;e+=1)f[e]=Dy(Ly(t,h,e));let d=c&&Uy(t);return{c(){r=P("div"),n=P("span"),n.textContent="Collection type",i=O(),s=P("div");for(let t=0;t<f.length;t+=1)f[t].c();o=O(),a=P("div"),l=P("p"),u=P("i"),d&&d.c(),F(n,"class","label label-big"),F(s,"class","box-fields"),F(a,"class","description"),F(r,"class","section")},m(t,e){M(t,r,e),A(r,n),A(r,i),A(r,s);for(let t=0;t<f.length;t+=1)f[t].m(s,null);A(r,o),A(r,a),A(a,l),A(l,u),d&&d.m(u,null)},p(t,[e]){if(7&e){let r;for(h=[...t[1]],r=0;r<h.length;r+=1){const n=Ly(t,h,r);f[r]?f[r].p(n,e):(f[r]=Dy(n),f[r].c(),f[r].m(s,null))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}1&e&&(c=t[1].get(t[0])),c?d?d.p(t,e):(d=Uy(t),d.c(),d.m(u,null)):d&&(d.d(1),d=null)},i:e,o:e,d(t){t&&R(r),S(f,t),d&&d.d()}}}function zy(t,e,r){let{template:n="ownable"}=e;const i=new Map([["ownable",{name:"Ownable",description:"Ownable NFTs Collection: own your Collection, only you can Mint NFTs",icon:"user"}],["generic",{name:"Generic",description:"Generic NFTs Collection: anyone can Mint NFTs",icon:"building"}]]),s=t=>{r(0,n=t)};return t.$$set=t=>{"template"in t&&r(0,n=t.template)},[n,i,s,t=>s(t)]}class Gy extends Nt{constructor(t){super(),kt(this,t,zy,jy,a,{template:0})}}function qy(t){let e,r,n,i,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_;function k(e){t[11](e)}let N={};return void 0!==t[1]&&(N.template=t[1]),m=new Gy({props:N}),Z.push((()=>yt(m,"template",k))),{c(){e=P("div"),e.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Name your CollectionType',r=O(),n=P("div"),i=P("div"),o=P("input"),a=O(),l=P("div"),l.innerHTML='<i class="fas fa-plus fa-left c-green"></i>Attach a Symbol to your CollectionType',u=O(),c=P("div"),h=P("div"),f=P("input"),d=O(),p=P("div"),bt(m.$$.fragment),v=O(),y=P("div"),b=P("button"),b.textContent="Create",F(e,"class","titre"),F(o,"type","text"),F(o,"placeholder","My NFTs collection"),F(i,"class","form-field"),F(n,"class","section"),F(l,"class","titre"),F(f,"type","text"),F(f,"placeholder","MYNFT"),F(h,"class","form-field"),F(c,"class","section"),F(p,"class","section"),F(b,"class","btn btn-default btn-sell"),F(b,"type","submit"),F(y,"class","txtright")},m(s,g){M(s,e,g),M(s,r,g),M(s,n,g),A(n,i),A(i,o),L(o,t[5]),M(s,a,g),M(s,l,g),M(s,u,g),M(s,c,g),A(c,h),A(h,f),L(f,t[6]),M(s,d,g),M(s,p,g),wt(m,p,null),M(s,v,g),M(s,y,g),A(y,b),w=!0,E||(_=[C(o,"input",t[9]),C(f,"input",t[10]),C(b,"click",t[7])],E=!0)},p(t,e){32&e&&o.value!==t[5]&&L(o,t[5]),64&e&&f.value!==t[6]&&L(f,t[6]);const r={};!g&&2&e&&(g=!0,r.template=t[1],nt((()=>g=!1))),m.$set(r)},i(t){w||(pt(m.$$.fragment,t),w=!0)},o(t){mt(m.$$.fragment,t),w=!1},d(t){t&&R(e),t&&R(r),t&&R(n),t&&R(a),t&&R(l),t&&R(u),t&&R(c),t&&R(d),t&&R(p),Et(m),t&&R(v),t&&R(y),E=!1,s(_)}}}function Hy(t){let r,n,i;function s(t,e){return t[3]?Wy:Jy}let o=s(t),a=o(t);return{c(){r=P("div"),r.innerHTML='<i class="fas fa-sync fa-left c-green"></i>Creating new CollectionType...',n=O(),i=P("div"),a.c(),F(r,"class","titre"),F(i,"class","section")},m(t,e){M(t,r,e),M(t,n,e),M(t,i,e),a.m(i,null)},p(t,e){o!==(o=s(t))&&(a.d(1),a=o(t),a&&(a.c(),a.m(i,null)))},i:e,o:e,d(t){t&&R(r),t&&R(n),t&&R(i),a.d()}}}function Vy(t){let r,n,i,s,o,a,l,u,c=t[4]?.name+"";return{c(){r=P("div"),n=P("div"),i=P("i"),s=T("\n              CollectionType '"),o=P("a"),a=T(c),u=T("' created!"),F(i,"class","fas fa-check fa-left c-green"),F(o,"class","link"),F(o,"href",l=Zl(t[0],t[4].address)),F(o,"target","_blank"),F(n,"class","titre")},m(t,e){M(t,r,e),A(r,n),A(n,i),A(n,s),A(n,o),A(o,a),A(n,u)},p(t,e){16&e&&c!==(c=t[4]?.name+"")&&B(a,c),17&e&&l!==(l=Zl(t[0],t[4].address))&&F(o,"href",l)},i:e,o:e,d(t){t&&R(r)}}}function Jy(t){let e;return{c(){e=T("Sign the transaction")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Wy(t){let e;return{c(){e=T("Wait till completed, it may take one minute or more.")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function Xy(t){let e,r,n,i,s=Dl(t[3])+"";return{c(){e=P("div"),r=P("a"),n=T(s),F(r,"class","link"),F(r,"href",i=Yl(t[0],t[3])),F(r,"target","_blank"),F(e,"class","flex")},m(t,i){M(t,e,i),A(e,r),A(r,n)},p(t,e){8&e&&s!==(s=Dl(t[3])+"")&&B(n,s),9&e&&i!==(i=Yl(t[0],t[3]))&&F(r,"href",i)},d(t){t&&R(e)}}}function Ky(t){let e,r,n,i,s,o,a,l,u,c;const h=[Vy,Hy,qy],f=[];function d(t,e){return t[4]?0:t[2]?1:2}a=d(t),l=f[a]=h[a](t);let p=t[3]&&Xy(t);return{c(){e=P("div"),r=P("div"),n=P("a"),n.innerHTML='<i class="fa fa-times"></i>',i=O(),s=P("div"),o=P("div"),l.c(),u=O(),p&&p.c(),F(n,"href","./#"),F(n,"title","Close"),F(n,"class","modal-close"),F(s,"class","modal-body"),F(r,"class","modal-content"),F(e,"id","kredeum-create-collection")},m(t,l){M(t,e,l),A(e,r),A(r,n),A(r,i),A(r,s),A(s,o),f[a].m(o,null),A(o,u),p&&p.m(o,null),c=!0},p(t,[e]){let r=a;a=d(t),a===r?f[a].p(t,e):(ft(),mt(f[r],1,1,(()=>{f[r]=null})),dt(),l=f[a],l?l.p(t,e):(l=f[a]=h[a](t),l.c()),pt(l,1),l.m(o,u)),t[3]?p?p.p(t,e):(p=Xy(t),p.c(),p.m(o,null)):p&&(p.d(1),p=null)},i(t){c||(pt(l),c=!0)},o(t){mt(l),c=!1},d(t){t&&R(e),f[a].d(),p&&p.d()}}}function Zy(t,e,r){let n;f(t,ig,(t=>r(12,n=t)));let i,{chainId:s}=e,{collection:o}=e,a=!1,l=null,u=null,c="",h="";const d=function(){const t=W();return(e,r)=>{const n=t.$$.callbacks[e];if(n){const i=j(e,r);n.slice().forEach((e=>{e.call(t,i)}))}}}();return t.$$set=t=>{"chainId"in t&&r(0,s=t.chainId),"collection"in t&&r(8,o=t.collection)},[s,i,a,l,u,c,h,async()=>{if(r(2,a=!0),r(3,l=null),r(4,u=null),n){const t=await(async(t,e,r,n,i)=>{const s=Pl(t),o=gu(t,i.provider),{_name:a,_symbol:l}=await(async(t,e,r)=>{const n=(await t.implementationsCount()).toString();return{_name:e||`Open NFTs #${n}`,_symbol:r||`NFTs${n}`}})(o,e,r),u="ownable"==n?[!1,!0]:[!0,!1],c=await o.connect(i).clone(a,l,"OpenNFTsV3",u);return console.log(`${null==s?void 0:s.blockExplorerUrls[0]}/tx/${null==c?void 0:c.hash}`),c})(s,c,h,i,n);if(t){r(3,l=t.hash);const e=await(async t=>await t.wait())(t);e.status?(r(4,u={chainId:s,name:c,address:By(e),owner:await n.getAddress()}),u?(r(8,o=u),d("collection",{collection:u.address})):console.error("ERROR createCollection no collection created")):console.error("ERROR createCollection bad status")}else console.error("ERROR createCollection no txResp")}else console.error("ERROR createCollection not signer");r(2,a=!1)},o,function(){c=this.value,r(5,c)},function(){h=this.value,r(6,h)},function(t){i=t,r(1,i)}]}class Yy extends Nt{constructor(t){super(),kt(this,t,Zy,Ky,a,{chainId:0,collection:8})}}function Qy(t){let e,r,n,i,s,o,a,l,u,c;return o=new Fy({props:{chainId:t[0]}}),u=new Yy({props:{chainId:t[0]}}),{c(){e=P("a"),e.innerHTML='<i class="fas fa-plus fa-left"></i>Mint',r=O(),n=P("div"),n.innerHTML='<div class="modal-content"><a href="./#" title="Close" class="modal-close"><i class="fa fa-times"></i></a> \n\n    <div class="modal-body"><div class="titre"><i class="fas fa-plus fa-left c-green"></i>What do you want to do ?</div> \n\n      <div class="txtcenter"><a href="#create-nft" class="btn btn-default" title="Mint NFT">Mint NFT</a> \n        <span class="or">Or</span> \n        <a href="#add-collection" class="btn btn-second" title="Add a new collection">Add a new collection</a></div></div></div>',i=O(),s=P("div"),bt(o.$$.fragment),a=O(),l=P("div"),bt(u.$$.fragment),F(e,"href","#create-modal"),F(e,"class","btn btn-default"),F(e,"title","Mint"),F(n,"class","modal-window"),F(n,"id","create-modal"),F(s,"id","create-nft"),F(s,"class","modal-window"),F(l,"id","add-collection"),F(l,"class","modal-window")},m(t,h){M(t,e,h),M(t,r,h),M(t,n,h),M(t,i,h),M(t,s,h),wt(o,s,null),M(t,a,h),M(t,l,h),wt(u,l,null),c=!0},p(t,[e]){const r={};1&e&&(r.chainId=t[0]),o.$set(r);const n={};1&e&&(n.chainId=t[0]),u.$set(n)},i(t){c||(pt(o.$$.fragment,t),pt(u.$$.fragment,t),c=!0)},o(t){mt(o.$$.fragment,t),mt(u.$$.fragment,t),c=!1},d(t){t&&R(e),t&&R(r),t&&R(n),t&&R(i),t&&R(s),Et(o),t&&R(a),t&&R(l),Et(u)}}}function tb(t,e,r){let{chainId:n}=e;return t.$$set=t=>{"chainId"in t&&r(0,n=t.chainId)},[n]}class eb extends Nt{constructor(t){super(),kt(this,t,tb,Qy,a,{chainId:0})}}function rb(t){let r,n,i,s,o;return{c(){r=P("div"),r.innerHTML='<a href="https://www.kredeum.com" target="_blank" alt="Kredeum website" title="Kredeum website"><img src="assets/images/logo-kredeum.svg" alt="Logo Kredeum"/></a>',n=O(),i=P("div"),i.innerHTML='<input id="burger" type="checkbox"/> \n\n  <label for="burger"><span></span> \n    <span></span> \n    <span></span></label> \n\n  <div class="nav"><ul><li class="active"><a href="."><i class="fas fa-columns"></i></a></li></ul></div>',s=O(),o=P("a"),o.innerHTML='<i class="icon-discord"></i>',F(r,"class","logo"),F(i,"class","menu"),F(o,"class","discord-link"),F(o,"href","https://discord.gg/Vz5AyU2Nfx"),F(o,"target","_blank"),F(o,"alt","Discord Kredeum"),F(o,"title","Discord Kredeum")},m(t,e){M(t,r,e),M(t,n,e),M(t,i,e),M(t,s,e),M(t,o,e)},p:e,i:e,o:e,d(t){t&&R(r),t&&R(n),t&&R(i),t&&R(s),t&&R(o)}}}class nb extends Nt{constructor(t){super(),kt(this,t,null,rb,a,{})}}function ib(t){let r,n,i,s,o,a,l;return{c(){r=P("div"),n=P("button"),i=P("i"),F(i,"class",s="fas fa-redo-alt "+(t[1]?"refresh":"")),F(n,"class","clear"),F(n,"title",o="      "+(t[1]?"Refreshing NFTs...":"Refresh NFTs from this Collection")),F(r,"class","col col-sm-3")},m(e,s){M(e,r,s),A(r,n),A(n,i),a||(l=C(n,"click",t[2]),a=!0)},p(t,[e]){2&e&&s!==(s="fas fa-redo-alt "+(t[1]?"refresh":""))&&F(i,"class",s),2&e&&o!==(o="      "+(t[1]?"Refreshing NFTs...":"Refresh NFTs from this Collection"))&&F(n,"title",o)},i:e,o:e,d(t){t&&R(r),a=!1,l()}}}function sb(t,e,r){let{refreshing:n=!1}=e,{refresh:i=1}=e;return t.$$set=t=>{"refreshing"in t&&r(1,n=t.refreshing),"refresh"in t&&r(0,i=t.refresh)},[i,n,()=>r(0,i+=1)]}class ob extends Nt{constructor(t){super(),kt(this,t,sb,ib,a,{refreshing:1,refresh:0})}}var ab=lb;function lb(t){var e=this;if(e instanceof lb||(e=new lb),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}function ub(t,e,r){var n=e===t.head?new fb(r,null,e,t):new fb(r,e,e.next,t);return null===n.next&&(t.tail=n),null===n.prev&&(t.head=n),t.length++,n}function cb(t,e){t.tail=new fb(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function hb(t,e){t.head=new fb(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function fb(t,e,r,n){if(!(this instanceof fb))return new fb(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}lb.Node=fb,lb.create=lb,lb.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e},lb.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},lb.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},lb.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)cb(this,arguments[t]);return this.length},lb.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)hb(this,arguments[t]);return this.length},lb.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},lb.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},lb.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;null!==r;n++)t.call(e,r.value,n,this),r=r.next},lb.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;null!==r;n--)t.call(e,r.value,n,this),r=r.prev},lb.prototype.get=function(t){for(var e=0,r=this.head;null!==r&&e<t;e++)r=r.next;if(e===t&&null!==r)return r.value},lb.prototype.getReverse=function(t){for(var e=0,r=this.tail;null!==r&&e<t;e++)r=r.prev;if(e===t&&null!==r)return r.value},lb.prototype.map=function(t,e){e=e||this;for(var r=new lb,n=this.head;null!==n;)r.push(t.call(e,n.value,this)),n=n.next;return r},lb.prototype.mapReverse=function(t,e){e=e||this;for(var r=new lb,n=this.tail;null!==n;)r.push(t.call(e,n.value,this)),n=n.prev;return r},lb.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=t(r,n.value,i),n=n.next;return r},lb.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=t(r,n.value,i),n=n.prev;return r},lb.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;null!==r;e++)t[e]=r.value,r=r.next;return t},lb.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;null!==r;e++)t[e]=r.value,r=r.prev;return t},lb.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new lb;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;for(;null!==i&&n<e;n++,i=i.next)r.push(i.value);return r},lb.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var r=new lb;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;null!==i&&n>e;n--)i=i.prev;for(;null!==i&&n>t;n--,i=i.prev)r.push(i.value);return r},lb.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;null!==i&&n<t;n++)i=i.next;var s=[];for(n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=ub(this,i,r[n]);return s},lb.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};try{require("./iterator.js")(lb)}catch(t){}const db=ab,pb=Symbol("max"),mb=Symbol("length"),gb=Symbol("lengthCalculator"),vb=Symbol("allowStale"),yb=Symbol("maxAge"),bb=Symbol("dispose"),wb=Symbol("noDisposeOnSet"),Eb=Symbol("lruList"),_b=Symbol("cache"),kb=Symbol("updateAgeOnGet"),Nb=()=>1;const Ab=(t,e,r)=>{const n=t[_b].get(e);if(n){const e=n.value;if(xb(t,e)){if(Mb(t,n),!t[vb])return}else r&&(t[kb]&&(n.value.now=Date.now()),t[Eb].unshiftNode(n));return e.value}},xb=(t,e)=>{if(!e||!e.maxAge&&!t[yb])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[yb]&&r>t[yb]},Ib=t=>{if(t[mb]>t[pb])for(let e=t[Eb].tail;t[mb]>t[pb]&&null!==e;){const r=e.prev;Mb(t,e),e=r}},Mb=(t,e)=>{if(e){const r=e.value;t[bb]&&t[bb](r.key,r.value),t[mb]-=r.length,t[_b].delete(r.key),t[Eb].removeNode(e)}};class Rb{constructor(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}}const Sb=(t,e,r,n)=>{let i=r.value;xb(t,i)&&(Mb(t,r),t[vb]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var Pb=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[pb]=t.max||1/0;const e=t.length||Nb;if(this[gb]="function"!=typeof e?Nb:e,this[vb]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[yb]=t.maxAge||0,this[bb]=t.dispose,this[wb]=t.noDisposeOnSet||!1,this[kb]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[pb]=t||1/0,Ib(this)}get max(){return this[pb]}set allowStale(t){this[vb]=!!t}get allowStale(){return this[vb]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[yb]=t,Ib(this)}get maxAge(){return this[yb]}set lengthCalculator(t){"function"!=typeof t&&(t=Nb),t!==this[gb]&&(this[gb]=t,this[mb]=0,this[Eb].forEach((t=>{t.length=this[gb](t.value,t.key),this[mb]+=t.length}))),Ib(this)}get lengthCalculator(){return this[gb]}get length(){return this[mb]}get itemCount(){return this[Eb].length}rforEach(t,e){e=e||this;for(let r=this[Eb].tail;null!==r;){const n=r.prev;Sb(this,t,r,e),r=n}}forEach(t,e){e=e||this;for(let r=this[Eb].head;null!==r;){const n=r.next;Sb(this,t,r,e),r=n}}keys(){return this[Eb].toArray().map((t=>t.key))}values(){return this[Eb].toArray().map((t=>t.value))}reset(){this[bb]&&this[Eb]&&this[Eb].length&&this[Eb].forEach((t=>this[bb](t.key,t.value))),this[_b]=new Map,this[Eb]=new db,this[mb]=0}dump(){return this[Eb].map((t=>!xb(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[Eb]}set(t,e,r){if((r=r||this[yb])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,i=this[gb](e,t);if(this[_b].has(t)){if(i>this[pb])return Mb(this,this[_b].get(t)),!1;const s=this[_b].get(t).value;return this[bb]&&(this[wb]||this[bb](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[mb]+=i-s.length,s.length=i,this.get(t),Ib(this),!0}const s=new Rb(t,e,i,n,r);return s.length>this[pb]?(this[bb]&&this[bb](t,e),!1):(this[mb]+=s.length,this[Eb].unshift(s),this[_b].set(t,this[Eb].head),Ib(this),!0)}has(t){if(!this[_b].has(t))return!1;const e=this[_b].get(t).value;return!xb(this,e)}get(t){return Ab(this,t,!0)}peek(t){return Ab(this,t,!1)}pop(){const t=this[Eb].tail;return t?(Mb(this,t),t.value):null}del(t){Mb(this,this[_b].get(t))}load(t){this.reset();const e=Date.now();for(let r=t.length-1;r>=0;r--){const n=t[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const t=i-e;t>0&&this.set(n.k,n.v,t)}}}prune(){this[_b].forEach(((t,e)=>Ab(this,e,!1)))}};const Tb=["includePrerelease","loose","rtl"];var Ob=t=>t?"object"!=typeof t?{loose:!0}:Tb.filter((e=>t[e])).reduce(((t,e)=>(t[e]=!0,t)),{}):{},$b={exports:{}};var Cb={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var Fb="object"==typeof process&&process.env&&/\bsemver\b/i.test("false")?(...t)=>console.error("SEMVER",...t):()=>{};!function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=Cb,n=Fb,i=(e=t.exports={}).re=[],s=e.src=[],o=e.t={};let a=0;const l=(t,e,r)=>{const l=a++;n(t,l,e),o[t]=l,s[l]=e,i[l]=new RegExp(e,r?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),l("FULL",`^${s[o.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),l("LOOSE",`^${s[o.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),l("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),l("COERCERTL",s[o.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}($b,$b.exports);const Bb=/^[0-9]+$/,Lb=(t,e)=>{const r=Bb.test(t),n=Bb.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1};var Db={compareIdentifiers:Lb,rcompareIdentifiers:(t,e)=>Lb(e,t)};const Ub=Fb,{MAX_LENGTH:jb,MAX_SAFE_INTEGER:zb}=Cb,{re:Gb,t:qb}=$b.exports,Hb=Ob,{compareIdentifiers:Vb}=Db;class Jb{constructor(t,e){if(e=Hb(e),t instanceof Jb){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid Version: ${t}`);if(t.length>jb)throw new TypeError(`version is longer than ${jb} characters`);Ub("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?Gb[qb.LOOSE]:Gb[qb.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>zb||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zb||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zb||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<zb)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ub("SemVer.compare",this.version,this.options,t),!(t instanceof Jb)){if("string"==typeof t&&t===this.version)return 0;t=new Jb(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Jb||(t=new Jb(t,this.options)),Vb(this.major,t.major)||Vb(this.minor,t.minor)||Vb(this.patch,t.patch)}comparePre(t){if(t instanceof Jb||(t=new Jb(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],n=t.prerelease[e];if(Ub("prerelease compare",e,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Vb(r,n)}while(++e)}compareBuild(t){t instanceof Jb||(t=new Jb(t,this.options));let e=0;do{const r=this.build[e],n=t.build[e];if(Ub("prerelease compare",e,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return Vb(r,n)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(0===Vb(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error(`invalid increment argument: ${t}`)}return this.format(),this.raw=this.version,this}}var Wb=Jb;const Xb=Wb;var Kb=(t,e,r)=>new Xb(t,r).compare(new Xb(e,r));const Zb=Kb;const Yb=Kb;const Qb=Kb;const tw=Kb;const ew=Kb;const rw=Kb;const nw=(t,e,r)=>0===Zb(t,e,r),iw=(t,e,r)=>0!==Yb(t,e,r),sw=(t,e,r)=>Qb(t,e,r)>0,ow=(t,e,r)=>tw(t,e,r)>=0,aw=(t,e,r)=>ew(t,e,r)<0,lw=(t,e,r)=>rw(t,e,r)<=0;var uw=(t,e,r,n)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return nw(t,r,n);case"!=":return iw(t,r,n);case">":return sw(t,r,n);case">=":return ow(t,r,n);case"<":return aw(t,r,n);case"<=":return lw(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};const cw=Symbol("SemVer ANY");class hw{static get ANY(){return cw}constructor(t,e){if(e=dw(e),t instanceof hw){if(t.loose===!!e.loose)return t;t=t.value}vw("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===cw?this.value="":this.value=this.operator+this.semver.version,vw("comp",this)}parse(t){const e=this.options.loose?pw[mw.COMPARATORLOOSE]:pw[mw.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new yw(r[2],this.options.loose):this.semver=cw}toString(){return this.value}test(t){if(vw("Comparator.test",t,this.options.loose),this.semver===cw||t===cw)return!0;if("string"==typeof t)try{t=new yw(t,this.options)}catch(t){return!1}return gw(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof hw))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new bw(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new bw(this.value,e).test(t.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),i=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),o=gw(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),a=gw(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||i&&s||o||a}}var fw=hw;const dw=Ob,{re:pw,t:mw}=$b.exports,gw=uw,vw=Fb,yw=Wb,bw=Ew;class ww{constructor(t,e){if(e=kw(e),t instanceof ww)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new ww(t.raw,e);if(t instanceof Nw)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!Tw(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&Ow(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,r=_w.get(e);if(r)return r;const n=this.options.loose,i=n?Iw[Mw.HYPHENRANGELOOSE]:Iw[Mw.HYPHENRANGE];t=t.replace(i,Hw(this.options.includePrerelease)),Aw("hyphen replace",t),t=t.replace(Iw[Mw.COMPARATORTRIM],Rw),Aw("comparator trim",t);let s=(t=(t=(t=t.replace(Iw[Mw.TILDETRIM],Sw)).replace(Iw[Mw.CARETTRIM],Pw)).split(/\s+/).join(" ")).split(" ").map((t=>Cw(t,this.options))).join(" ").split(/\s+/).map((t=>qw(t,this.options)));n&&(s=s.filter((t=>(Aw("loose invalid filter",t,this.options),!!t.match(Iw[Mw.COMPARATORLOOSE]))))),Aw("range list",s);const o=new Map,a=s.map((t=>new Nw(t,this.options)));for(const t of a){if(Tw(t))return[t];o.set(t.value,t)}o.size>1&&o.has("")&&o.delete("");const l=[...o.values()];return _w.set(e,l),l}intersects(t,e){if(!(t instanceof ww))throw new TypeError("a Range is required");return this.set.some((r=>$w(r,e)&&t.set.some((t=>$w(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new xw(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(Vw(this.set[e],t,this.options))return!0;return!1}}var Ew=ww;const _w=new Pb({max:1e3}),kw=Ob,Nw=fw,Aw=Fb,xw=Wb,{re:Iw,t:Mw,comparatorTrimReplace:Rw,tildeTrimReplace:Sw,caretTrimReplace:Pw}=$b.exports,Tw=t=>"<0.0.0-0"===t.value,Ow=t=>""===t.value,$w=(t,e)=>{let r=!0;const n=t.slice();let i=n.pop();for(;r&&n.length;)r=n.every((t=>i.intersects(t,e))),i=n.pop();return r},Cw=(t,e)=>(Aw("comp",t,e),t=Dw(t,e),Aw("caret",t),t=Bw(t,e),Aw("tildes",t),t=jw(t,e),Aw("xrange",t),t=Gw(t,e),Aw("stars",t),t),Fw=t=>!t||"x"===t.toLowerCase()||"*"===t,Bw=(t,e)=>t.trim().split(/\s+/).map((t=>Lw(t,e))).join(" "),Lw=(t,e)=>{const r=e.loose?Iw[Mw.TILDELOOSE]:Iw[Mw.TILDE];return t.replace(r,((e,r,n,i,s)=>{let o;return Aw("tilde",t,e,r,n,i,s),Fw(r)?o="":Fw(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:Fw(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(Aw("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,Aw("tilde return",o),o}))},Dw=(t,e)=>t.trim().split(/\s+/).map((t=>Uw(t,e))).join(" "),Uw=(t,e)=>{Aw("caret",t,e);const r=e.loose?Iw[Mw.CARETLOOSE]:Iw[Mw.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,((e,r,i,s,o)=>{let a;return Aw("caret",t,e,r,i,s,o),Fw(r)?a="":Fw(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:Fw(s)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(Aw("replaceCaret pr",o),a="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(Aw("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),Aw("caret return",a),a}))},jw=(t,e)=>(Aw("replaceXRanges",t,e),t.split(/\s+/).map((t=>zw(t,e))).join(" ")),zw=(t,e)=>{t=t.trim();const r=e.loose?Iw[Mw.XRANGELOOSE]:Iw[Mw.XRANGE];return t.replace(r,((r,n,i,s,o,a)=>{Aw("xRange",t,r,n,i,s,o,a);const l=Fw(i),u=l||Fw(s),c=u||Fw(o),h=c;return"="===n&&h&&(n=""),a=e.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),"<"===n&&(a="-0"),r=`${n+i}.${s}.${o}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:c&&(r=`>=${i}.${s}.0${a} <${i}.${+s+1}.0-0`),Aw("xRange return",r),r}))},Gw=(t,e)=>(Aw("replaceStars",t,e),t.trim().replace(Iw[Mw.STAR],"")),qw=(t,e)=>(Aw("replaceGTE0",t,e),t.trim().replace(Iw[e.includePrerelease?Mw.GTE0PRE:Mw.GTE0],"")),Hw=t=>(e,r,n,i,s,o,a,l,u,c,h,f,d)=>`${r=Fw(n)?"":Fw(i)?`>=${n}.0.0${t?"-0":""}`:Fw(s)?`>=${n}.${i}.0${t?"-0":""}`:o?`>=${r}`:`>=${r}${t?"-0":""}`} ${l=Fw(u)?"":Fw(c)?`<${+u+1}.0.0-0`:Fw(h)?`<${u}.${+c+1}.0-0`:f?`<=${u}.${c}.${h}-${f}`:t?`<${u}.${c}.${+h+1}-0`:`<=${l}`}`.trim(),Vw=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(Aw(t[r].semver),t[r].semver!==Nw.ANY&&t[r].semver.prerelease.length>0){const n=t[r].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0},Jw=Ew;var Ww=(t,e,r)=>{try{e=new Jw(e,r)}catch(t){return!1}return e.test(t)};function Xw(t){let r,n,i,s;return{c(){r=P("h1"),n=T("My NFTs Factory "),i=T(t[0]),F(r,"title",s="Kredeum NFTs Factory "+t[1])},m(t,e){M(t,r,e),A(r,n),A(r,i)},p(t,[e]){1&e&&B(i,t[0]),2&e&&s!==(s="Kredeum NFTs Factory "+t[1])&&F(r,"title",s)},i:e,o:e,d(t){t&&R(r)}}}const Kw="version";function Zw(t,e,r){const n=Al.latest;let i="",s="";return X((()=>{r(0,i="(beta)"),r(1,s=`v${n} (beta #eb7c8a5)`),console.log(`INIT Kredeum NFTs Factory ${s}`),(()=>{if("undefined"!=typeof localStorage){const t=localStorage.getItem(Kw);Ww(n,`~${t}`)||(console.info(`New version${t?", previously "+t:""} => cache cleared`),localStorage.clear(),localStorage.setItem(Kw,n))}console.log("Current Version",n)})()})),[i,s]}class Yw extends Nt{constructor(t){super(),kt(this,t,Zw,Xw,a,{})}}const Qw=t=>({}),tE=t=>({}),eE=t=>({}),rE=t=>({}),nE=t=>({}),iE=t=>({});function sE(t){let e,r,n,i,s,o,a,l,u;const c=t[1].nav,h=d(c,t,t[0],iE),f=t[1].header,p=d(f,t,t[0],rE),y=t[1].content,b=d(y,t,t[0],tE);return{c(){e=P("div"),r=P("nav"),h&&h.c(),n=O(),i=P("main"),s=P("div"),o=P("section"),a=P("header"),p&&p.c(),l=O(),b&&b.c(),F(r,"class","nav-krd"),F(o,"class","content"),F(s,"id","kredeum-list"),F(i,"class","main-krd"),F(e,"id","kredeum-nfts")},m(t,c){M(t,e,c),A(e,r),h&&h.m(r,null),A(e,n),A(e,i),A(i,s),A(s,o),A(o,a),p&&p.m(a,null),A(o,l),b&&b.m(o,null),u=!0},p(t,[e]){h&&h.p&&(!u||1&e)&&g(h,c,t,t[0],u?m(c,t[0],e,nE):v(t[0]),iE),p&&p.p&&(!u||1&e)&&g(p,f,t,t[0],u?m(f,t[0],e,eE):v(t[0]),rE),b&&b.p&&(!u||1&e)&&g(b,y,t,t[0],u?m(y,t[0],e,Qw):v(t[0]),tE)},i(t){u||(pt(h,t),pt(p,t),pt(b,t),u=!0)},o(t){mt(h,t),mt(p,t),mt(b,t),u=!1},d(t){t&&R(e),h&&h.d(t),p&&p.d(t),b&&b.d(t)}}}function oE(t,e,r){let{$$slots:n={},$$scope:i}=e;return t.$$set=t=>{"$$scope"in t&&r(0,i=t.$$scope)},[i,n]}class aE extends Nt{constructor(t){super(),kt(this,t,oE,sE,a,{})}}function lE(t,{delay:e=0,duration:n=400,easing:i=r}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:t=>"opacity: "+t*s}}function uE(t){let r,n,i;return{c(){r=P("img"),u(r.src,n=t[0])||F(r,"src",n),F(r,"alt",t[1]),F(r,"height",i=t[2]?`${t[2]}px`:"")},m(t,e){M(t,r,e)},p(t,[e]){1&e&&!u(r.src,n=t[0])&&F(r,"src",n),2&e&&F(r,"alt",t[1]),4&e&&i!==(i=t[2]?`${t[2]}px`:"")&&F(r,"height",i)},i:e,o:e,d(t){t&&R(r)}}}function cE(t,e,r){let{mediaSrc:n}=e,{alt:i="image"}=e,{height:s}=e;return t.$$set=t=>{"mediaSrc"in t&&r(0,n=t.mediaSrc),"alt"in t&&r(1,i=t.alt),"height"in t&&r(2,s=t.height)},[n,i,s]}class hE extends Nt{constructor(t){super(),kt(this,t,cE,uE,a,{mediaSrc:0,alt:1,height:2})}}function fE(t){let e,r,n;return{c(){e=P("video"),r=P("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!0,e.controls=!0,F(e,"controlslist","nodownload"),e.loop=!0,e.playsInline=!0,F(e,"preload","metadata"),D(e,"border-radius","initial")},m(t,n){M(t,e,n),A(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&R(e)}}}function dE(t){let e;function r(t,e){return"grid"===t[2]?gE:"list"===t[2]?mE:pE}let n=r(t),i=n(t);return{c(){i.c(),e=$()},m(t,r){i.m(t,r),M(t,e,r)},p(t,s){n===(n=r(t))&&i?i.p(t,s):(i.d(1),i=n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&R(e)}}}function pE(t){let e,r,n;return{c(){e=P("video"),r=P("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!0,F(e,"preload","metadata"),e.controls=!0,e.loop=!0,e.playsInline=!0,e.muted=!0,D(e,"border-radius","initial")},m(t,n){M(t,e,n),A(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&R(e)}}}function mE(t){let e,r,n;return{c(){e=P("video"),r=P("source"),u(r.src,n=t[1])||F(r,"src",n),F(r,"type","video/mp4"),e.autoplay=!1,e.playsInline=!0,D(e,"border-radius","initial")},m(t,n){M(t,e,n),A(e,r)},p(t,e){2&e&&!u(r.src,n=t[1])&&F(r,"src",n)},d(t){t&&R(e)}}}function gE(t){let e,r,n,i,o,a,l,c,h,f=!0;return{c(){e=P("video"),r=P("track"),i=O(),o=P("button"),a=P("i"),F(r,"kind","captions"),e.autoplay=!1,u(e.src,n=t[1])||F(e,"src",n),F(e,"preload","metadata"),e.loop=!0,e.playsInline=!0,D(e,"border-radius","initial"),F(a,"class",l="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-17t6d8h"),F(o,"class","video-play-button svelte-17t6d8h")},m(n,s){M(n,e,s),A(e,r),M(n,i,s),M(n,o,s),A(o,a),c||(h=[C(e,"play",t[8]),C(e,"pause",t[8]),C(o,"click",t[5])],c=!0)},p(t,r){2&r&&!u(e.src,n=t[1])&&F(e,"src",n),1&r&&f!==(f=t[0])&&e[f?"pause":"play"](),1&r&&l!==(l="fa "+(t[0]?"fa-play-circle":"fa-pause-circle")+" video-play-icon svelte-17t6d8h")&&F(a,"class",l)},d(t){t&&R(e),t&&R(i),t&&R(o),c=!1,s(h)}}}function vE(t){let r;function n(t,e){return t[3]?dE:fE}let i=n(t),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,[e]){i===(i=n(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:e,o:e,d(t){s.d(t),t&&R(r)}}}function yE(t,e,r){let n,{mediaSrc:i}=e,{displayMode:s="list"}=e,{index:o=-1}=e,{paused:a=!0}=e,{small:l=!1}=e,u=function(t){return W().$$.context.get(t)}("toPlayIndex");f(t,u,(t=>r(7,n=t)));return t.$$set=t=>{"mediaSrc"in t&&r(1,i=t.mediaSrc),"displayMode"in t&&r(2,s=t.displayMode),"index"in t&&r(6,o=t.index),"paused"in t&&r(0,a=t.paused),"small"in t&&r(3,l=t.small)},t.$$.update=()=>{128&t.$$.dirty&&n>=0&&r(0,a=n!==o)},[a,i,s,l,u,()=>{r(0,a=!a),y(u,n=n!==o?Number(o):-1,n)},o,n,function(){a=this.paused,r(0,a)}]}class bE extends Nt{constructor(t){super(),kt(this,t,yE,vE,a,{mediaSrc:1,displayMode:2,index:6,paused:0,small:3})}}function wE(t){let e,r;return e=new bE({props:{mediaSrc:t[5],displayMode:t[2],index:t[1],small:t[3]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};32&r&&(n.mediaSrc=t[5]),4&r&&(n.displayMode=t[2]),2&r&&(n.index=t[1]),8&r&&(n.small=t[3]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function EE(t){let e,r;return e=new hE({props:{mediaSrc:t[5],alt:t[0]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};32&r&&(n.mediaSrc=t[5]),1&r&&(n.alt=t[0]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function _E(t){let e,r,n,i,s,o;const a=[EE,wE],l=[];function u(t,e){return"image"===t[4]?0:"video"===t[4]?1:-1}return~(r=u(t))&&(n=l[r]=a[r](t)),{c(){e=P("div"),n&&n.c(),F(e,"id",i="media-"+t[6]+"-"+t[1]),F(e,"class",s="media "+t[7]+" media-"+t[4]+t[8])},m(t,n){M(t,e,n),~r&&l[r].m(e,null),o=!0},p(t,[c]){let h=r;r=u(t),r===h?~r&&l[r].p(t,c):(n&&(ft(),mt(l[h],1,1,(()=>{l[h]=null})),dt()),~r?(n=l[r],n?n.p(t,c):(n=l[r]=a[r](t),n.c()),pt(n,1),n.m(e,null)):n=null),(!o||2&c&&i!==(i="media-"+t[6]+"-"+t[1]))&&F(e,"id",i),(!o||16&c&&s!==(s="media "+t[7]+" media-"+t[4]+t[8]))&&F(e,"class",s)},i(t){o||(pt(n),o=!0)},o(t){mt(n),o=!1},d(t){t&&R(e),~r&&l[r].d()}}}function kE(t,e,r){let{nft:n}=e,{index:i}=e,{displayMode:s="list"}=e,{small:o=!0}=e,{alt:a=n.name||"media"}=e,l=o?"small":"full",u="list"===s?"media-small":"media-grid",c="grid"===s?" a-simul-cursor":"",h="image",f="";return t.$$set=t=>{"nft"in t&&r(9,n=t.nft),"index"in t&&r(1,i=t.index),"displayMode"in t&&r(2,s=t.displayMode),"small"in t&&r(3,o=t.small),"alt"in t&&r(0,a=t.alt)},t.$$.update=()=>{512&t.$$.dirty&&n&&(()=>{var t;const e=null===(t=n.contentType)||void 0===t?void 0:t.split("/");r(4,h=e[0]),r(5,f=hy(n)),r(0,a=h)})()},[a,i,s,o,h,f,l,u,c,n]}class NE extends Nt{constructor(t){super(),kt(this,t,kE,_E,a,{nft:9,index:1,displayMode:2,small:3,alt:0})}}function AE(t){let e,r,n,i,a,l,u,c,h,f,d,p;return u=new NE({props:{nft:t[0],index:t[1],displayMode:"preview",small:!1,alt:t[2]}}),{c(){e=P("div"),r=P("div"),n=P("div"),i=P("span"),i.innerHTML='<i class="fa fa-times"></i>',a=O(),l=P("div"),bt(u.$$.fragment),F(i,"title","Close"),F(i,"class","modal-close krd-pointer svelte-4d660i"),F(l,"class","modal-body"),F(n,"class","modal-content"),F(e,"id","zoom"),F(e,"class","modal-window svelte-4d660i")},m(s,o){M(s,e,o),A(e,r),A(r,n),A(n,i),A(n,a),A(n,l),wt(u,l,null),f=!0,d||(p=[C(i,"click",t[5]),b(c=Sg.call(null,r,t[6]))],d=!0)},p(t,e){const r={};1&e&&(r.nft=t[0]),2&e&&(r.index=t[1]),4&e&&(r.alt=t[2]),u.$set(r),c&&o(c.update)&&8&e&&c.update.call(null,t[6])},i(t){f||(pt(u.$$.fragment,t),rt((()=>{h||(h=vt(e,lE,{},!0)),h.run(1)})),f=!0)},o(t){mt(u.$$.fragment,t),h||(h=vt(e,lE,{},!1)),h.run(0),f=!1},d(t){t&&R(e),Et(u),t&&h&&h.end(),d=!1,s(p)}}}function xE(t){let e,r,n,i,s,o,a,l,u,c,h,f;o=new NE({props:{nft:t[0],index:t[1],displayMode:"preview",alt:t[2]}});let d=t[3]&&AE(t);return{c(){e=P("div"),r=P("div"),n=P("span"),i=P("i"),s=O(),bt(o.$$.fragment),l=O(),d&&d.c(),u=$(),F(i,"class","fas fa-search svelte-4d660i"),F(n,"class",a="krd-pointer "+(t[0].contentType?.startsWith("video")?"no-zoom-hover":"zoom-hover")+" svelte-4d660i"),F(r,"class","media svelte-4d660i"),F(e,"class","media-zoom svelte-4d660i")},m(a,p){M(a,e,p),A(e,r),A(r,n),A(n,i),A(n,s),wt(o,n,null),M(a,l,p),d&&d.m(a,p),M(a,u,p),c=!0,h||(f=C(n,"click",t[4]),h=!0)},p(t,[e]){const r={};1&e&&(r.nft=t[0]),2&e&&(r.index=t[1]),4&e&&(r.alt=t[2]),o.$set(r),(!c||1&e&&a!==(a="krd-pointer "+(t[0].contentType?.startsWith("video")?"no-zoom-hover":"zoom-hover")+" svelte-4d660i"))&&F(n,"class",a),t[3]?d?(d.p(t,e),8&e&&pt(d,1)):(d=AE(t),d.c(),pt(d,1),d.m(u.parentNode,u)):d&&(ft(),mt(d,1,1,(()=>{d=null})),dt())},i(t){c||(pt(o.$$.fragment,t),pt(d),c=!0)},o(t){mt(o.$$.fragment,t),mt(d),c=!1},d(t){t&&R(e),Et(o),t&&R(l),d&&d.d(t),t&&R(u),h=!1,f()}}}function IE(t,e,r){let{nft:n}=e,{index:i}=e,{alt:s=n.name||"media"}=e,o=!1;return t.$$set=t=>{"nft"in t&&r(0,n=t.nft),"index"in t&&r(1,i=t.index),"alt"in t&&r(2,s=t.alt)},[n,i,s,o,()=>r(3,o=!0),()=>r(3,o=!1),()=>{r(3,o=!1)}]}class ME extends Nt{constructor(t){super(),kt(this,t,IE,xE,a,{nft:0,index:1,alt:2})}}const RE=async t=>{const e=`[kredeum_sell chain="${t.chainName}" collection="${t.address}" tokenid="${t.tokenID}" cid="${t.image}" image=50]${ou(t)}[/kredeum_sell]`;await navigator.clipboard.writeText(e).catch((()=>console.log("Not copied"))),console.log("Copied")},SE=async(t,e,r,n,i={chainId:t,address:e})=>{var s,o;const a={chainId:t,address:e,tokenID:r};if(!(t&&e&&r&&await Ml(n,t)))return a;let l="",u="",c="";try{if(null===(s=null==i?void 0:i.supports)||void 0===s?void 0:s.IERC721Metadata){const s=await pv(t,e,n);l=i.name||await s.name()||xl,c=await s.ownerOf(r),u=await s.tokenURI(r)}if(null===(o=null==i?void 0:i.supports)||void 0===o?void 0:o.IERC1155MetadataURI){const i=await pv(t,e,n);u=await i.uri(r)}a.nid=cu(t,e,r),l&&(a.contractName=l),c&&(a.owner=c),u&&(a.tokenURI=u)}catch(n){console.error(`ERROR nftGetFromContract ${cu(t,e,r)}\n`,n)}return a},PE=async(t,e,r,n,i,s)=>{var o;let a={chainId:t,address:e,tokenID:""},l=ae.from(-1);if(!(t&&e&&r>=0&&await Ml(n,t)&&(null===(o=null==i?void 0:i.supports)||void 0===o?void 0:o.IERC721Enumerable)))return a;try{const o=await pv(t,e,n);o&&(s?l=await o.tokenOfOwnerByIndex(s,ae.from(r)):(l=await o.tokenByIndex(r),s=await o.ownerOf(l)),a=await SE(t,e,l.toString(),n,i))}catch(e){console.error("ERROR nftGetFromContractEnumerable",t,r,s,i,e)}return a},{subscribe:TE,set:OE,update:$E}=Ym((()=>{const t=new Map;for(let e=0;e<localStorage.length;e++){const r=localStorage.key(e);(null==r?void 0:r.startsWith("nft://"))&&t.set(r,JSON.parse(localStorage.getItem(r)))}return t})()),CE={subscribe:TE,set:OE,update:$E};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function FE(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=FE(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}const LE=async(t,e,r,n,i,s=10)=>{let o=new Map;return Pl(t)&&(o=await(async(t,e,r,n,i,s=10)=>{var o;const a=new Map;if(!(t&&e&&await Ml(r,t)&&(null===(o=null==n?void 0:n.supports)||void 0===o?void 0:o.IERC721Enumerable)))return a;try{const o=await pv(t,e,r);if(o){let l=s;i?l=Number(await o.balanceOf(i)):o.totalSupply&&(l=Number(await o.totalSupply()));for(let o=0;o<Math.min(l,s);o++){const s=await PE(t,e,o,r,n,i);s&&a.set(s.nid||"",s)}}}catch(t){console.error("nftListFromContract ERROR",t)}return a})(t,e,r,n,i,s),0===o.size&&(Tl(t)?o=await(async(t,e,r,n=10)=>{var i,s;const o=new Map;if(Pl(t)&&e){const a=`{\n      tokenContract( id: "${e.address.toLowerCase()}" ) {\n        tokens( first:${n} ${r?`where: { account: "${r.toLowerCase()}" }`:""} ) {\n          id\n          account{\n            id\n          }\n          tokenID\n          tokenURI\n        }\n      }\n    }`,l=await Nv(Tl(t)||"",a),u=(null===(i=null==l?void 0:l.tokenContract)||void 0===i?void 0:i.nfts)||[];for(let r=0;r<Math.min(u.length,n);r++){const i=u[r];if(r<n){const r={chainId:t,address:Sl(e.address),tokenID:i.tokenID,tokenURI:i.tokenURI,account:Sl(null===(s=i.account)||void 0===s?void 0:s.id),nid:cu(t,e.address,i.tokenID)};o.set(r.nid,r)}}}return o})(t,n,i,s):Ol(t)?o=await(async(t,e,r,n=10)=>{var i;const s=new Map;if(Pl(t)&&e&&r){const o=`{contract_address:"${Sl(e.address)}"}`,a=`/${Number(t)}/address/${r}/balances_v2/?nft=true&no-nft-fetch=false&match=${encodeURIComponent(o)}`;try{const o=null===(i=await Av(a))||void 0===i?void 0:i.items;if(null==o?void 0:o[0]){const i=o[0].nft_data;for(let o=0;o<Math.min(i.length,n);o++){const a=i[o];if(o<n){const n={chainId:t,address:Sl(e.address),tokenID:a.token_id,tokenURI:a.token_url,external_data:a.external_data,account:Sl(a.account||r),minter:Sl(a.original_owner),nid:cu(t,e.address,a.token_id)};s.set(n.nid,n)}}}}catch(t){console.error("ERROR nftListFromCovalent",t)}}return s})(t,n,i,s):console.error("No NFTs found:-("))),o},DE=(t,e,r)=>`nft://${String(t)}/${e}/${r}`,UE=t=>{if(!t)return;const{chainId:e,address:r,tokenID:n}=t;e&&r&&n&&CE.update((i=>{const s=DE(e,r,n),o=i.get(s),a=(l=o,u=t,Object.assign({chainId:1,address:"",tokenID:""},l||{},u||{}));var l,u;return"undefined"!=typeof localStorage&&localStorage.setItem(s,JSON.stringify(a)),i.set(s,t)}))},jE={getKey:DE,getOneStore:(t,e,r)=>Qm(CE,(n=>n.get(DE(t,e,r)))),refreshOne:async(t,e,r)=>{if(!(t&&e&&r))return;const n=h(Fv.getListStore).get(Fv.getKey(t,e)),i=await(async(t,e,r,n,i,s=!1)=>{let o={chainId:t,address:e,tokenID:r};return t&&e&&r?(o=await SE(t,e,r,n,i),s?await fy(o):o):o})(t,e,r,h(ng),n,!0);UE(i)},setOne:UE,getListStore:CE,getSubListStore:(t,e,r)=>Qm(jE.getListStore,(n=>t&&e?new Map([...n].filter((([,n])=>n.chainId===t&&n.address===e&&(n.owner===r||!(r&&n.owner))))):new Map)),refreshSubList:async(t,e,r)=>{var n,i,s,o;if(!t||!e)return;const a=Fv.getKey(t,e),l=h(_v);let u=l.get(a);if((null==u?void 0:u.supports)||(await Fv.refreshOne(t,e),u=l.get(a)),null===(s=null==u?void 0:u.supports)||void 0===s?void 0:s.IERC721Enumerable){const e=null===(o=u.balancesOf)||void 0===o?void 0:o.get(r);for(let n=0;n<e;n++){const e=await PE(t,u.address,n,h(ng),u,r);e&&jE.setOne(await fy(e))}}else{const e=await LE(t,u.address,h(ng),u,r);try{for(var c,f=BE(e.values());!(c=await f.next()).done;){const t=c.value;jE.setOne(await fy(t))}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=f.return)&&await i.call(f)}finally{if(n)throw n.error}}}}};function zE(t){let e,r,n,i,o,a,l,u,c,h,f,d,p,m;return{c(){e=P("div"),r=P("i"),n=T(" Transfer this NFT #"),i=T(t[2]),o=T(" to what address ?"),a=O(),l=P("div"),u=P("div"),c=P("input"),h=O(),f=P("div"),d=P("button"),d.textContent="Transfer",F(r,"class","fas fa-gift"),F(e,"class","titre"),F(c,"type","text"),F(c,"placeholder","destinator address"),F(u,"class","form-field"),F(l,"class","section"),F(d,"class","btn btn-default btn-sell"),F(d,"type","submit"),F(f,"class","txtright")},m(s,g){M(s,e,g),A(e,r),A(e,n),A(e,i),A(e,o),M(s,a,g),M(s,l,g),A(l,u),A(u,c),L(c,t[6]),M(s,h,g),M(s,f,g),A(f,d),p||(m=[C(c,"input",t[9]),C(d,"click",t[10])],p=!0)},p(t,e){4&e&&B(i,t[2]),64&e&&c.value!==t[6]&&L(c,t[6])},d(t){t&&R(e),t&&R(a),t&&R(l),t&&R(h),t&&R(f),p=!1,s(m)}}}function GE(t){let e,r,n;function i(t,e){return t[3]?VE:HE}let s=i(t),o=s(t);return{c(){e=P("div"),e.innerHTML='<i class="fas fa-sync fa-left c-green"></i>Transfering NFT...',r=O(),n=P("div"),o.c(),F(e,"class","titre"),F(n,"class","section")},m(t,i){M(t,e,i),M(t,r,i),M(t,n,i),o.m(n,null)},p(t,e){s!==(s=i(t))&&(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},d(t){t&&R(e),t&&R(r),t&&R(n),o.d()}}}function qE(t){let e,r,n,i,s,o,a,l,u;return{c(){e=P("div"),r=P("div"),n=P("i"),i=T("\n              NFT\n              "),s=P("a"),o=T("#"),a=T(t[2]),u=T("\n              transfered!"),F(n,"class","fas fa-check fa-left c-green"),F(s,"class","link"),F(s,"href",l=nu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}"),F(s,"target","_blank"),F(r,"class","titre")},m(t,l){M(t,e,l),A(e,r),A(r,n),A(r,i),A(r,s),A(s,o),A(s,a),A(r,u)},p(t,e){4&e&&B(a,t[2]),7&e&&l!==(l=nu(t[0],{chainId:t[0],address:t[1],tokenID:t[2]})+"}")&&F(s,"href",l)},d(t){t&&R(e)}}}function HE(t){let e;return{c(){e=T("Sign the transaction")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function VE(t){let e;return{c(){e=T("Wait till completed, it may take one minute or more.")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function JE(t){let e,r,n,i,s=Dl(t[3])+"";return{c(){e=P("div"),r=P("a"),n=T(s),F(r,"class","link"),F(r,"href",i=Yl(t[7],t[3])),F(r,"target","_blank"),F(e,"class","flex")},m(t,i){M(t,e,i),A(e,r),A(r,n)},p(t,e){8&e&&s!==(s=Dl(t[3])+"")&&B(n,s),136&e&&i!==(i=Yl(t[7],t[3]))&&F(r,"href",i)},d(t){t&&R(e)}}}function WE(t){let r,n,i,s,o,a,l;function u(t,e){return t[5]?qE:t[4]?GE:zE}let c=u(t),h=c(t),f=t[3]&&JE(t);return{c(){r=P("div"),n=P("div"),i=P("a"),i.innerHTML='<i class="fa fa-times"></i>',s=O(),o=P("div"),a=P("div"),h.c(),l=O(),f&&f.c(),F(i,"href","./#"),F(i,"title","Close"),F(i,"class","modal-close"),F(o,"class","modal-body"),F(n,"class","modal-content"),F(r,"id","kredeum-transfer-nft")},m(t,e){M(t,r,e),A(r,n),A(n,i),A(n,s),A(n,o),A(o,a),h.m(a,null),A(a,l),f&&f.m(a,null)},p(t,[e]){c===(c=u(t))&&h?h.p(t,e):(h.d(1),h=c(t),h&&(h.c(),h.m(a,l))),t[3]?f?f.p(t,e):(f=JE(t),f.c(),f.m(a,null)):f&&(f.d(1),f=null)},i:e,o:e,d(t){t&&R(r),h.d(),f&&f.d()}}}function XE(t,e,r){let n,i;f(t,ig,(t=>r(11,n=t))),f(t,eg,(t=>r(7,i=t)));let{chainId:s}=e,{address:o}=e,{tokenID:a}=e,l=null,u=!1,c=!1,h="";const d=async()=>{if(n){r(3,l=null),r(4,u=!0),r(5,c=!1);const t=await(async(t,e,r,n,i)=>{let s;if(t&&e&&r&&n&&i){const o=Pl(t),a=await i.getAddress(),l=await pv(t,e,i.provider);s=await l.connect(i).transferFrom(a,n,r),console.log(`${null==o?void 0:o.blockExplorerUrls[0]}/tx/${null==s?void 0:s.hash}`)}return s})(s,o,a,h,n);r(3,l=t.hash);const e=await(async t=>await t.wait())(t);r(5,c=Boolean(e.status)),r(4,u=!1)}};return t.$$set=t=>{"chainId"in t&&r(0,s=t.chainId),"address"in t&&r(1,o=t.address),"tokenID"in t&&r(2,a=t.tokenID)},[s,o,a,l,u,c,h,i,d,function(){h=this.value,r(6,h)},()=>d()]}class KE extends Nt{constructor(t){super(),kt(this,t,XE,WE,a,{chainId:0,address:1,tokenID:2})}}function ZE(t){let e,r,n,i,s,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x,I,S,$,C,L,D,U,j,z,G,q,H,V,J,W,X,K,Z,Y,Q,tt,et,rt,nt,it,st,ot,at,lt,ut,ct,ht,ft,dt,gt,vt,yt,_t,kt,Nt,At,xt,It,Mt,Rt,St,Pt=t[5].name+"",Tt=t[5].description+"",Ot=iu(t[0],t[5].owner,15)+"",$t=Ll(t[5],10)+"",Ct=t[5].ipfsJson+"",Ft=t[5].ipfs+"",Bt=Pl(t[0])?.openSea;o=new ME({props:{nft:t[5],index:Number(t[2])}});let Lt="wordpress"===t[4]&&YE(),Dt=Bt&&QE(t);return{c(){e=P("h2"),e.innerHTML='<i class="fa fa-arrow-left fa-left"></i><span data-back="backtocoll" class="link">Return to collection</span>',r=O(),n=P("div"),i=P("div"),s=P("div"),bt(o.$$.fragment),a=O(),l=P("div"),u=P("div"),c=P("h3"),h=T(Pt),f=O(),d=P("p"),p=T(Tt),m=O(),g=P("ul"),v=P("li"),y=P("div"),y.innerHTML='<span class="label"><strong>Token ID</strong></span>',b=O(),w=P("div"),E=P("strong"),_=T("#"),k=T(t[2]),N=O(),x=P("li"),I=P("div"),I.innerHTML='<span class="label">Owner</span>',S=O(),$=P("div"),C=O(),L=P("li"),D=P("div"),D.innerHTML='<span class="label">Permanent link</span>',U=O(),j=P("div"),z=P("a"),H=O(),V=P("li"),J=P("div"),J.innerHTML='<span class="label">collection @</span>',W=O(),X=P("div"),K=P("a"),Z=T(t[1]),Q=O(),tt=P("li"),et=P("div"),et.innerHTML='<span class="label">Metadata ipfs</span>',rt=O(),nt=P("div"),it=P("a"),st=T(Ct),lt=O(),ut=P("li"),ct=P("div"),ct.innerHTML='<span class="label">Image</span>',ht=O(),ft=P("div"),dt=P("a"),gt=T(Ft),_t=O(),kt=P("div"),Lt&&Lt.c(),Nt=O(),At=P("a"),xt=P("i"),It=T(" Transfer"),Rt=O(),Dt&&Dt.c(),F(e,"class","m-b-20 return"),F(s,"class","card-krd"),F(i,"class","col col-xs-12 col-sm-4 col-md-3"),F(y,"class","flex"),F(w,"class","flex"),F(I,"class","flex"),F($,"class","flex"),F(D,"class","flex"),F(z,"class","link overflow-ellipsis"),F(z,"href",G=ru(t[0],t[5])),F(z,"title",q=Ll(t[5],10)),F(z,"target","_blank"),F(j,"class","flex"),F(J,"class","flex"),F(K,"class","link overflow-ellipsis"),F(K,"href",Y=eu(t[0],t[1])),F(K,"title",t[1]),F(K,"target","_blank"),F(X,"class","flex"),F(et,"class","flex"),F(it,"class","link overflow-ellipsis"),F(it,"href",ot=t[5].tokenURI),F(it,"title",at=t[5].ipfsJson),F(it,"target","_blank"),F(nt,"class","flex"),F(ct,"class","flex"),F(dt,"class","link overflow-ellipsis"),F(dt,"href",vt=t[5].image),F(dt,"title",yt=t[5].ipfs),F(dt,"target","_blank"),F(ft,"class","flex"),F(g,"class","steps"),F(xt,"class","fa fa-gift"),F(At,"href",Mt="#transfert-nft-"+t[2]),F(At,"class","btn btn-small btn-outline"),F(At,"title","Make a gift"),F(kt,"class","p-t-40 p-b-40 grid-buttons"),F(u,"class","card-krd"),F(l,"class","col col-xs-12 col-sm-8 col-md-9"),F(n,"class","row")},m(t,R){M(t,e,R),M(t,r,R),M(t,n,R),A(n,i),A(i,s),wt(o,s,null),A(n,a),A(n,l),A(l,u),A(u,c),A(c,h),A(u,f),A(u,d),A(d,p),A(u,m),A(u,g),A(g,v),A(v,y),A(v,b),A(v,w),A(w,E),A(E,_),A(E,k),A(g,N),A(g,x),A(x,I),A(x,S),A(x,$),$.innerHTML=Ot,A(g,C),A(g,L),A(L,D),A(L,U),A(L,j),A(j,z),z.innerHTML=$t,A(g,H),A(g,V),A(V,J),A(V,W),A(V,X),A(X,K),A(K,Z),A(g,Q),A(g,tt),A(tt,et),A(tt,rt),A(tt,nt),A(nt,it),A(it,st),A(g,lt),A(g,ut),A(ut,ct),A(ut,ht),A(ut,ft),A(ft,dt),A(dt,gt),A(u,_t),A(u,kt),Lt&&Lt.m(kt,null),A(kt,Nt),A(kt,At),A(At,xt),A(At,It),A(kt,Rt),Dt&&Dt.m(kt,null),St=!0},p(t,e){const r={};32&e&&(r.nft=t[5]),4&e&&(r.index=Number(t[2])),o.$set(r),(!St||32&e)&&Pt!==(Pt=t[5].name+"")&&B(h,Pt),(!St||32&e)&&Tt!==(Tt=t[5].description+"")&&B(p,Tt),(!St||4&e)&&B(k,t[2]),(!St||33&e)&&Ot!==(Ot=iu(t[0],t[5].owner,15)+"")&&($.innerHTML=Ot),(!St||32&e)&&$t!==($t=Ll(t[5],10)+"")&&(z.innerHTML=$t),(!St||33&e&&G!==(G=ru(t[0],t[5])))&&F(z,"href",G),(!St||32&e&&q!==(q=Ll(t[5],10)))&&F(z,"title",q),(!St||2&e)&&B(Z,t[1]),(!St||3&e&&Y!==(Y=eu(t[0],t[1])))&&F(K,"href",Y),(!St||2&e)&&F(K,"title",t[1]),(!St||32&e)&&Ct!==(Ct=t[5].ipfsJson+"")&&B(st,Ct),(!St||32&e&&ot!==(ot=t[5].tokenURI))&&F(it,"href",ot),(!St||32&e&&at!==(at=t[5].ipfsJson))&&F(it,"title",at),(!St||32&e)&&Ft!==(Ft=t[5].ipfs+"")&&B(gt,Ft),(!St||32&e&&vt!==(vt=t[5].image))&&F(dt,"href",vt),(!St||32&e&&yt!==(yt=t[5].ipfs))&&F(dt,"title",yt),"wordpress"===t[4]?Lt||(Lt=YE(),Lt.c(),Lt.m(kt,Nt)):Lt&&(Lt.d(1),Lt=null),(!St||4&e&&Mt!==(Mt="#transfert-nft-"+t[2]))&&F(At,"href",Mt),1&e&&(Bt=Pl(t[0])?.openSea),Bt?Dt?Dt.p(t,e):(Dt=QE(t),Dt.c(),Dt.m(kt,null)):Dt&&(Dt.d(1),Dt=null)},i(t){St||(pt(o.$$.fragment,t),St=!0)},o(t){mt(o.$$.fragment,t),St=!1},d(t){t&&R(e),t&&R(r),t&&R(n),Et(o),Lt&&Lt.d(),Dt&&Dt.d()}}}function YE(t){let e;return{c(){e=P("a"),e.innerHTML='<i class="fa fa-code"></i><span>Get shortcode</span>',F(e,"href","#schortcodes"),F(e,"class","btn btn-small btn-outline"),F(e,"title","Get shortcode")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function QE(t){let e,r;function n(t,r){return 40&r&&(e=null),null==e&&(e=!!jl(t[5].owner,t[3])),e?e_:t_}let i=n(t,-1),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,e){i===(i=n(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},d(t){s.d(t),t&&R(r)}}}function t_(t){let e,r,n;return{c(){e=P("a"),r=T("Buy"),F(e,"href",n=su(t[0],t[5])),F(e,"class","btn btn-small btn-buy"),F(e,"title","Buy"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){33&r&&n!==(n=su(t[0],t[5]))&&F(e,"href",n)},d(t){t&&R(e)}}}function e_(t){let e,r,n;return{c(){e=P("a"),r=T("Sell"),F(e,"href",n=su(t[0],t[5])),F(e,"class","btn btn-small btn-sell"),F(e,"title","Sell"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){33&r&&n!==(n=su(t[0],t[5]))&&F(e,"href",n)},d(t){t&&R(e)}}}function r_(t){let e,r,n,i,s,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x=t[5]&&ZE(t);return w=new KE({props:{chainId:t[0],address:t[1],tokenID:t[2]}}),{c(){x&&x.c(),e=O(),r=P("div"),n=P("div"),i=P("div"),s=P("a"),s.innerHTML='<i class="fa fa-times"></i>',o=O(),a=P("div"),l=P("div"),l.innerHTML='<i class="fas fa-code fa-left c-green"></i>\n          Shortcodes',u=O(),c=P("p"),c.textContent="Click on the Copy Button to copy the shortcode in your clipboard and then paste it in a WordPress page.",h=O(),f=P("ul"),d=P("li"),p=P("div"),p.innerHTML='<span class="label">Sell direclty on Opensea</span>',m=O(),g=P("div"),v=P("a"),v.textContent="Copy",y=O(),b=P("div"),bt(w.$$.fragment),F(s,"href","./#"),F(s,"title","Close"),F(s,"class","modal-close"),F(l,"class","titre"),F(p,"class","flex"),F(v,"class","btn btn-small btn-outline"),F(v,"href","."),F(v,"title","Copy"),F(g,"class","flex"),F(f,"class","steps"),F(a,"class","modal-body"),F(i,"class","modal-content"),F(r,"id","schortcodes"),F(r,"class","modal-window"),F(b,"id",E="transfert-nft-"+t[5].tokenID),F(b,"class","modal-window")},m(E,I){var R;x&&x.m(E,I),M(E,e,I),M(E,r,I),A(r,n),A(n,i),A(i,s),A(i,o),A(i,a),A(a,l),A(a,u),A(a,c),A(a,h),A(a,f),A(f,d),A(d,p),A(d,m),A(d,g),A(g,v),M(E,y,I),M(E,b,I),wt(w,b,null),_=!0,k||(N=C(v,"click",(R=t[7],function(t){return t.preventDefault(),R.call(this,t)})),k=!0)},p(t,[r]){t[5]?x?(x.p(t,r),32&r&&pt(x,1)):(x=ZE(t),x.c(),pt(x,1),x.m(e.parentNode,e)):x&&(ft(),mt(x,1,1,(()=>{x=null})),dt());const n={};1&r&&(n.chainId=t[0]),2&r&&(n.address=t[1]),4&r&&(n.tokenID=t[2]),w.$set(n),(!_||32&r&&E!==(E="transfert-nft-"+t[5].tokenID))&&F(b,"id",E)},i(t){_||(pt(x),pt(w.$$.fragment,t),_=!0)},o(t){mt(x),mt(w.$$.fragment,t),_=!1},d(t){x&&x.d(t),t&&R(e),t&&R(r),t&&R(y),t&&R(b),Et(w),k=!1,N()}}}function n_(t,r,n){let i,s=e;t.$$.on_destroy.push((()=>s()));let o,{chainId:a}=r,{address:l}=r,{tokenID:u}=r,{account:h}=r,{platform:f="dapp"}=r;const d=()=>{n(6,o=jE.getOneStore(a,l,u)),s(),s=c(o,(t=>n(5,i=t))),jE.refreshOne(a,l,u).catch(console.error)};return t.$$set=t=>{"chainId"in t&&n(0,a=t.chainId),"address"in t&&n(1,l=t.address),"tokenID"in t&&n(2,u=t.tokenID),"account"in t&&n(3,h=t.account),"platform"in t&&n(4,f=t.platform)},t.$$.update=()=>{15&t.$$.dirty&&a&&l&&u&&d(),32&t.$$.dirty&&console.log("Nft",i)},[a,l,u,h,f,i,o,()=>RE(i)]}class i_ extends Nt{constructor(t){super(),kt(this,t,n_,r_,a,{chainId:0,address:1,tokenID:2,account:3,platform:4})}}function s_(t){let r,n,i,o,a,l,u,c,h,f,d;return{c(){r=P("div"),n=P("div"),i=P("input"),o=O(),a=P("label"),a.innerHTML='<i class="fas fa-th svelte-1a6rb9r"></i>',l=O(),u=P("input"),c=O(),h=P("label"),h.innerHTML='<i class="fas fa-list svelte-1a6rb9r"></i>',F(i,"class","box-field"),F(i,"id","display-grid-type"),F(i,"name","nfts-display-type"),F(i,"type","radio"),i.__value="grid",i.value=i.__value,t[2][0].push(i),F(a,"class","field"),F(a,"for","display-grid-type"),F(u,"class","box-field"),F(u,"id","display-list-type"),F(u,"name","nfts-display-type"),F(u,"type","radio"),u.__value="list",u.value=u.__value,t[2][0].push(u),F(h,"class","field"),F(h,"for","display-list-type"),F(n,"class","box-fields"),F(r,"id","displayListMode"),F(r,"class","col col-xs-12 col-sm-5 svelte-1a6rb9r")},m(e,s){M(e,r,s),A(r,n),A(n,i),i.checked=i.__value===t[0],A(n,o),A(n,a),A(n,l),A(n,u),u.checked=u.__value===t[0],A(n,c),A(n,h),f||(d=[C(i,"change",t[1]),C(u,"change",t[3])],f=!0)},p(t,[e]){1&e&&(i.checked=i.__value===t[0]),1&e&&(u.checked=u.__value===t[0])},i:e,o:e,d(e){e&&R(r),t[2][0].splice(t[2][0].indexOf(i),1),t[2][0].splice(t[2][0].indexOf(u),1),f=!1,s(d)}}}function o_(t,e,r){let{displayMode:n="grid"}=e;return t.$$set=t=>{"displayMode"in t&&r(0,n=t.displayMode)},[n,function(){n=this.__value,r(0,n)},[[]],function(){n=this.__value,r(0,n)}]}class a_ extends Nt{constructor(t){super(),kt(this,t,o_,s_,a,{displayMode:0})}}function l_(t){let e,r,n,i;return{c(){e=P("a"),r=P("i"),F(r,"class","fas fa-info-circle"),F(e,"class","info-button"),F(e,"href",n=hy(t[1])),F(e,"title",i="\t"+au(t[1])+" \n                  NFT address (click to view explorer)\r."+Ll(t[1])),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){2&r&&n!==(n=hy(t[1]))&&F(e,"href",n),2&r&&i!==(i="\t"+au(t[1])+" \n                  NFT address (click to view explorer)\r."+Ll(t[1]))&&F(e,"title",i)},d(t){t&&R(e)}}}function u_(t){let e,r;function n(t,r){return 6&r&&(e=null),null==e&&(e=!!jl(t[1].owner,t[2])),e?h_:c_}let i=n(t,-1),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,e){i===(i=n(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},d(t){s.d(t),t&&R(r)}}}function c_(t){let e,r,n;return{c(){e=P("a"),r=T("Buy"),F(e,"href",n=su(t[1].chainId,t[1])),F(e,"class","btn btn-small btn-buy"),F(e,"title","Buy"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){2&r&&n!==(n=su(t[1].chainId,t[1]))&&F(e,"href",n)},d(t){t&&R(e)}}}function h_(t){let e,r,n;return{c(){e=P("a"),r=T("Sell"),F(e,"href",n=su(t[1].chainId,t[1])),F(e,"class","btn btn-small btn-sell"),F(e,"title","Sell"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){2&r&&n!==(n=su(t[1].chainId,t[1]))&&F(e,"href",n)},d(t){t&&R(e)}}}function f_(t){let e,r;return e=new ME({props:{nft:t[1],index:t[3]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};2&r&&(n.nft=t[1]),8&r&&(n.index=t[3]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function d_(t){let r,n,i,s,o,a,l;return{c(){r=P("li"),n=P("div"),n.innerHTML='<span class="label">Copy shortcode sell button</span>',i=O(),s=P("div"),o=P("button"),o.textContent="Shortcode",F(n,"class","flex"),F(o,"class","btn krd_shortcode_data"),F(s,"class","flex"),F(r,"class","complete")},m(e,u){M(e,r,u),A(r,n),A(r,i),A(r,s),A(s,o),a||(l=C(o,"click",t[7]),a=!0)},p:e,d(t){t&&R(r),a=!1,l()}}}function p_(t){let e,r,n,i,s,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x,I,S,$,L,j,z,G,q,H,V,J,W,X,K,Z,Y,Q,tt,et,rt,nt,it,st,ot,at,lt,ut,ct,ht,gt,vt,yt,_t,kt,Nt,At,xt,It,Mt,Rt,St,Pt,Tt,Ot,$t,Ct,Ft,Bt,Lt,Dt,Ut,jt,zt,Gt,qt,Ht,Vt,Jt,Wt,Xt,Kt,Zt,Yt,Qt,te,ee,re,ne,ie,se,oe,ae,le=ou(t[1])+"",ue=lu(t[1],64)+"",ce=Dl(t[1].tokenID)+"",he=au(t[1])+"",fe=iu(t[1].chainId,t[1].owner,15)+"",de=Ll(t[1],10)+"",pe=Ul(t[1].address,15)+"",me=Dl(t[1].ipfsJson)+"",ge=Dl(t[1].ipfs)+"";function ve(t,e){return 2&e&&(E=null),null==E&&(E=!!Pl(t[1].chainId)?.openSea),E?u_:l_}i=new NE({props:{nft:t[1],index:t[3],displayMode:m_}});let ye=ve(t,-1),be=ye(t),we=t[0]>0&&f_(t),Ee="wordpress"===t[4]&&d_(t);return re=new KE({props:{chainId:t[1].chainId,address:t[1].address,tokenID:t[1].tokenID}}),{c(){e=P("div"),r=P("div"),n=P("div"),bt(i.$$.fragment),s=O(),o=P("strong"),a=T(le),l=O(),u=P("span"),c=T(ue),f=O(),d=P("a"),p=P("i"),y=O(),b=P("div"),w=P("div"),be.c(),_=O(),k=P("span"),N=T("  "),x=P("strong"),I=T("#"),S=T(ce),z=O(),G=P("div"),q=P("div"),q.innerHTML='<div class="more-button"><i class="fas fa-chevron-down"></i></div>',V=O(),J=P("div"),we&&we.c(),W=O(),X=P("div"),K=P("strong"),K.textContent="Description",Z=O(),Y=P("p"),Q=T(he),tt=O(),et=P("ul"),rt=P("li"),nt=P("div"),nt.innerHTML='<span class="label">Owner</span>',it=O(),st=P("div"),ot=O(),at=P("li"),lt=P("div"),lt.innerHTML='<span class="label">Permanent Link</span>',ut=O(),ct=P("div"),ht=P("a"),vt=O(),yt=P("li"),_t=P("div"),_t.innerHTML='<span class="label">Collection @</span>',kt=O(),Nt=P("div"),At=P("a"),xt=T(pe),Mt=O(),Rt=P("li"),St=P("div"),St.innerHTML='<span class="label">Metadata IPFS</span>',Pt=O(),Tt=P("div"),Ot=P("a"),$t=T(me),Ft=O(),Bt=P("li"),Lt=P("div"),Lt.innerHTML='<span class="label">Image IPFS</span>',Dt=O(),Ut=P("div"),jt=P("a"),zt=T(ge),qt=O(),Ht=P("li"),Vt=P("div"),Jt=P("a"),Wt=P("i"),Xt=T(" Transfer"),Zt=O(),Ee&&Ee.c(),te=O(),ee=P("div"),bt(re.$$.fragment),F(u,"id",h="description-short-"+t[3]),U(u,"hidden",t[0]),F(p,"class","fas fa-info-circle"),F(d,"class","info-button"),F(d,"href",m=hy(t[1])),F(d,"title",g="\t"+au(t[1])+" \n                NFT address (click to view in explorer)\r."+Ll(t[1])),F(d,"target","_blank"),F(n,"class","table-col-content"),F(r,"id",v="media-"+t[3]),F(r,"class","table-col"),F(k,"id",$="token-id-"+t[3]),F(k,"title",L="  #"+t[1].tokenID),F(w,"class","table-col-content"),F(b,"id",j="marketplace-"+t[3]),F(b,"class","table-col"),F(q,"class","table-col-content txtright"),F(G,"id",H="more-"+t[3]),F(G,"class","table-col more"),F(nt,"class","flex"),F(st,"class","flex"),F(rt,"class","complete"),F(lt,"class","flex"),F(ht,"class","link"),F(ht,"href",gt=ru(t[1].chainId,t[1])),F(ht,"target","_blank"),F(ct,"class","flex"),F(at,"class","complete"),F(_t,"class","flex"),F(At,"class","link"),F(At,"href",It=eu(t[1].chainId,t[1]?.address)),F(At,"target","_blank"),F(Nt,"class","flex"),F(yt,"class","complete"),F(St,"class","flex"),F(Ot,"class","link"),F(Ot,"href",Ct=t[1].tokenURI),F(Ot,"target","_blank"),F(Tt,"class","flex"),F(Rt,"class","complete"),F(Lt,"class","flex"),F(jt,"class","link"),F(jt,"href",Gt=t[1].image),F(jt,"target","_blank"),F(Ut,"class","flex"),F(Bt,"class","complete"),F(Wt,"class","fas fa-gift"),F(Jt,"href",Kt="#transfert-$nft-"+t[1].tokenID),F(Jt,"class","btn btn-small btn-default"),F(Jt,"title","Transfer NFT"),F(Vt,"class","flex"),F(Ht,"class","complete"),F(et,"class","steps"),F(X,"id",Yt="description-"+t[3]),F(X,"class","description"),F(J,"id",Qt="more-detail-"+t[3]),F(J,"class","detail svelte-1g957vq"),F(ee,"id",ne="transfert-nft-"+t[1].tokenID),F(ee,"class","modal-window"),F(e,"id",ie="table-drop-"+t[3]),F(e,"class","table-row table-drop"),D(e,"height",t[0]?`${t[0]}px`:"auto"),U(e,"closed",!t[0])},m(h,m){M(h,e,m),A(e,r),A(r,n),wt(i,n,null),A(n,s),A(n,o),A(o,a),A(n,l),A(n,u),A(u,c),A(n,f),A(n,d),A(d,p),A(e,y),A(e,b),A(b,w),be.m(w,null),A(w,_),A(w,k),A(k,N),A(k,x),A(x,I),A(x,S),A(e,z),A(e,G),A(G,q),A(e,V),A(e,J),we&&we.m(J,null),A(J,W),A(J,X),A(X,K),A(X,Z),A(X,Y),A(Y,Q),A(X,tt),A(X,et),A(et,rt),A(rt,nt),A(rt,it),A(rt,st),st.innerHTML=fe,A(et,ot),A(et,at),A(at,lt),A(at,ut),A(at,ct),A(ct,ht),ht.innerHTML=de,A(et,vt),A(et,yt),A(yt,_t),A(yt,kt),A(yt,Nt),A(Nt,At),A(At,xt),A(et,Mt),A(et,Rt),A(Rt,St),A(Rt,Pt),A(Rt,Tt),A(Tt,Ot),A(Ot,$t),A(et,Ft),A(et,Bt),A(Bt,Lt),A(Bt,Dt),A(Bt,Ut),A(Ut,jt),A(jt,zt),A(et,qt),A(et,Ht),A(Ht,Vt),A(Vt,Jt),A(Jt,Wt),A(Jt,Xt),A(et,Zt),Ee&&Ee.m(et,null),A(e,te),A(e,ee),wt(re,ee,null),se=!0,oe||(ae=C(G,"click",t[6]),oe=!0)},p(t,[n]){const s={};2&n&&(s.nft=t[1]),8&n&&(s.index=t[3]),i.$set(s),(!se||2&n)&&le!==(le=ou(t[1])+"")&&B(a,le),(!se||2&n)&&ue!==(ue=lu(t[1],64)+"")&&B(c,ue),(!se||8&n&&h!==(h="description-short-"+t[3]))&&F(u,"id",h),1&n&&U(u,"hidden",t[0]),(!se||2&n&&m!==(m=hy(t[1])))&&F(d,"href",m),(!se||2&n&&g!==(g="\t"+au(t[1])+" \n                NFT address (click to view in explorer)\r."+Ll(t[1])))&&F(d,"title",g),(!se||8&n&&v!==(v="media-"+t[3]))&&F(r,"id",v),ye===(ye=ve(t,n))&&be?be.p(t,n):(be.d(1),be=ye(t),be&&(be.c(),be.m(w,_))),(!se||2&n)&&ce!==(ce=Dl(t[1].tokenID)+"")&&B(S,ce),(!se||8&n&&$!==($="token-id-"+t[3]))&&F(k,"id",$),(!se||2&n&&L!==(L="  #"+t[1].tokenID))&&F(k,"title",L),(!se||8&n&&j!==(j="marketplace-"+t[3]))&&F(b,"id",j),(!se||8&n&&H!==(H="more-"+t[3]))&&F(G,"id",H),t[0]>0?we?(we.p(t,n),1&n&&pt(we,1)):(we=f_(t),we.c(),pt(we,1),we.m(J,W)):we&&(ft(),mt(we,1,1,(()=>{we=null})),dt()),(!se||2&n)&&he!==(he=au(t[1])+"")&&B(Q,he),(!se||2&n)&&fe!==(fe=iu(t[1].chainId,t[1].owner,15)+"")&&(st.innerHTML=fe),(!se||2&n)&&de!==(de=Ll(t[1],10)+"")&&(ht.innerHTML=de),(!se||2&n&&gt!==(gt=ru(t[1].chainId,t[1])))&&F(ht,"href",gt),(!se||2&n)&&pe!==(pe=Ul(t[1].address,15)+"")&&B(xt,pe),(!se||2&n&&It!==(It=eu(t[1].chainId,t[1]?.address)))&&F(At,"href",It),(!se||2&n)&&me!==(me=Dl(t[1].ipfsJson)+"")&&B($t,me),(!se||2&n&&Ct!==(Ct=t[1].tokenURI))&&F(Ot,"href",Ct),(!se||2&n)&&ge!==(ge=Dl(t[1].ipfs)+"")&&B(zt,ge),(!se||2&n&&Gt!==(Gt=t[1].image))&&F(jt,"href",Gt),(!se||2&n&&Kt!==(Kt="#transfert-$nft-"+t[1].tokenID))&&F(Jt,"href",Kt),"wordpress"===t[4]?Ee?Ee.p(t,n):(Ee=d_(t),Ee.c(),Ee.m(et,null)):Ee&&(Ee.d(1),Ee=null),(!se||8&n&&Yt!==(Yt="description-"+t[3]))&&F(X,"id",Yt),(!se||8&n&&Qt!==(Qt="more-detail-"+t[3]))&&F(J,"id",Qt);const o={};2&n&&(o.chainId=t[1].chainId),2&n&&(o.address=t[1].address),2&n&&(o.tokenID=t[1].tokenID),re.$set(o),(!se||2&n&&ne!==(ne="transfert-nft-"+t[1].tokenID))&&F(ee,"id",ne),(!se||8&n&&ie!==(ie="table-drop-"+t[3]))&&F(e,"id",ie),(!se||1&n)&&D(e,"height",t[0]?`${t[0]}px`:"auto"),1&n&&U(e,"closed",!t[0])},i(t){se||(pt(i.$$.fragment,t),pt(we),pt(re.$$.fragment,t),se=!0)},o(t){mt(i.$$.fragment,t),mt(we),mt(re.$$.fragment,t),se=!1},d(t){t&&R(e),Et(i),be.d(),we&&we.d(),Ee&&Ee.d(),Et(re),oe=!1,ae()}}}let m_="list";function g_(t,e,r){let{nft:n}=e,{account:i}=e,{index:s=0}=e,{more:o=0}=e,{platform:a="dapp"}=e;const l=()=>{var t;r(0,o=o>0?0:((null===(t=document.getElementById(`more-detail-${s}`))||void 0===t?void 0:t.offsetHeight)||0)+70)};X((()=>-1==o&&l()));return t.$$set=t=>{"nft"in t&&r(1,n=t.nft),"account"in t&&r(2,i=t.account),"index"in t&&r(3,s=t.index),"more"in t&&r(0,o=t.more),"platform"in t&&r(4,a=t.platform)},t.$$.update=()=>{2&t.$$.dirty&&console.log("NftLine",n)},[o,n,i,s,a,l,()=>l(),()=>RE(n)]}class v_ extends Nt{constructor(t){super(),kt(this,t,g_,p_,a,{nft:1,account:2,index:3,more:0,platform:4})}}function y_(t,e,r){const n=t.slice();return n[5]=e[r],n}function b_(t){let e;return{c(){e=P("div"),e.innerHTML='<span class="label">Infos</span>',F(e,"class","table-col")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function w_(t){let e;return{c(){e=P("div"),e.innerHTML='<span class="label">Marketplace</span>',F(e,"class","table-col")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function E_(t){let e,r;return e=new v_({props:{nft:t[5],account:t[1],platform:t[3]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};16&r&&(n.nft=t[5]),2&r&&(n.account=t[1]),8&r&&(n.platform=t[3]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function __(t){let e,r,n,i,s,o,a;function l(t,e){return 1&e&&(s=null),null==s&&(s=!!Pl(t[0])?.openSea),s?w_:b_}let u=l(t,-1),c=u(t),h=[...t[4].values()],f=[];for(let e=0;e<h.length;e+=1)f[e]=E_(y_(t,h,e));const d=t=>mt(f[t],1,1,(()=>{f[t]=null}));return{c(){e=P("div"),r=P("div"),n=P("div"),n.innerHTML='<span class="label">Media</span>',i=O(),c.c(),o=O();for(let t=0;t<f.length;t+=1)f[t].c();F(n,"class","table-col"),F(r,"class","table-row table-head hidden-xs"),F(e,"class","table")},m(t,s){M(t,e,s),A(e,r),A(r,n),A(r,i),c.m(r,null),A(e,o);for(let t=0;t<f.length;t+=1)f[t].m(e,null);a=!0},p(t,[n]){if(u!==(u=l(t,n))&&(c.d(1),c=u(t),c&&(c.c(),c.m(r,null))),26&n){let r;for(h=[...t[4].values()],r=0;r<h.length;r+=1){const i=y_(t,h,r);f[r]?(f[r].p(i,n),pt(f[r],1)):(f[r]=E_(i),f[r].c(),pt(f[r],1),f[r].m(e,null))}for(ft(),r=h.length;r<f.length;r+=1)d(r);dt()}},i(t){if(!a){for(let t=0;t<h.length;t+=1)pt(f[t]);a=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)mt(f[t]);a=!1},d(t){t&&R(e),c.d(),S(f,t)}}}function k_(t,r,n){let i,s=e,o=()=>(s(),s=c(u,(t=>n(4,i=t))),u);t.$$.on_destroy.push((()=>s()));let{chainId:a}=r,{account:l}=r,{nfts:u}=r;o();let{platform:h="dapp"}=r;return t.$$set=t=>{"chainId"in t&&n(0,a=t.chainId),"account"in t&&n(1,l=t.account),"nfts"in t&&o(n(2,u=t.nfts)),"platform"in t&&n(3,h=t.platform)},[a,l,u,h,i]}class N_ extends Nt{constructor(t){super(),kt(this,t,k_,__,a,{chainId:0,account:1,nfts:2,platform:3})}}function A_(t){let e,r;function n(t,r){return 3&r&&(e=null),null==e&&(e=!!jl(t[0].owner,t[1])),e?I_:x_}let i=n(t,-1),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,e){i===(i=n(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},d(t){s.d(t),t&&R(r)}}}function x_(t){let e,r,n;return{c(){e=P("a"),r=T("Buy"),F(e,"href",n=su(t[0].chainId,t[0])),F(e,"class","btn btn-small btn-buy"),F(e,"title","Buy"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){1&r&&n!==(n=su(t[0].chainId,t[0]))&&F(e,"href",n)},d(t){t&&R(e)}}}function I_(t){let e,r,n;return{c(){e=P("a"),r=T("Sell"),F(e,"href",n=su(t[0].chainId,t[0])),F(e,"class","btn btn-small btn-sell"),F(e,"title","Sell"),F(e,"target","_blank")},m(t,n){M(t,e,n),A(e,r)},p(t,r){1&r&&n!==(n=su(t[0].chainId,t[0]))&&F(e,"href",n)},d(t){t&&R(e)}}}function M_(t){let e,r,n,i,s,o,a,l,u,c,h=ou(t[0])+"",f=Pl(t[0].chainId)?.openSea;n=new NE({props:{nft:t[0],index:t[2],displayMode:R_}});let d=f&&A_(t);return{c(){e=P("div"),r=P("div"),bt(n.$$.fragment),i=O(),s=P("div"),o=P("h3"),a=T(h),l=O(),d&&d.c(),F(o,"class","svelte-1lycm4b"),F(s,"class","caption"),F(r,"class","grid-card-krd svelte-1lycm4b"),F(r,"data-tokenid",u=t[0]?.tokenID),F(e,"class","col col-xs-12 col-sm-6 col-md-4 col-lg-3")},m(t,u){M(t,e,u),A(e,r),wt(n,r,null),A(r,i),A(r,s),A(s,o),A(o,a),A(s,l),d&&d.m(s,null),c=!0},p(t,[e]){const i={};1&e&&(i.nft=t[0]),4&e&&(i.index=t[2]),n.$set(i),(!c||1&e)&&h!==(h=ou(t[0])+"")&&B(a,h),1&e&&(f=Pl(t[0].chainId)?.openSea),f?d?d.p(t,e):(d=A_(t),d.c(),d.m(s,null)):d&&(d.d(1),d=null),(!c||1&e&&u!==(u=t[0]?.tokenID))&&F(r,"data-tokenid",u)},i(t){c||(pt(n.$$.fragment,t),c=!0)},o(t){mt(n.$$.fragment,t),c=!1},d(t){t&&R(e),Et(n),d&&d.d()}}}let R_="grid";function S_(t,e,r){let{nft:n}=e,{account:i}=e,{index:s}=e;return t.$$set=t=>{"nft"in t&&r(0,n=t.nft),"account"in t&&r(1,i=t.account),"index"in t&&r(2,s=t.index)},t.$$.update=()=>{1&t.$$.dirty&&console.log("NftGrid",n)},[n,i,s]}class P_ extends Nt{constructor(t){super(),kt(this,t,S_,M_,a,{nft:0,account:1,index:2})}}function T_(t,e,r){const n=t.slice();return n[4]=e[r],n[6]=r,n}function O_(t){let e,r;return e=new P_({props:{nft:t[4],account:t[0],index:t[6]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.nft=t[4]),1&r&&(n.account=t[0]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function $_(t){let e,r,n=[...t[2].values()],i=[];for(let e=0;e<n.length;e+=1)i[e]=O_(T_(t,n,e));const s=t=>mt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=P("div");for(let t=0;t<i.length;t+=1)i[t].c();F(e,"class","row grid-krd")},m(t,n){M(t,e,n);for(let t=0;t<i.length;t+=1)i[t].m(e,null);r=!0},p(t,[r]){if(5&r){let o;for(n=[...t[2].values()],o=0;o<n.length;o+=1){const s=T_(t,n,o);i[o]?(i[o].p(s,r),pt(i[o],1)):(i[o]=O_(s),i[o].c(),pt(i[o],1),i[o].m(e,null))}for(ft(),o=n.length;o<i.length;o+=1)s(o);dt()}},i(t){if(!r){for(let t=0;t<n.length;t+=1)pt(i[t]);r=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)mt(i[t]);r=!1},d(t){t&&R(e),S(i,t)}}}function C_(t,r,n){let i,s=e,o=()=>(s(),s=c(l,(t=>n(2,i=t))),l);t.$$.on_destroy.push((()=>s()));let{account:a}=r,{nfts:l}=r;return o(),function(t,e){W().$$.context.set(t,e)}("toPlayIndex",Ym()),t.$$set=t=>{"account"in t&&n(0,a=t.account),"nfts"in t&&o(n(1,l=t.nfts))},[a,l,i]}class F_ extends Nt{constructor(t){super(),kt(this,t,C_,$_,a,{account:0,nfts:1})}}function B_(t){let r,n;function i(t,e){return t[0]?U_:D_}let s=i(t),o=s(t);return{c(){r=P("div"),n=P("p"),o.c(),F(r,"class","card-krd")},m(t,e){M(t,r,e),A(r,n),o.m(n,null)},p(t,e){s===(s=i(t))&&o?o.p(t,e):(o.d(1),o=s(t),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(t){t&&R(r),o.d()}}}function L_(t){let e,r,n,i,s,o,a,l,u,c,h,f,d,p,m,g,v,y,b,w,E,_,k,N,x,I,S,C=t[8]?.name+"",L=(t[9]?.size||0)+"",D=(t[8]?.balancesOf?.get(t[3])||t[9]?.size||0)+"",U=(t[8]?.symbol||"NFT")+"",j=t[0]&&j_();function z(e){t[11](e)}let G={};void 0!==t[5]&&(G.displayMode=t[5]),E=new a_({props:G}),Z.push((()=>yt(E,"displayMode",z)));const q=[G_,z_],H=[];function V(t,e){return"list"===t[5]?0:"grid"===t[5]?1:-1}return~(N=V(t))&&(x=H[N]=q[N](t)),{c(){e=P("div"),r=P("div"),n=P("h2"),i=T("Collection '"),s=T(C),o=T("'"),a=O(),l=T(L),u=T("/"),c=T(D),h=O(),f=T(U),d=O(),j&&j.c(),p=O(),m=P("a"),g=P("i"),b=O(),w=P("div"),bt(E.$$.fragment),k=O(),x&&x.c(),I=$(),F(g,"class","fas fa-info-circle"),F(m,"class","info-button"),F(m,"href",v=eu(t[1],t[2])),F(m,"title",y="\tCollection address (click to view in explorer)\r\n      "+Bl(t[1],t[2])),F(m,"target","_blank"),F(r,"class","col col-xs-12"),F(w,"class","col col-xs-12"),F(e,"class","row alignbottom")},m(t,v){M(t,e,v),A(e,r),A(r,n),A(n,i),A(n,s),A(n,o),A(r,a),A(r,l),A(r,u),A(r,c),A(r,h),A(r,f),A(r,d),j&&j.m(r,null),A(r,p),A(r,m),A(m,g),A(e,b),A(e,w),wt(E,w,null),M(t,k,v),~N&&H[N].m(t,v),M(t,I,v),S=!0},p(t,e){(!S||256&e)&&C!==(C=t[8]?.name+"")&&B(s,C),(!S||512&e)&&L!==(L=(t[9]?.size||0)+"")&&B(l,L),(!S||776&e)&&D!==(D=(t[8]?.balancesOf?.get(t[3])||t[9]?.size||0)+"")&&B(c,D),(!S||256&e)&&U!==(U=(t[8]?.symbol||"NFT")+"")&&B(f,U),t[0]?j||(j=j_(),j.c(),j.m(r,p)):j&&(j.d(1),j=null),(!S||6&e&&v!==(v=eu(t[1],t[2])))&&F(m,"href",v),(!S||6&e&&y!==(y="\tCollection address (click to view in explorer)\r\n      "+Bl(t[1],t[2])))&&F(m,"title",y);const n={};!_&&32&e&&(_=!0,n.displayMode=t[5],nt((()=>_=!1))),E.$set(n);let i=N;N=V(t),N===i?~N&&H[N].p(t,e):(x&&(ft(),mt(H[i],1,1,(()=>{H[i]=null})),dt()),~N?(x=H[N],x?x.p(t,e):(x=H[N]=q[N](t),x.c()),pt(x,1),x.m(I.parentNode,I)):x=null)},i(t){S||(pt(E.$$.fragment,t),pt(x),S=!0)},o(t){mt(E.$$.fragment,t),mt(x),S=!1},d(t){t&&R(e),j&&j.d(),Et(E),t&&R(k),~N&&H[N].d(t),t&&R(I)}}}function D_(t){let r;return{c(){r=T("No NFTs ✌️")},m(t,e){M(t,r,e)},p:e,d(t){t&&R(r)}}}function U_(t){let e,r,n,i,s,o=t[8]?.name+"";return{c(){e=P("h2"),r=T("Collection '"),n=T(o),i=T("'"),s=T("\n        Refreshing NFTs...")},m(t,o){M(t,e,o),A(e,r),A(e,n),A(e,i),M(t,s,o)},p(t,e){256&e&&o!==(o=t[8]?.name+"")&&B(n,o)},d(t){t&&R(e),t&&R(s)}}}function j_(t){let e;return{c(){e=T("...")},m(t,r){M(t,e,r)},d(t){t&&R(e)}}}function z_(t){let e,r;return e=new F_({props:{account:t[3],nfts:t[6]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};8&r&&(n.account=t[3]),64&r&&(n.nfts=t[6]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function G_(t){let e,r;return e=new N_({props:{chainId:t[1],account:t[3],nfts:t[6],platform:t[4]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};2&r&&(n.chainId=t[1]),8&r&&(n.account=t[3]),64&r&&(n.nfts=t[6]),16&r&&(n.platform=t[4]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function q_(t){let e,r,n,i;const s=[L_,B_],o=[];function a(t,e){return t[8]&&t[6]?0:1}return e=a(t),r=o[e]=s[e](t),{c(){r.c(),n=$()},m(t,r){o[e].m(t,r),M(t,n,r),i=!0},p(t,[i]){let l=e;e=a(t),e===l?o[e].p(t,i):(ft(),mt(o[l],1,1,(()=>{o[l]=null})),dt(),r=o[e],r?r.p(t,i):(r=o[e]=s[e](t),r.c()),pt(r,1),r.m(n.parentNode,n))},i(t){i||(pt(r),i=!0)},o(t){mt(r),i=!1},d(t){o[e].d(t),t&&R(n)}}}function H_(t,r,n){let i,s,o=e,a=e;t.$$.on_destroy.push((()=>o())),t.$$.on_destroy.push((()=>a()));let l,u,{chainId:h}=r,{address:f}=r,{account:d}=r,{refreshing:p}=r,{refresh:m=1}=r,{platform:g="dapp"}=r,v="grid";const y=async()=>{n(7,u=Fv.getOneStore(h,f)),o(),o=c(u,(t=>n(8,i=t))),n(6,l=jE.getSubListStore(h,f,d)),a(),a=c(l,(t=>n(9,s=t))),n(0,p=!0),await jE.refreshSubList(h,f,d),n(0,p=!1)};return t.$$set=t=>{"chainId"in t&&n(1,h=t.chainId),"address"in t&&n(2,f=t.address),"account"in t&&n(3,d=t.account),"refreshing"in t&&n(0,p=t.refreshing),"refresh"in t&&n(10,m=t.refresh),"platform"in t&&n(4,g=t.platform)},t.$$.update=()=>{1038&t.$$.dirty&&h&&f&&d&&y()},[p,h,f,d,g,v,l,u,i,s,m,function(t){v=t,n(5,v)}]}class V_ extends Nt{constructor(t){super(),kt(this,t,H_,q_,a,{chainId:1,address:2,account:3,refreshing:0,refresh:10,platform:4})}}function J_(t){let r,n,i=t[2],s=X_(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e),n=!0},p(t,n){4&n&&a(i,i=t[2])?(ft(),mt(s,1,1,e),dt(),s=X_(t),s.c(),pt(s),s.m(r.parentNode,r)):s.p(t,n)},i(t){n||(pt(s),n=!0)},o(t){mt(s),n=!1},d(t){t&&R(r),s.d(t)}}}function W_(t){let e,r;return e=new i_({props:{chainId:t[1],address:t[2],tokenID:t[6],account:t[3],platform:t[4]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};2&r&&(n.chainId=t[1]),4&r&&(n.address=t[2]),64&r&&(n.tokenID=t[6]),8&r&&(n.account=t[3]),16&r&&(n.platform=t[4]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function X_(t){let e,r,n;function i(e){t[8](e)}let s={chainId:t[1],address:t[2],account:t[3],refresh:t[5],platform:t[4]};return void 0!==t[0]&&(s.refreshing=t[0]),e=new V_({props:s}),Z.push((()=>yt(e,"refreshing",i))),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const i={};2&n&&(i.chainId=t[1]),4&n&&(i.address=t[2]),8&n&&(i.account=t[3]),32&n&&(i.refresh=t[5]),16&n&&(i.platform=t[4]),!r&&1&n&&(r=!0,i.refreshing=t[0],nt((()=>r=!1))),e.$set(i)},i(t){n||(pt(e.$$.fragment,t),n=!0)},o(t){mt(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function K_(t){let e,r,n,i,s,o;const a=[W_,J_],l=[];function u(t,e){return t[6]?0:1}return r=u(t),n=l[r]=a[r](t),{c(){e=P("div"),n.c()},m(n,a){M(n,e,a),l[r].m(e,null),i=!0,s||(o=C(e,"click",t[9]),s=!0)},p(t,[i]){let s=r;r=u(t),r===s?l[r].p(t,i):(ft(),mt(l[s],1,1,(()=>{l[s]=null})),dt(),n=l[r],n?n.p(t,i):(n=l[r]=a[r](t),n.c()),pt(n,1),n.m(e,null))},i(t){i||(pt(n),i=!0)},o(t){mt(n),i=!1},d(t){t&&R(e),l[r].d(),s=!1,o()}}}function Z_(t,e,r){let{chainId:n}=e,{address:i}=e,{account:s}=e,{platform:o="dapp"}=e,{refreshing:a=!1}=e,{refresh:l}=e,u="";const c=t=>{const e=t.target;e.classList.contains("btn")||e.classList.contains("video-play-icon")||(e.closest("div [data-tokenid]")?(t.preventDefault(),r(6,u=e.closest("div [data-tokenid]").getAttribute("data-tokenid"))):"backtocoll"===e.getAttribute("data-back")&&(t.preventDefault(),r(6,u="")))};return t.$$set=t=>{"chainId"in t&&r(1,n=t.chainId),"address"in t&&r(2,i=t.address),"account"in t&&r(3,s=t.account),"platform"in t&&r(4,o=t.platform),"refreshing"in t&&r(0,a=t.refreshing),"refresh"in t&&r(5,l=t.refresh)},t.$$.update=()=>{14&t.$$.dirty&&s&&n&&i&&r(6,u="")},[a,n,i,s,o,l,u,c,function(t){a=t,r(0,a)},t=>c(t)]}class Y_ extends Nt{constructor(t){super(),kt(this,t,Z_,K_,a,{chainId:1,address:2,account:3,platform:4,refreshing:0,refresh:5})}}function Q_(t){let r,n,i;return n=new nb({}),{c(){r=P("span"),bt(n.$$.fragment),F(r,"slot","nav")},m(t,e){M(t,r,e),wt(n,r,null),i=!0},p:e,i(t){i||(pt(n.$$.fragment,t),i=!0)},o(t){mt(n.$$.fragment,t),i=!1},d(t){t&&R(r),Et(n)}}}function tk(t){let e,r;return e=new eb({props:{chainId:t[1]}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,r){const n={};2&r&&(n.chainId=t[1]),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function ek(t){let e,r,n,i,s,o=t[3]&&t[2]&&mu(t[1]);function a(e){t[9](e)}let l={chainId:t[1],account:t[3]};void 0!==t[2]&&(l.address=t[2]),e=new ly({props:l}),Z.push((()=>yt(e,"address",a)));let u=o&&rk(t);return{c(){bt(e.$$.fragment),n=O(),u&&u.c(),i=$()},m(t,r){wt(e,t,r),M(t,n,r),u&&u.m(t,r),M(t,i,r),s=!0},p(t,n){const s={};2&n&&(s.chainId=t[1]),8&n&&(s.account=t[3]),!r&&4&n&&(r=!0,s.address=t[2],nt((()=>r=!1))),e.$set(s),14&n&&(o=t[3]&&t[2]&&mu(t[1])),o?u?(u.p(t,n),14&n&&pt(u,1)):(u=rk(t),u.c(),pt(u,1),u.m(i.parentNode,i)):u&&(ft(),mt(u,1,1,(()=>{u=null})),dt())},i(t){s||(pt(e.$$.fragment,t),pt(u),s=!0)},o(t){mt(e.$$.fragment,t),mt(u),s=!1},d(t){Et(e,t),t&&R(n),u&&u.d(t),t&&R(i)}}}function rk(t){let e,r,n;function i(e){t[10](e)}let s={refreshing:t[4]};return void 0!==t[5]&&(s.refresh=t[5]),e=new ob({props:s}),Z.push((()=>yt(e,"refresh",i))),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const i={};16&n&&(i.refreshing=t[4]),!r&&32&n&&(r=!0,i.refresh=t[5],nt((()=>r=!1))),e.$set(i)},i(t){n||(pt(e.$$.fragment,t),n=!0)},o(t){mt(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function nk(t){let e,r,n,i,s,o,a,l,u,c,h,f,d=t[3]&&Fl(t[1]);r=new Yw({});let p=d&&tk(t);function m(e){t[7](e)}let g={};function v(e){t[8](e)}void 0!==t[3]&&(g.account=t[3]),o=new Rg({props:g}),Z.push((()=>yt(o,"account",m)));let y={};void 0!==t[1]&&(y.chainId=t[1]),u=new rv({props:y}),Z.push((()=>yt(u,"chainId",v)));let b=t[1]&&t[3]&&ek(t);return{c(){e=P("span"),bt(r.$$.fragment),n=O(),p&&p.c(),i=O(),s=P("div"),bt(o.$$.fragment),l=O(),bt(u.$$.fragment),h=O(),b&&b.c(),F(s,"class","row alignbottom svelte-791ngy"),F(e,"slot","header")},m(t,a){M(t,e,a),wt(r,e,null),A(e,n),p&&p.m(e,null),A(e,i),A(e,s),wt(o,s,null),A(s,l),wt(u,s,null),A(s,h),b&&b.m(s,null),f=!0},p(t,r){10&r&&(d=t[3]&&Fl(t[1])),d?p?(p.p(t,r),10&r&&pt(p,1)):(p=tk(t),p.c(),pt(p,1),p.m(e,i)):p&&(ft(),mt(p,1,1,(()=>{p=null})),dt());const n={};!a&&8&r&&(a=!0,n.account=t[3],nt((()=>a=!1))),o.$set(n);const l={};!c&&2&r&&(c=!0,l.chainId=t[1],nt((()=>c=!1))),u.$set(l),t[1]&&t[3]?b?(b.p(t,r),10&r&&pt(b,1)):(b=ek(t),b.c(),pt(b,1),b.m(s,null)):b&&(ft(),mt(b,1,1,(()=>{b=null})),dt())},i(t){f||(pt(r.$$.fragment,t),pt(p),pt(o.$$.fragment,t),pt(u.$$.fragment,t),pt(b),f=!0)},o(t){mt(r.$$.fragment,t),mt(p),mt(o.$$.fragment,t),mt(u.$$.fragment,t),mt(b),f=!1},d(t){t&&R(e),Et(r),p&&p.d(),Et(o),Et(u),b&&b.d()}}}function ik(t){let e,r,n;function i(e){t[6](e)}let s={chainId:t[1],address:t[2],account:t[3],platform:t[0],refresh:t[5]};return void 0!==t[4]&&(s.refreshing=t[4]),e=new Y_({props:s}),Z.push((()=>yt(e,"refreshing",i))),{c(){bt(e.$$.fragment)},m(t,r){wt(e,t,r),n=!0},p(t,n){const i={};2&n&&(i.chainId=t[1]),4&n&&(i.address=t[2]),8&n&&(i.account=t[3]),1&n&&(i.platform=t[0]),32&n&&(i.refresh=t[5]),!r&&16&n&&(r=!0,i.refreshing=t[4],nt((()=>r=!1))),e.$set(i)},i(t){n||(pt(e.$$.fragment,t),n=!0)},o(t){mt(e.$$.fragment,t),n=!1},d(t){Et(e,t)}}}function sk(t){let e,r,n=t[1]&&t[3]&&t[2]&&ik(t);return{c(){e=P("span"),n&&n.c(),F(e,"slot","content")},m(t,i){M(t,e,i),n&&n.m(e,null),r=!0},p(t,r){t[1]&&t[3]&&t[2]?n?(n.p(t,r),14&r&&pt(n,1)):(n=ik(t),n.c(),pt(n,1),n.m(e,null)):n&&(ft(),mt(n,1,1,(()=>{n=null})),dt())},i(t){r||(pt(n),r=!0)},o(t){mt(n),r=!1},d(t){t&&R(e),n&&n.d()}}}function ok(t){let e,r;return e=new aE({props:{$$slots:{content:[sk],header:[nk],nav:[Q_]},$$scope:{ctx:t}}}),{c(){bt(e.$$.fragment)},m(t,n){wt(e,t,n),r=!0},p(t,[r]){const n={};2111&r&&(n.$$scope={dirty:r,ctx:t}),e.$set(n)},i(t){r||(pt(e.$$.fragment,t),r=!0)},o(t){mt(e.$$.fragment,t),r=!1},d(t){Et(e,t)}}}function ak(t,e,r){let n,i,s,o,a,{platform:l="dapp"}=e;return t.$$set=t=>{"platform"in t&&r(0,l=t.platform)},[l,n,i,s,o,a,function(t){o=t,r(4,o)},function(t){s=t,r(3,s)},function(t){n=t,r(1,n)},function(t){i=t,r(2,i)},function(t){a=t,r(5,a)}]}class lk extends Nt{constructor(t){super(),kt(this,t,ak,ok,a,{platform:0})}}function uk(t){let e,r,n;return{c(){e=P("img"),n=P("br"),u(e.src,r=t[0])||F(e,"src",r),F(e,"alt",t[1]),F(e,"width",t[3])},m(t,r){M(t,e,r),M(t,n,r)},p(t,n){1&n&&!u(e.src,r=t[0])&&F(e,"src",r),2&n&&F(e,"alt",t[1]),8&n&&F(e,"width",t[3])},d(t){t&&R(e),t&&R(n)}}}function ck(t){let r,n,i,s;return i=new Rg({}),{c(){r=P("small"),n=P("br"),bt(i.$$.fragment)},m(t,e){M(t,r,e),A(r,n),wt(i,r,null),s=!0},p:e,i(t){s||(pt(i.$$.fragment,t),s=!0)},o(t){mt(i.$$.fragment,t),s=!1},d(t){t&&R(r),Et(i)}}}function hk(t){let r;function n(t,e){return t[8]?dk:fk}let i=n(t),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,e){i===(i=n(t))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},i:e,o:e,d(t){s.d(t),t&&R(r)}}}function fk(t){let e,r,n,i,s;return{c(){e=P("button"),r=T("MINT NFT"),F(e,"id",n="mint-button-"+(t[2]||"0")),F(e,"class","btn btn-small btn-mint svelte-jsgrj9")},m(n,o){M(n,e,o),A(e,r),i||(s=C(e,"click",t[13]),i=!0)},p(t,r){4&r&&n!==(n="mint-button-"+(t[2]||"0"))&&F(e,"id",n)},d(t){t&&R(e),i=!1,s()}}}function dk(t){let e;function r(t,e){return t[7]?mk:1<=t[8]&&t[8]<=5?pk:void 0}let n=r(t),i=n&&n(t);return{c(){i&&i.c(),e=$()},m(t,r){i&&i.m(t,r),M(t,e,r)},p(t,s){n===(n=r(t))&&i?i.p(t,s):(i&&i.d(1),i=n&&n(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i&&i.d(t),t&&R(e)}}}function pk(t){let e,r,n,i,s,o,a,l,u,c=py[t[8]]+"";return{c(){e=P("div"),r=P("button"),n=T("MINTING "),i=T(t[8]),s=T("..."),o=O(),a=P("div"),l=P("em"),u=T(c),F(r,"id","mint-button"),F(r,"class","btn btn-small btn-minting svelte-jsgrj9")},m(t,c){M(t,e,c),A(e,r),A(r,n),A(r,i),A(r,s),M(t,o,c),M(t,a,c),A(a,l),A(l,u)},p(t,e){256&e&&B(i,t[8]),256&e&&c!==(c=py[t[8]]+"")&&B(u,c)},d(t){t&&R(e),t&&R(o),t&&R(a)}}}function mk(t){let e,r;function n(t,r){return 32&r&&(e=null),null==e&&(e=!!Pl(t[5])?.openSea),e?vk:gk}let i=n(t,-1),s=i(t);return{c(){s.c(),r=$()},m(t,e){s.m(t,e),M(t,r,e)},p(t,e){i===(i=n(t,e))&&s?s.p(t,e):(s.d(1),s=i(t),s&&(s.c(),s.m(r.parentNode,r)))},d(t){s.d(t),t&&R(r)}}}function gk(t){let r,n,i;return{c(){r=P("button"),r.textContent="VIEW NFT",F(r,"class","btn btn-small btn-sell svelte-jsgrj9"),F(r,"title","View in Explorer")},m(e,s){M(e,r,s),n||(i=C(r,"click",t[12]),n=!0)},p:e,d(t){t&&R(r),n=!1,i()}}}function vk(t){let r,n,i;return{c(){r=P("button"),r.textContent="SELL NFT",F(r,"class","btn btn-small btn-sell svelte-jsgrj9"),F(r,"title","Sell on OpenSea")},m(e,s){M(e,r,s),n||(i=C(r,"click",t[11]),n=!0)},p:e,d(t){t&&R(r),n=!1,i()}}}function yk(t){let e,r,n,i,s,o,a=Gl(t[0],`${t[0]}@${t[1]}`)+"",l=Wl(t[9])+"";return{c(){e=P("small"),r=P("br"),n=T(a),i=O(),s=P("br"),o=T(l)},m(t,a){M(t,e,a),A(e,r),A(e,n),A(e,i),A(e,s),A(e,o)},p(t,e){3&e&&a!==(a=Gl(t[0],`${t[0]}@${t[1]}`)+"")&&B(n,a),512&e&&l!==(l=Wl(t[9])+"")&&B(o,l)},d(t){t&&R(e)}}}function bk(t){let e,r,n,i,s,o,a=t[4]&&t[0]&&uk(t);const l=[hk,ck],u=[];function c(t,e){return t[6]?0:1}n=c(t),i=u[n]=l[n](t);let h=t[4]&&yk(t);return{c(){e=P("main"),a&&a.c(),r=O(),i.c(),s=O(),h&&h.c(),F(e,"id","kredeum-mint")},m(t,i){M(t,e,i),a&&a.m(e,null),A(e,r),u[n].m(e,null),A(e,s),h&&h.m(e,null),o=!0},p(t,[o]){t[4]&&t[0]?a?a.p(t,o):(a=uk(t),a.c(),a.m(e,r)):a&&(a.d(1),a=null);let f=n;n=c(t),n===f?u[n].p(t,o):(ft(),mt(u[f],1,1,(()=>{u[f]=null})),dt(),i=u[n],i?i.p(t,o):(i=u[n]=l[n](t),i.c()),pt(i,1),i.m(e,s)),t[4]?h?h.p(t,o):(h=yk(t),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i(t){o||(pt(i),o=!0)},o(t){mt(i),o=!1},d(t){t&&R(e),a&&a.d(),u[n].d(),h&&h.d()}}}function wk(t,r,n){let i,s,o,a=e;f(t,eg,(t=>n(5,s=t))),f(t,ig,(t=>n(6,o=t))),t.$$.on_destroy.push((()=>a()));let l,u,h,d,p,{src:m}=r,{alt:g}=r,{pid:v}=r,{metadata:y="{}"}=r,{width:b=100}=r,{display:w=!1}=r;const E=async()=>{d=await o.getAddress(),console.log("handleChange",s,d),n(10,p=Fv.getDefaultSubStore(s,!0,d)),a(),a=c(p,(t=>n(16,i=t))),console.log("handleChange ~ address",i)};return t.$$set=t=>{"src"in t&&n(0,m=t.src),"alt"in t&&n(1,g=t.alt),"pid"in t&&n(2,v=t.pid),"metadata"in t&&n(14,y=t.metadata),"width"in t&&n(3,b=t.width),"display"in t&&n(4,w=t.display)},t.$$.update=()=>{96&t.$$.dirty&&s&&o&&E().catch(console.error)},[m,g,v,b,w,s,o,l,u,h,p,t=>{t.preventDefault(),location.href=su(s,l)},t=>{t.preventDefault(),location.href=hy(l)},async t=>{t.preventDefault(),n(9,h=null),n(7,l=null);const e=await o.getAddress();if(m&&i){n(8,u=1),n(9,h=await my(m)),n(8,u=2);const t=await gy(g,h,e,m,y);n(8,u=3);const r=await vy(s,i,t,o);n(8,u=4),n(7,l=await yy(s,i,r,t,e)),n(8,u=5)}else console.error("KredeumNftsMint ERROR : no src or collection address, impossible to mint!",m,i);return l},y]}class Ek extends Nt{constructor(t){super(),kt(this,t,wk,bk,a,{src:0,alt:1,pid:2,metadata:14,width:3,display:4})}}function _k(t){let e,r,n,i;function s(e){t[6](e)}let o={chainId:t[3],account:t[2],txt:t[1],mintable:!0};return void 0!==t[0]&&(o.address=t[0]),r=new ly({props:o}),Z.push((()=>yt(r,"address",s))),{c(){e=P("p"),bt(r.$$.fragment)},m(t,n){M(t,e,n),wt(r,e,null),i=!0},p(t,e){const i={};8&e&&(i.chainId=t[3]),4&e&&(i.account=t[2]),2&e&&(i.txt=t[1]),!n&&1&e&&(n=!0,i.address=t[0],nt((()=>n=!1))),r.$set(i)},i(t){i||(pt(r.$$.fragment,t),i=!0)},o(t){mt(r.$$.fragment,t),i=!1},d(t){t&&R(e),Et(r)}}}function kk(t){let e,r,n,i,s,o,a,l,u,c;function h(e){t[4](e)}let f={txt:t[1]};function d(e){t[5](e)}void 0!==t[2]&&(f.account=t[2]),r=new Rg({props:f}),Z.push((()=>yt(r,"account",h)));let p={txt:t[1]};void 0!==t[3]&&(p.chainId=t[3]),o=new rv({props:p}),Z.push((()=>yt(o,"chainId",d)));let m=t[3]&&t[2]&&_k(t);return{c(){e=P("p"),bt(r.$$.fragment),i=O(),s=P("p"),bt(o.$$.fragment),l=O(),m&&m.c(),u=$()},m(t,n){M(t,e,n),wt(r,e,null),M(t,i,n),M(t,s,n),wt(o,s,null),M(t,l,n),m&&m.m(t,n),M(t,u,n),c=!0},p(t,[e]){const i={};2&e&&(i.txt=t[1]),!n&&4&e&&(n=!0,i.account=t[2],nt((()=>n=!1))),r.$set(i);const s={};2&e&&(s.txt=t[1]),!a&&8&e&&(a=!0,s.chainId=t[3],nt((()=>a=!1))),o.$set(s),t[3]&&t[2]?m?(m.p(t,e),12&e&&pt(m,1)):(m=_k(t),m.c(),pt(m,1),m.m(u.parentNode,u)):m&&(ft(),mt(m,1,1,(()=>{m=null})),dt())},i(t){c||(pt(r.$$.fragment,t),pt(o.$$.fragment,t),pt(m),c=!0)},o(t){mt(r.$$.fragment,t),mt(o.$$.fragment,t),mt(m),c=!1},d(t){t&&R(e),Et(r),t&&R(i),t&&R(s),Et(o),t&&R(l),m&&m.d(t),t&&R(u)}}}function Nk(t,e,r){let n,i,{address:s}=e,{txt:o=!0}=e;return t.$$set=t=>{"address"in t&&r(0,s=t.address),"txt"in t&&r(1,o=t.txt)},[s,o,n,i,function(t){n=t,r(2,n)},function(t){i=t,r(3,i)},function(t){s=t,r(0,s)}]}class Ak extends Nt{constructor(t){super(),kt(this,t,Nk,kk,a,{address:0,txt:1})}}const xk=t=>{const e={};return Array.from((null==t?void 0:t.attributes)||[]).forEach((t=>{let r=null==t?void 0:t.name;"chainid"===r?r="chainId":"id"!==r&&"class"!==r||(r=null),r&&(e[r]=t.value)})),e};t.kredeumHome=void 0;{const e=document.querySelector("#kredeum-app");e&&(t.kredeumHome=new lk({target:e,props:xk(e)}))}const Ik=[];{const t=document.querySelectorAll(".kredeum-nfts-mint");null==t||t.forEach(((t,e)=>{Ik[e]=new Ek({target:t,props:xk(t)})}))}t.kredeumCollectionList=void 0;{const e=document.querySelector("#kredeum-select-collection");e&&(t.kredeumCollectionList=new Ak({target:e,props:xk(e)}))}t.network=void 0;{const e=document.querySelector("#kredeum-metamask");e&&(t.network=new rv({target:e,props:xk(e)}))}return t.kredeumMintButton=Ik,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
